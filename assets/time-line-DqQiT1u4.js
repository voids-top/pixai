import{r as o,s as h}from"./vendor-apollo-B9XqHIAo.js";import{j as t}from"./vendor-motion-Bl2lDopP.js";import{lC as g,lD as p,lE as k,lF as x,lG as v,gT as w,ag as m,cS as y,jX as b,af as M,hK as E,lH as C,l0 as T}from"./index-JhqgbpkX.js";import{bc as j,bd as S,g as I}from"./vendor-graphql-DeSYh9DC.js";import{g as L}from"./vendor-lodash-992l3ZN7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"0ec442be81a4ee21bfcf5745e8ef10bc76836958"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="e1bdf3e8-7841-4771-ae77-0e4d5a52cd3a",e._sentryDebugIdIdentifier="sentry-dbid-e1bdf3e8-7841-4771-ae77-0e4d5a52cd3a")})()}catch{}(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];if(n!=null)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l])}return a}({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}catch{}})();function N(){const e=o.useRef(null),[a,s]=o.useState(!1);return{ref:o.useCallback(l=>{typeof IntersectionObserver<"u"&&(l&&!e.current?e.current=new IntersectionObserver(i=>s(i.some(c=>c.isIntersecting))):e.current?.disconnect(),l?e.current?.observe(l):s(!1))},[]),inViewport:a}}const X=e=>t.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:t.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,color:"currentColor",children:[t.jsx("path",{d:"M18.719 10.715a1.044 1.044 0 0 1-1.437 0c-1.765-1.683-4.13-3.564-2.977-6.294C14.929 2.945 16.425 2 18 2s3.072.945 3.695 2.42c1.152 2.728-1.207 4.617-2.977 6.295M18 6h.009"}),t.jsx("circle",{cx:5,cy:19,r:3}),t.jsx("path",{d:"M11 7H9.5C7.567 7 6 8.343 6 10s1.567 3 3.5 3h3c1.933 0 3.5 1.343 3.5 3s-1.567 3-3.5 3H11"})]})}),Y=e=>t.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:t.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,color:"currentColor",children:[t.jsx("path",{d:"M6.632 18.263L5.031 6.1C4.91 5.188 5.116 5 6.126 5h10.749c1.01 0 1.214.188 1.094 1.1l-1.601 12.163c-.218 1.655-.327 2.483-.954 2.98c-1.297 1.031-6.587.987-7.828 0c-.627-.497-.736-1.325-.954-2.98"}),t.jsx("path",{d:"m13.5 19l.446-16.059A1 1 0 0 1 14.944 2h4.057"}),t.jsx("path",{d:"M6 10c.182-.333.782-1 2.09-1c1.637 0 1.205 1 2.296 1s2.728-1 4.364-1s2.75 1 2.75 1m-7.491 6H10"})]})}),J=e=>t.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:t.jsx("path",{fill:"currentColor",d:"M9.885 3.75a6.25 6.25 0 0 0-3.628 11.256a.75.75 0 0 1-.9 1.2a7.75 7.75 0 0 1 3.99-13.93l-.584-.586A.75.75 0 0 1 9.823.63l2.122 2.121a.75.75 0 0 1 0 1.06L9.823 5.934a.75.75 0 0 1-1.06-1.06zm.23 12.498a6.25 6.25 0 0 0 3.628-11.256a.75.75 0 0 1 .9-1.2q.439.33.837.727a7.75 7.75 0 0 1-4.828 13.203l.585.585a.75.75 0 1 1-1.06 1.061l-2.122-2.121a.75.75 0 0 1 0-1.06l2.122-2.122a.75.75 0 1 1 1.06 1.06z"})}),$=e=>t.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:t.jsx("path",{fill:"currentColor",d:"M10 18q.128 0 .254-.004a5.5 5.5 0 0 1-.698-1.083c-.536-.207-1.098-.793-1.578-1.821A9.3 9.3 0 0 1 7.42 13.5h1.672q.096-.52.284-1h-2.17A15 15 0 0 1 7 10c0-.883.073-1.725.206-2.5h5.588c.092.541.156 1.115.186 1.713q.48-.138.992-.188a16 16 0 0 0-.165-1.525h2.733c.251.656.406 1.36.448 2.094q.543.276 1.008.66A8 8 0 1 0 10 18m0-15c.657 0 1.407.59 2.022 1.908c.217.466.406 1.002.559 1.592H7.419c.153-.59.342-1.126.56-1.592C8.592 3.59 9.342 3 10 3M7.072 4.485A10.5 10.5 0 0 0 6.389 6.5H3.936a7.02 7.02 0 0 1 3.778-3.118c-.241.33-.456.704-.642 1.103M6.192 7.5A16 16 0 0 0 6 10c0 .87.067 1.712.193 2.5H3.46A7 7 0 0 1 3 10c0-.88.163-1.724.46-2.5zm.197 6c.176.743.407 1.422.683 2.015c.186.399.401.773.642 1.103A7.02 7.02 0 0 1 3.936 13.5zm5.897-10.118A7.02 7.02 0 0 1 16.064 6.5H13.61a10.5 10.5 0 0 0-.683-2.015a6.6 6.6 0 0 0-.642-1.103M19 14.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m-4.854-2.353l-2 2a.5.5 0 0 0 .708.707L14 13.707V16.5a.5.5 0 0 0 1 0v-2.793l1.146 1.147a.5.5 0 0 0 .708-.708l-2-2a.5.5 0 0 0-.351-.146h-.006a.5.5 0 0 0-.348.144z"})}),e0=e=>t.jsx("svg",{viewBox:"0 0 512 512",width:"1.2em",height:"1.2em",...e,children:t.jsx("path",{fill:"currentColor",d:"M255.76 44.764c-6.176 0-12.353 1.384-17.137 4.152L85.87 137.276c-9.57 5.536-9.57 14.29 0 19.826l152.753 88.36c9.57 5.536 24.703 5.536 34.272 0l152.753-88.36c9.57-5.535 9.57-14.29 0-19.825l-152.753-88.36c-4.785-2.77-10.96-4.153-17.135-4.153m-117.313 82.61a31.953 18.96 0 0 1 .002 0a31.953 18.96 0 0 1 21.195 5.536a31.953 18.96 0 0 1-45.19 26.813a31.953 18.96 0 0 1 23.992-32.348zm118.24.245a31.953 18.96 0 0 1 22.125 32.362a31.953 18.96 0 1 1-45.187-26.812a31.953 18.96 0 0 1 23.06-5.55zm119.663.015a31.953 18.96 0 0 1 .002 0a31.953 18.96 0 0 1 21.195 5.535a31.953 18.96 0 0 1-45.19 26.812a31.953 18.96 0 0 1 23.993-32.347M75.67 173.84c-5.753-.155-9.664 4.336-9.664 12.28v157.696c0 11.052 7.57 24.163 17.14 29.69l146.93 84.848c9.57 5.526 17.14 1.156 17.14-9.895V290.76c0-11.052-7.57-24.16-17.14-29.688l-146.93-84.847c-2.69-1.555-5.225-2.327-7.476-2.387zm360.773.002c-2.25.06-4.783.83-7.474 2.385l-146.935 84.847c-9.57 5.527-17.14 18.638-17.14 29.69v157.7c0 11.05 7.57 15.418 17.14 9.89L428.97 373.51c9.57-5.527 17.137-18.636 17.137-29.688v-157.7c0-7.942-3.91-12.432-9.664-12.278zm-235.146 86.592a31.236 18.008 58.094 0 1 33.818 41.183a31.236 18.008 58.094 1 1-45-25.98a31.236 18.008 58.094 0 1 11.182-15.203M366.82 289.1a18.008 31.236 31.906 0 1 .002 0a18.008 31.236 31.906 0 1 11.18 15.203a18.008 31.236 31.906 0 1-45 25.98A18.008 31.236 31.906 0 1 366.82 289.1M89.297 318.48a31.236 18.008 58.094 0 1 33.818 41.184a31.236 18.008 58.094 1 1-45-25.98a31.236 18.008 58.094 0 1 11.182-15.204"})}),A=g(p(j),{reduce:e=>e?.me?.summerEvent2025Status}),[t0,_]=k(S),d="28b3c76a-53d1-4a9c-bd73-800f1164c5e5",D=3500,H=768,R=1280;async function Z(e,a){return(await x({sceneId:d,args:{type:"summer-2025",keywords:e}}).catch(n=>{v(a,n)}))?.data?.createLotteryGenerationTask?.id}function q(){const{data:e,mutate:a}=w();return[e?.filter(n=>n.sceneIds?.some(l=>l===d)).reduce((n,l)=>n+(l.countRemains??0),0)??0,a]}function z(){const{me:e}=m(),a=e?.id;return y({fetcher:s=>s?b(s):void 0,getArgs:s=>a?{userId:a,sceneIds:[d],last:10,before:s?.data?.tasks.pageInfo.startCursor}:void 0,getItems:s=>L(I(s?.data?.tasks)).reverse(),getHasMore:s=>s?.data?.tasks.pageInfo.hasPreviousPage})}function f(){const e=M(),[a,s]=o.useState(0),{data:n,refetch:l}=A(e?{}:h,{pollInterval:a});return{data:o.useMemo(()=>E(n??{creditsUsed:0,questList:[],rewardList:[]},c=>{u(c.questList,r=>r.id==="credit.1",{id:"credit.1",status:"unlocked"},r=>{r.status==="locked"&&(r.status="unlocked")}),u(c.questList,r=>r.id==="credit.2",{id:"credit.2",status:"unlocked"},r=>{r.status==="locked"&&(r.status="unlocked")}),u(c.questList,r=>r.id==="purchase.1",{id:"purchase.1",status:"unlocked"},r=>{r.status==="locked"&&(r.status="unlocked")})}),[n]),refetch:l,setPolling:s}}const P={"credit.1":2e4,"credit.2":5e4,"credit.3":1e5,"credit.4":2e5,"credit.5":5e5},B={"credit.1":2e3,"credit.2":5e3,"credit.3":15e3,"credit.4":4e4,"credit.5":1e5};function G(e){const a=P[e],s=B[e],{data:{questList:n}}=f(),l=o.useMemo(()=>n.find(c=>c.id===e)?.status??"locked",[e,n]),i=o.useCallback(async()=>{await _({nodeId:e})},[e]);return{target:a,reward:s,status:l,claim:i}}const F={"purchase.1":["extra-package","extra-package-2","extra-package-3"],"purchase.2":["extra-package","extra-package-2","extra-package-3"],"purchase.3":["extra-package-2","extra-package-3"],"purchase.4":["extra-package-3"]};function Q(e){const{data:{questList:a}}=f(),s=a.find(c=>c.id===e),{membershipTier:n}=m(),l=C(n),i=o.useMemo(()=>l?.filter(c=>F[e]?.includes(c.id))??[],[e,l]);return{status:s?.status??"locked",creditPacks:i}}const s0={SCENE_ID:d,FIXED_COST:D,WIDTH:H,HEIGHT:R,createTask:Z,useFreeGenCount:q,useEventTasks:z,useEventState:f,useCreditQuest:G,usePurchaseQuest:Q};function u(e,a,s,n){let l=e.find(a);l==null&&e.push(l=s),T(l!=null),n?.(l)}const a0=e=>t.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:t.jsx("path",{fill:"currentColor",d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12S6.477 2 12 2m0 1.667c-4.595 0-8.333 3.738-8.333 8.333S7.405 20.333 12 20.333s8.333-3.738 8.333-8.333S16.595 3.667 12 3.667M12 15.5a1 1 0 1 1 0 2a1 1 0 0 1 0-2m0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75"})}),l0=e=>t.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:t.jsxs("g",{fill:"none",fillRule:"evenodd",children:[t.jsx("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),t.jsx("path",{fill:"currentColor",d:"M10.537 2.164a3 3 0 0 1 2.244.727l.15.14l7.822 7.823a3 3 0 0 1 .135 4.098l-.135.144l-5.657 5.657a3 3 0 0 1-4.098.135l-.144-.135L3.03 12.93a3 3 0 0 1-.878-2.188l.011-.205l.472-5.185a3 3 0 0 1 2.537-2.695l.179-.021l5.185-.472Zm.308 1.989l-.127.003l-5.185.472a1 1 0 0 0-.888.787l-.017.118l-.472 5.185a1 1 0 0 0 .206.703l.083.095l7.823 7.823a1 1 0 0 0 1.32.083l.094-.083l5.657-5.657a1 1 0 0 0 .083-1.32l-.083-.094l-7.823-7.823a1 1 0 0 0-.671-.292ZM7.317 7.318a3 3 0 1 1 4.243 4.243a3 3 0 0 1-4.243-4.243Zm2.829 1.414a1 1 0 1 0-1.415 1.414a1 1 0 0 0 1.415-1.414Z"})]})}),n0=e=>t.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:t.jsxs("g",{fill:"none",children:[t.jsx("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),t.jsx("path",{fill:"currentColor",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2Zm0 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16Zm0 2a1 1 0 0 1 .993.883L13 7v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083l-3-3a1 1 0 0 1-.284-.576L11 12V7a1 1 0 0 1 1-1Z"})]})});export{$ as a,a0 as b,l0 as c,Y as d,X as e,J as f,e0 as g,s0 as h,n0 as m,N as u};
