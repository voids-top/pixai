import{j as e}from"./vendor-motion-Bl2lDopP.js";import{Q as W,P as U,E as fe,F as be,G as je,$ as h,O as F,a6 as we}from"./vendor-react-aria-BW9JtD2p.js";import{eS as N,cA as u,eq as ve,T as m,bk as Y,dg as J,lq as X,m as k,lc as ee,t as ye,fd as Ne,fk as V,b1 as ke,gO as Te,ag as se,l as Ce,G as te,fG as $,lt as ae,aL as G,P as Pe,cm as ne,lu as _e,hW as re,lv as Ie,ce as ze,bL as Me,fa as le,cy as Se,w as Ae,eK as Fe,fh as Ee,fi as Ke,hK as $e,gv as Ge,eb as Re,lw as qe,b8 as ie,k0 as oe,b9 as ce,lx as He,ly as Be,lz as De,ee as Le,lA as Oe,M as Ve,lB as Qe}from"./index-JhqgbpkX.js";import{h as j,g as Ze,f as de,a as We,u as Ue,b as Ye,m as Je,c as Xe,d as es,e as ss}from"./time-line-DqQiT1u4.js";import{b as R,h as C,u as P,e as me,N as f,$ as q,x as ts,O as A,C as as}from"./vendor-firebase-BKQqa5bK.js";import{r as l,s as ns}from"./vendor-apollo-B9XqHIAo.js";import{L as rs,a as ls}from"./vendor-react-router-Bm0RsDwP.js";import{T as ue}from"./TaskPublishDialog-C6g-yNPm.js";import{g as is}from"./vendor-graphql-DeSYh9DC.js";import{f as os}from"./checkmark-circle-20-filled-Cc07OaOz.js";import{u as K}from"./vendor-i18next-TC5y0B3W.js";import{j as cs,g as xe,b as ds,M as Q,f as ms,q as us,O as xs}from"./vendor-lodash-992l3ZN7.js";import"./confetti.module-84Rp1PKD.js";import{a as ps}from"./vendor-markdown-1uD3znr6.js";import{a as gs}from"./JsBridgeContext-D4_0X_im.js";import"./vendor-mui-DTp04zm4.js";import"./vendor-amplitude-core-CQMkGYFj.js";import"./vendor-axios-CFwfAwt2.js";import"./vendor-sentry-BZZLy1DV.js";import"./i18n-resources-43uzMSBc.js";import"./vendor-hls-cbDBXQj9.js";import"./vendor-tldraw-CaaMemrL.js";import"./vendor-fabric-Bg02ktlP.js";import"./vendor-radix-ui-DX5JiNHB.js";import"./vendor-photoswipe-UqzIRFho.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};s.SENTRY_RELEASE={id:"0ec442be81a4ee21bfcf5745e8ef10bc76836958"}}catch{}})();try{(function(){var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="2f316bbe-3895-4ddf-a9af-dcfe5d623600",s._sentryDebugIdIdentifier="sentry-dbid-2f316bbe-3895-4ddf-a9af-dcfe5d623600")})()}catch{}(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};s._sentryModuleMetadata=s._sentryModuleMetadata||{},s._sentryModuleMetadata[new s.Error().stack]=function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];if(n!=null)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}({},s._sentryModuleMetadata[new s.Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}catch{}})();function pe(s){var t=l.useRef();return l.useEffect(function(){t.current=s}),t.current}const hs=N({base:["flex p-0.5 text-white bg-black/50 rounded-xl","relative z-10 mb-4"]}),z=N({slots:{root:["flex-1 px-4 py-2 flex items-center gap-1 text-base whitespace-nowrap capitalize selected:font-bold selected:bg-white rounded-[10px] outline-none cursor-default","group/tab"],icon:["size-6 -ml-1 -my-1 bg-[radial-gradient(closest-side,var(--tw-shadow-color),transparent)] group-selected/tab:-rotate-12 transition-transform duration-200"]}}),fs="_stage_bg_1072p_1",bs="_stage_figures_1072p_6",js="_feed_bg_1072p_13",E={stage_bg:fs,stage_figures:bs,feed_bg:js},y={Generator:"generator",Quest:"quest"},H=R(y.Generator),ws=s=>e.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s,children:e.jsxs("g",{fill:"none",children:[e.jsx("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),e.jsx("path",{fill:"currentColor",d:"m13.299 3.148l8.634 14.954a1.5 1.5 0 0 1-1.299 2.25H3.366a1.5 1.5 0 0 1-1.299-2.25l8.634-14.954c.577-1 2.02-1 2.598 0ZM12 4.898L4.232 18.352h15.536L12 4.898ZM12 15a1 1 0 1 1 0 2a1 1 0 0 1 0-2Zm0-7a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1Z"})]})}),g={Artworks:"artworks",History:"history"},T=R(g.Artworks);function vs(){const t=C(H)===y.Generator,[a,n]=P(T);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("row-start-1 row-end-3 relative max-mlg:hidden",E.stage_figures,!t&&"hidden"),style:{zIndex:2}}),e.jsxs("section",{className:u("row-start-2 justify-self-center mx-4 pb-16 grid grid-rows-1 grid-cols-1 mmd:grid-cols-[auto_auto] mmd:gap-4","relative z-10",!t&&"hidden"),children:[e.jsx(ys,{className:"row-start-1 col-span-full place-self-center max-mmd:mb-4"}),e.jsx(Ts,{children:e.jsxs(ks,{children:[e.jsx(_s,{className:"row-start-2 col-start-1 max-w-[400px]"}),e.jsx(As,{className:"row-start-2 col-start-1 mmd:col-start-2"})]})}),e.jsx(Ns,{className:"row-start-3 col-span-full justify-self-center max-mmd:mt-4"})]}),e.jsx("section",{className:u("row-start-3 flex flex-col items-center relative z-10",E.feed_bg,!t&&"hidden"),style:{"--bg-height":"400px"},children:e.jsx(Es,{children:e.jsxs(Rs,{children:[e.jsx(W,{selectedKey:a,onSelectionChange:r=>n(r),children:e.jsxs(U,{className:"mt-16 mb-8 flex justify-center items-center shadow-sky-600 cursor-default",style:{textShadow:"2px 2px var(--tw-shadow-color)"},children:[e.jsx(Ks,{}),e.jsx(qs,{})]})}),e.jsx($s,{}),e.jsx(Hs,{})]})})})]})}function ys({className:s,style:t}){const{data:a}=ve({pollInterval:3e3});return a==null?null:e.jsxs("div",{className:u("inline-flex flex-col items-center px-3 py-1 bg-white border border-black/20 rounded-xl",s),style:t,children:[e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.your-balance.label"}),e.jsx(Y,{value:a})]})}function Ns({className:s,style:t}){const{value:a}=J(()=>X("3.18"));return e.jsx("div",{className:u("bg-gradient-to-r from-purple-500 via-fuchsia-500 to-rose-500 rounded-xl",s),style:t,children:e.jsx(rs,{to:"/model/1884107375027888751-Tsubaki",className:"m-0.5 block px-3.5 py-2 bg-white rounded-[10px]",onClick:n=>{k("model_promo_link_click",{scene:"summer-event-2025"}),a&&(n.preventDefault(),ee({route:"pixai://model/1884107375027888751"}))},children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.model-promo.content",defaults:"Generate using <em>Tsubaki</em>",components:{em:e.jsx("span",{className:"bg-gradient-to-r from-fuchsia-500 to-rose-500 bg-clip-text text-transparent"})}})})})}const _=l.createContext({});function ks({children:s}){const{promptTags:t}=D(),[a,n]=j.useFreeGenCount(),[r,c]=l.useState(),{t:d}=K(["common","generation"]),o=l.useCallback(async()=>{const I=await j.createTask(t,d);I?c(I):ye.error("Failed to create task"),await n()},[t,d,n]),{data:i,previousData:x,loading:p}=Ne(r??ns,{context:{refetchOnFocus:!1},pollInterval:1e3,skipPollAttempt:()=>i?.mediaId==null}),b=i??x,v=l.useCallback(()=>{c(void 0)},[]);return e.jsx(_.Provider,{value:{freeGenCount:a,createTask:o,taskId:r,task:b,loading:p,running:me({status:f.union(V.waiting,V.running)},b),reset:v},children:s})}const ge=["character","location","gesture","decoration"],B=l.createContext({});function D(){return l.useContext(B)}function Ts({children:s}){const{data:t}=ke(),a=l.useMemo(()=>cs(t,[Re.SummerEvent2025,"keywords"])??{},[t]),[n]=l.useState(()=>R(Object.fromEntries(ge.map(i=>[i,""])))),[r,c]=P(n),d=xe(Object.values(r)),o=l.useCallback(()=>{c(ds(a,i=>xs(i)))},[a,c]);return e.jsx(B.Provider,{value:{PROMPT_TAGS:a,selectedTagsAtom:n,promptTags:d,rollPrompts:o},children:s})}const Cs=N({base:"px-2 capitalize border-2 rounded-lg selected:text-white outline-none cursor-pointer",variants:{group:{character:"border-pink-300 selected:bg-pink-400 selected:border-pink-400",location:"border-sky-300 selected:bg-sky-400 selected:border-sky-400",gesture:"border-red-300 selected:bg-red-400 selected:border-red-400",decoration:"border-emerald-300 selected:bg-emerald-400 selected:border-emerald-400"}}}),Ps=N({base:"col-start-1",variants:{group:{character:"bg-pink-50 -skew-y-6",location:"bg-sky-50 -skew-y-3 scale-y-125",gesture:"bg-red-50 -skew-y-6 scale-y-125",decoration:"bg-emerald-50 -skew-y-3"}}});function _s({className:s,style:t}){const{PROMPT_TAGS:a,selectedTagsAtom:n}=l.useContext(B),[r,c]=Te(n),{taskId:d}=l.useContext(_);return e.jsxs("div",{className:u("flex flex-col bg-white/75 backdrop-blur-lg ring ring-teal-400 rounded-xl",d&&"max-mmd:hidden",s),style:t,children:[e.jsx("h2",{className:u("relative z-10 p-4 text-xl -my-1 font-quicksand font-bold uppercase text-center text-balance","text-teal-500 shadow-teal-200"),style:{textShadow:"-1px -1px var(--tw-shadow-color)"},children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.prompt-composer.heading"})}),e.jsx("div",{className:"grid grid-cols-1 -mt-1.5",children:ge.map((o,i)=>e.jsxs(l.Fragment,{children:[e.jsx("div",{className:Ps({group:o}),style:{gridRowStart:i+1}}),e.jsx(fe,{"aria-label":"Prompt tags",selectionMode:"single",selectedKeys:r[o]?[r[o]]:[],onSelectionChange:x=>{x!=="all"&&c(p=>{p[o]=x.values().next().value})},className:"col-start-1 px-4 py-1.5 z-10",style:{gridRowStart:i+1},children:e.jsx(be,{className:"flex flex-wrap gap-2",children:a[o]?.map(x=>e.jsx(je,{id:x,textValue:x,className:Cs({group:o}),children:x},x))})})]},o))}),e.jsx(Is,{className:"mt-auto"})]})}function Is({className:s,style:t}){return e.jsxs("div",{className:u("p-1 pt-4 flex flex-col gap-1","bg-gradient-to-b from-transparent to-white to-[16px] rounded-b-xl","max-mmd:sticky inset-y-0",s),style:t,children:[e.jsx("p",{className:"text-center text-teal-600",children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.prompt-composer.promo-text"})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(zs,{className:"flex-none"}),e.jsx(Ss,{className:"flex-1"})]})]})}function zs({className:s,style:t}){const{PROMPT_TAGS:a,rollPrompts:n}=D(),r=pe(a);return l.useEffect(()=>{Q(r)&&!Q(a)&&n()},[a,r,n]),e.jsx(h,{className:u("h-full aspect-square grid place-items-center ring-1 ring-inset ring-teal-400 rounded-lg outline-none",s),style:t,onPress:()=>{k("random_prompts_click",{scene:"summer-event-2025"}),n()},children:e.jsx(Ze,{className:"size-8 text-teal-600"})})}const Ms=N({base:["px-2 py-1 uppercase rounded-lg outline-none transition","grid place-items-center *:row-start-1 *:col-start-1"],variants:{disabled:{true:"text-neutral-500 ring-1 ring-zinc-300 duration-200",false:"text-white bg-teal-500 duration-1000 [transition-timing-function:cubic-bezier(0.175,0.885,0.32,1.275)]"}}});function Ss({className:s,style:t}){const{me:a}=se(),{freeGenCount:n,loading:r,running:c,createTask:d}=l.useContext(_),[{loading:o},i]=Ce(async()=>{if(k("generate_button_click",{scene:"summer-event-2025"}),!a){te(null,{fromPath:"summer-event-2025"});return}!r&&!c&&await d()},[a,d]),x=l.useMemo(()=>ms(i,200,{leading:!0,trailing:!1}),[i]),{promptTags:p}=D(),b=q({creatingTask:o,loading:r,running:c}).with({creatingTask:!0},{loading:!0},()=>"loading").with({running:!0},()=>"running").otherwise(()=>"idle"),v=p.length===0||b!=="idle";return e.jsxs(h,{isDisabled:v,className:Ms({disabled:v,className:s}),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='black' fill-opacity='0.1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`,...t},onPress:x,children:[e.jsx($,{className:u("size-5 animate-spin",b!=="loading"&&"invisible")}),e.jsxs("span",{className:u("inline-flex items-center gap-2",b!=="running"&&"invisible"),children:[e.jsx($,{className:"size-5 animate-spin"}),e.jsx(m,{i18nKey:"common:generating.label"})]}),e.jsxs("span",{className:u("inline-flex flex-col items-center",b!=="idle"&&"invisible"),children:[e.jsx("span",{children:e.jsx(m,{i18nKey:"common:generate.label"})}),e.jsx("span",{children:n?e.jsx(m,{i18nKey:"membership:membership.tier.0.label"}):e.jsx(Y,{value:j.FIXED_COST})})]})]})}function As({className:s,style:t}){const{taskId:a,task:n,loading:r,running:c}=l.useContext(_),d=ae(n),{t:o}=K("growth"),i=l.useMemo(()=>o("growth:summer-event-2025.event-page.sections.generator.video-popup.img"),[o]);l.useEffect(()=>{const p=new Image;p.src=i},[i]);const x=pe(d);return l.useEffect(()=>{d&&!x&&G.create({dismissable:!0,className:"bg-transparent ring-0 shadow-none",style:{maxWidth:"none"},children:({close:p})=>e.jsx("img",{src:i,alt:"",style:{maxWidth:"min(600px, calc(100vw - 32px))"},onClick:p})})},[d,x]),e.jsx("div",{className:u("w-fit mx-auto bg-white/75 backdrop-blur-lg rounded-xl ring",d?"ring-teal-500/30":"ring-zinc-300",!a&&"max-mmd:hidden",s),style:{height:500,aspectRatio:`${j.WIDTH} / ${j.HEIGHT}`,...t},children:q({task:n,loading:r,running:c}).with({loading:!0},{running:!0},()=>e.jsxs("div",{className:u("size-full grid place-content-center justify-items-center rounded-xl"),children:[e.jsx(Pe,{inline:!0}),d&&e.jsx("p",{className:"mt-4 px-2.5 py-0.5 text-center text-white bg-gradient-to-br from-teal-400 via-blue-400 via-50% to-fuchsia-400 rounded-full",children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.stage.video-hint"})})]})).with({task:{outputs:f.optional({mediaId:f.optional(f.nullish),videos:f.optional(f.nullish)})}},()=>e.jsxs("div",{className:"size-full grid place-content-center justify-items-center",children:[e.jsx(ws,{className:"size-8 -mb-1 text-neutral-400"}),e.jsx("p",{className:"mt-4 mx-4 text-center text-balance",children:e.jsx(m,{i18nKey:"common:error.fail-to-submit"})}),e.jsx(h,{className:"mt-4 px-2.5 py-0.5 bg-zinc-300 rounded-full",onPress:()=>window.location.reload(),children:e.jsx(m,{i18nKey:"common:reload"})})]})).with({task:{outputs:{mediaId:f.string.minLength(1),videos:f.optional([{mediaId:f.string.minLength(1)},...f.array(f.any)])}}},({task:p})=>e.jsx(Fs,{task:p})).otherwise(()=>null)})}function Fs({task:s}){const{reset:t}=l.useContext(_),a=l.useRef(null),n=l.useCallback(()=>{a.current?.open(s)},[s]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"size-full relative",children:[e.jsx(ne,{mediaId:s.outputs.mediaId,videoMediaId:s.outputs.videos?.[0].mediaId,className:"!absolute inset-0 rounded-xl shadow-xl"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-1 flex gap-1",children:[e.jsx(h,{className:"flex-1 p-2 bg-white/80 backdrop-blur-md rounded-lg ring-1 ring-black/20 mmd:hidden",onPress:t,children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.stage.new-button.label"})}),e.jsx(h,{className:"flex-1 p-2 text-white bg-purple-600 rounded-lg ring-1 ring-white/50",onPress:n,children:e.jsx(m,{i18nKey:"action:publish"})})]})]}),e.jsx(ue,{ref:a,formInit:{tags:["pixai_summer_2025"]},scene:"summer-2025"})]})}const L=l.createContext({});function Es({children:s}){const{data:t,fetchMore:a,refetch:n,loading:r,loadingMore:c}=_e({feed:"trending1",tag:"pixai_summer_2025",isNsfw:!1,isSafeSearch:!0,orderBy:"-createdAt",first:20}),d=l.useMemo(()=>us(xe(is(t)??[]),"id"),[t]),o=l.useCallback(()=>{a({variables:{after:t?.pageInfo?.endCursor}})},[a]);return e.jsx(L.Provider,{value:{data:d,loadMore:o,reload:n,loading:r||c},children:s})}function Ks(){const{reload:s,loading:t}=l.useContext(L),[a,n]=P(T);return e.jsx(F,{id:g.Artworks,className:u("rounded-xl outline-none","text-white selected:text-sky-500 selected:[text-shadow:none] selected:bg-white"),children:e.jsxs(h,{className:"px-4 py-2 flex items-center outline-none",onPress:()=>{k("artwork_feed_tab_click",{scene:"summer-event-2025",reload:a===g.Artworks}),a===g.Artworks?s():n(g.Artworks)},children:[e.jsx("span",{className:"text-base font-bold uppercase",children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.artwork.heading"})}),e.jsx(de,{className:u("size-5 ml-1 -mr-1",t&&"animate-spin",a!==g.Artworks&&"hidden")})]})})}function $s(){const{data:s,loadMore:t}=l.useContext(L),a=C(T);return e.jsx("div",{className:u("w-full max-w-screen-mlg p-4",a!==g.Artworks&&"hidden"),children:e.jsx(re,{data:s,overscan:10,useWindowScroll:!0,listClassName:"grid grid-cols-2 msm:grid-cols-3 mmd:grid-cols-4 mlg:grid-cols-5 gap-2",itemContent:(n,r)=>e.jsx(Gs,{artwork:r}),endReached:t})})}function Gs({artwork:s}){const[{count:t,liked:a},n]=Ie(s.id,ts.Artwork,s),r=ze(),{value:c}=J(()=>X("3.18"),[]),[d,o]=l.useState(!1),i=l.useCallback(()=>{r?c&&ee({route:`pixai://artwork/${s.id}`}):o(!0)},[r,c,s.id]);return e.jsxs(e.Fragment,{children:[e.jsxs(he,{mediaId:s.mediaId,videoMediaId:s.videoMediaId,className:"w-full relative",onClick:i,children:[Me(s)&&e.jsx("span",{className:"absolute top-1 left-1 flex p-0.5 text-white bg-purple-500 rounded-lg ring-1 ring-black/20",children:e.jsx(le,{className:"size-5"})}),e.jsxs(h,{className:"absolute right-1 bottom-1 flex items-center px-1.5 py-0.5 text-white bg-black/50 backdrop-blur rounded-lg",onPress:()=>n(),children:[e.jsx(Se,{liked:a,className:"mr-0.5 -ml-0.5"}),Ae(t)]})]}),d&&e.jsx(Fe,{artwork:s,open:!0,onClose:()=>o(!1)})]})}const O=l.createContext({});function Rs({children:s}){const t=j.useEventTasks(),{items:a,hasMore:n,loading:r,loadMore:c}=t,d=C(T);return!a.length&&n&&!r&&d===g.History&&c(),e.jsx(O.Provider,{value:{...t,loading:a.length===0&&r},children:s})}function qs(){const{loading:s,reset:t}=l.useContext(O),[a,n]=P(T);return e.jsx(F,{id:g.History,className:u("rounded-xl outline-none","text-white selected:text-sky-500 selected:[text-shadow:none] selected:bg-white"),children:e.jsxs(h,{className:"px-4 py-2 flex items-center outline-none",onPress:()=>{k("history_feed_tab_click",{scene:"summer-event-2025",reload:a===g.History}),a===g.History?t():n(g.History)},children:[e.jsx("span",{className:"text-base font-bold uppercase",children:e.jsx(m,{i18nKey:"workflow:runner.my-results-tab.label"})}),e.jsx(de,{className:u("size-5 ml-1 -mr-1",s&&"animate-spin",a!==g.History&&"hidden")})]})})}function Hs(){const{items:s,setItems:t,loadMore:a}=l.useContext(O),n=l.useRef(null),r=l.useRef(null),c=l.useCallback(o=>{n.current=o,r.current?.open(o)},[]),d=C(T);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("w-full max-w-screen-mlg p-4",d!==g.History&&"hidden"),children:e.jsx(re,{data:s,overscan:10,useWindowScroll:!0,listClassName:"grid grid-cols-2 msm:grid-cols-3 mmd:grid-cols-4 mlg:grid-cols-5 gap-2",itemContent:(o,i)=>e.jsxs(he,{mediaId:Ee(i)[0],videoMediaId:Ke(i),className:"w-full relative",children:[ae(i)&&e.jsx("span",{className:"absolute top-1 left-1 p-0.5 text-white bg-purple-500 rounded-lg ring-1 ring-black/20",children:e.jsx(le,{className:"size-5"})}),e.jsx("div",{className:"absolute inset-x-1 bottom-1 flex justify-center",children:me({artworkIds:{length:f.number.gt(0)}},i)?e.jsxs("span",{className:"flex items-center gap-0.5 p-0.5 text-white",style:{textShadow:"0 0 4px #000"},children:[e.jsx(os,{className:"size-5",style:{filter:"drop-shadow(0 0 4px #000c)"}}),e.jsx("span",{className:"text-xs uppercase tracking-wider relative",children:e.jsx(m,{i18nKey:"common:publish.success"})})]}):e.jsxs(h,{className:"flex items-center gap-0.5 px-1 pr-1.5 py-0.5 text-black bg-white rounded-lg ring-1 ring-black/20",onPress:()=>c(i),children:[e.jsx(We,{className:"size-5"}),e.jsx("span",{className:"text-xs uppercase tracking-wider relative",children:e.jsx(m,{i18nKey:"action:publish"})})]})})]}),endReached:()=>a()})}),e.jsx(ue,{ref:r,formInit:{tags:["pixai_summer_2025"]},scene:"summer-2025",afterPublish:()=>t($e(o=>{if(!n.current)return;const i=n.current.id,x=o.find(p=>p.id===i);x&&(x.artworkIds??=[],x.artworkIds.push(i)),n.current=null}))})]})}function he({mediaId:s,videoMediaId:t,onClick:a,className:n,style:r,children:c}){const{ref:d,inViewport:o}=Ue(),i=Ge(),{hoverProps:x,isHovered:p}=we({}),b=i?!p:!o;return e.jsxs("div",{ref:d,...x,className:n,style:{aspectRatio:`${j.WIDTH} / ${j.HEIGHT}`,...r},children:[e.jsx(ne,{mediaId:s,videoMediaId:t,thumbnail:!0,preferStill:b,className:"size-full rounded-xl ring-1 ring-black/20",onClick:a}),c]})}const Bs=s=>e.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s,children:e.jsx("path",{d:"M12 2a4 4 0 0 1 4 4v2h1.75A2.25 2.25 0 0 1 20 10.25v9.5A2.25 2.25 0 0 1 17.75 22H6.25A2.25 2.25 0 0 1 4 19.75v-9.5A2.25 2.25 0 0 1 6.25 8H8V6a4 4 0 0 1 4-4zm5.75 7.5H6.25a.75.75 0 0 0-.75.75v9.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-9.5a.75.75 0 0 0-.75-.75zm-5.75 4a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3zm0-10A2.5 2.5 0 0 0 9.5 6v2h5V6A2.5 2.5 0 0 0 12 3.5z",fill:"currentColor",fillRule:"nonzero"})}),Ds=s=>e.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s,children:e.jsxs("g",{fill:"none",children:[e.jsx("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),e.jsx("path",{fill:"currentColor",d:"M6 3a2 2 0 0 0-2 2v16a1 1 0 1 0 2 0v-5h13.804a1.1 1.1 0 0 0 .89-1.747L17.236 9.5l3.456-4.753A1.1 1.1 0 0 0 19.803 3H6Z"})]})});function Ls(){const t=C(H)===y.Quest,{setPolling:a}=j.useEventState();return l.useEffect(()=>{a(t?3e3:0)},[t,a]),e.jsx("section",{className:u("row-start-3 relative z-10","text-white",E.feed_bg,!t&&"hidden"),style:{"--bg-height":"100%"},children:e.jsx(Os,{})})}function Os(){const{t:s}=K("growth");return e.jsx("div",{className:"mx-auto pt-5 pb-10 flex flex-col gap-5",style:{width:320},children:e.jsxs("div",{className:"flex flex-col gap-5 relative [&>:not(.absolute)]:relative",style:{counterSet:"step"},children:[e.jsx("div",{className:"absolute inset-x-0 inset-y-4 w-0 mx-auto box-content border-l-2 border-dashed border-white"}),e.jsxs("div",{className:"flex justify-center relative",children:[e.jsx(M,{title:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stage.label",values:{number:"1"}})}),e.jsx(qe,{initial:!1,children:(t,a)=>e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"inline-flex items-center outline-none absolute right-0 inset-y-0 my-auto",onPress:()=>a(!0),children:e.jsx(Ye,{className:"size-6"})}),e.jsxs(G,{open:t,onClose:()=>a(!1),className:"max-w-screen-msm",children:[e.jsx(ie,{className:"flex items-start gap-4",heading:e.jsx("span",{className:"text-2xl font-quicksand font-bold",children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.game-rules.heading"})}),children:({heading:n})=>e.jsxs(e.Fragment,{children:[n,e.jsx(h,{className:"ml-auto",onPress:()=>a(!1),children:e.jsx(oe,{className:"size-5"})})]})}),e.jsx(ce,{children:e.jsx(ps,{options:{forceBlock:!0},className:"prose prose-sm prose-teal dark:prose-invert prose-headings:font-quicksand",children:s("growth:summer-event-2025.event-page.sections.quest.game-rules.content")})})]})]})})]}),e.jsx(S,{id:"purchase.1",bonusPercentage:10}),e.jsx(M,{title:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stage.label",values:{number:"2"}}),description:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stages.2.description"})}),e.jsx(S,{id:"purchase.2",bonusPercentage:15}),e.jsx(M,{title:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stage.label",values:{number:"3"}}),description:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stages.3.description"})}),e.jsx(S,{id:"purchase.3",bonusPercentage:20}),e.jsx(M,{title:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stage.label",values:{number:"4"}}),description:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.stages.4.description"})}),e.jsx(S,{id:"purchase.4",bonusPercentage:30}),e.jsx(Vs,{})]})})}function M({title:s,description:t}){return e.jsxs("div",{className:"self-center min-h-12 px-10 py-1 flex flex-col justify-center text-center text-balance bg-[color-mix(in_srgb,theme(colors.sky.400),white_30%)] border-2 border-cyan-300 rounded-full",children:[e.jsx("h3",{className:"text-base",children:s}),t&&e.jsx("p",{className:"text-xs text-black/50",children:t})]})}function Vs(){return e.jsx("div",{className:"self-center p-2 bg-emerald-500 border-4 border-emerald-600 rounded-full",children:e.jsx(Ds,{className:"size-7 text-white"})})}function Qs({title:s,description:t,icon:a,locked:n,done:r,className:c,style:d,onClick:o}){const i=Ys({locked:n});return e.jsxs("div",{className:i.root({className:["w-full",c]}),style:d,onClick:o,children:[e.jsx("div",{className:u("size-7 grid place-content-center font-quicksand font-black text-cyan-300 bg-white rounded-full","max-msm:hidden","absolute right-full msm:-translate-x-4 inset-y-0 my-auto"),style:{counterIncrement:"step"},children:e.jsx("span",{className:"before:content-[counter(step)]"})}),e.jsx("p",{className:i.title(),children:s}),e.jsx("p",{className:i.description(),children:t}),e.jsx("div",{className:i.figure(),children:r?e.jsx(Oe,{className:"size-8 text-green-500"}):n?e.jsx(Bs,{className:"size-6"}):a})]})}function S({id:s,bonusPercentage:t}){const{status:a,creditPacks:n}=j.usePurchaseQuest(s),r=a==="unlocked",{setPolling:c}=j.useEventState(),[d,o]=l.useState(!1),[i,x]=l.useState(!1);return i&&a==="completed"&&(x(!1),c(3e3)),e.jsxs(e.Fragment,{children:[e.jsx(Qs,{title:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.purchase-node.title",values:{percentage:t}}),description:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.purchase-node.description"}),icon:i?e.jsx($,{className:"size-8 m-1 text-zinc-400 animate-spin"}):e.jsxs("div",{className:"size-10 relative",children:[e.jsx(Z,{className:"size-full"}),e.jsx(Z,{className:"size-full absolute inset-0 animate-ping"})]}),locked:a==="locked",done:a==="completed",className:u("border-l-4 border-b border-purple-300",r&&"cursor-pointer"),onClick:()=>{r&&(k("purchase_quest_click",{scene:"summer-event-2025",quest:s}),o(!0))}}),e.jsx(Zs,{open:d,onClose:()=>o(!1),creditPacks:n,eventBonusPercentage:t,onComplete:()=>{x(!0),c(1e3)}})]})}function Zs({open:s,onClose:t,creditPacks:a,eventBonusPercentage:n,onComplete:r}){return e.jsxs(G,{open:s,onClose:t,dismissable:!0,className:"msm:w-[700px] text-white bg-teal-400",style:{maxWidth:"none"},children:[e.jsx(ie,{heading:e.jsx("span",{className:"text-xl msm:text-2xl font-quicksand font-bold shadow-teal-600",style:{textShadow:"2px 2px var(--tw-shadow-color)"},children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.purchase-dialog.heading"})}),className:"flex items-center gap-4",children:({heading:c})=>e.jsxs(e.Fragment,{children:[c,e.jsx(h,{className:"ml-auto",onPress:()=>t(),children:e.jsx(oe,{className:"size-5"})})]})}),e.jsxs(ce,{className:"",children:[a.some(c=>c.extraPackageBoosts?.some(d=>d.type===A.Campaign&&d.percentage>n))&&e.jsx("p",{className:"mb-4 text-teal-800",children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.purchase-dialog.bonus-override-hint"})}),e.jsx("div",{className:"flex max-msm:flex-col flex-wrap gap-2 *:flex-1",children:a.map(c=>e.jsx(Ws,{data:c,onComplete:()=>{r?.(),t()}},c.id))})]})]})}function Ws({data:s,className:t,style:a,onComplete:n}){const{appProducts:r}=l.useContext(gs),{me:c,membershipTier:d}=se(),{id:o,prices:i,baseCredits:x,finalCredits:p,boosts:b}=l.useMemo(()=>Us(s,d),[s,d]),{price:v}=l.useMemo(()=>r?.find(w=>w.webId===o)??{},[r,o]),{purchaseExtraPackage:I}=He();return e.jsxs(h,{className:u("text-teal-800 bg-teal-50 rounded-2xl shadow-teal-600 overflow-hidden","p-1 grid max-msm:grid-rows-[auto_auto] max-msm:grid-cols-[1fr_100px] place-items-center gap-1",t),style:{boxShadow:"3px 3px 1px var(--tw-shadow-color)",...a},onPress:async()=>{if(!c){te(null,{fromPath:"summer-event-2025"});return}(r?.length?await Be(o):await I(o,i))&&n()},children:[e.jsxs("div",{className:"row-start-1 col-start-1 grid grid-rows-[auto_auto] grid-cols-[auto_auto]",children:[e.jsx("span",{className:"row-start-1 col-start-1 col-span-full line-through opacity-50",children:x.toLocaleString()}),e.jsx(De,{className:"row-start-2 col-start-1 self-center size-5 mr-[0.25em]"}),e.jsx("span",{className:"row-start-2 col-start-2 text-xl",children:p.toLocaleString()})]}),e.jsx("div",{className:"row-start-2 col-start-1 flex items-center gap-0.5",children:b.map(w=>e.jsxs("span",{className:u("p-0.5 pr-1 text-xs uppercase tracking-wide rounded inline-flex items-center","text-teal-600 bg-teal-100 border border-teal-200"),children:[q(w.type).with(A.Membership,()=>e.jsx(Le,{className:"size-4 ml-0.5 mr-[0.25em]"})).with(A.Campaign,()=>e.jsx(Je,{className:"size-4 mr-[0.25em]"})).with(A.Tier,()=>e.jsx(Xe,{className:"size-4 mr-[0.25em]"})).otherwise(()=>w.type),w.percentage>=0?"+":"-",w.percentage,"%"]},w.name))}),e.jsx("div",{className:u("max-msm:row-span-full msm:row-start-3 max-msm:col-start-2 place-self-stretch","flex flex-col justify-center px-3 py-2 text-white bg-teal-500 rounded-md max-msm:rounded-r-xl msm:rounded-b-xl msm:rounded-t-md relative"),children:e.jsx("span",{className:"text-base",children:v||`$${i[as.Usd]}`})})]})}function Us(s,t=0){const a=s.values.find(r=>r.tier===0),n=s.values.find(r=>r.tier===t);return{id:s.id,prices:s.prices,baseCredits:a.value,finalCredits:n.creditsAfterBoosts,boosts:n.boosts??[]}}function Z(s){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 400",fill:"none",...s,children:[e.jsx("path",{fill:"url(#a)",d:"M190.53 8.68a14 14 0 0 1 18.94 0l35.88 32.93a14 14 0 0 0 11.06 3.6l48.39-5.55a14 14 0 0 1 15.31 11.12l9.68 47.74a14 14 0 0 0 6.83 9.4l42.4 23.96a14 14 0 0 1 5.86 18l-20.23 44.3a14 14 0 0 0 0 11.63l20.23 44.3a14 14 0 0 1-5.85 18.01l-42.4 23.96a14 14 0 0 0-6.84 9.4l-9.68 47.73a14 14 0 0 1-15.31 11.13l-48.39-5.54a14 14 0 0 0-11.06 3.6l-35.88 32.92a14 14 0 0 1-18.94 0l-35.88-32.93a14 14 0 0 0-11.06-3.6l-48.39 5.55a14 14 0 0 1-15.31-11.13l-9.68-47.73a14 14 0 0 0-6.83-9.4l-42.4-23.96a14 14 0 0 1-5.86-18l20.23-44.3a14 14 0 0 0 0-11.63l-20.23-44.3a14 14 0 0 1 5.85-18.01l42.4-23.96a14 14 0 0 0 6.84-9.4l9.68-47.74A14 14 0 0 1 95.2 39.66l48.39 5.54a14 14 0 0 0 11.06-3.6z"}),e.jsx("path",{fill:"#fff",d:"M135 300.05a42.7 42.7 0 0 1-14.97 7.16c-5.1 1.14-9.96.92-14.58-.67-4.62-1.6-8.74-4.68-12.36-9.27L108.62 286a11.94 11.94 0 0 0 5.05 3.9c1.94.76 4 1 6.16.7a14.85 14.85 0 0 0 6.28-2.78 15.1 15.1 0 0 0 4-4.09 9.5 9.5 0 0 0 1.44-4.75 8.52 8.52 0 0 0-1.8-4.93 8.33 8.33 0 0 0-4.46-3.28c-1.8-.57-3.78-.71-5.94-.43-2.21.23-4.61.73-7.2 1.53-2.57.68-5.28 1.5-8.13 2.49-6.64 2.15-12.5 2.8-17.58 1.94-5-.9-9.32-3.85-12.94-8.84-3.01-4.14-4.57-8.4-4.68-12.77-.1-4.48 1.08-8.79 3.5-12.93 2.44-4.14 5.92-7.85 10.45-11.14q6.99-5.085 14.1-6.54a23.86 23.86 0 0 1 13.45.76c4.23 1.47 7.92 4.23 11.06 8.28l-15.63 11.36a9.25 9.25 0 0 0-4.09-2.97 10.58 10.58 0 0 0-10.2 1.48 11.55 11.55 0 0 0-3.58 3.64 8.1 8.1 0 0 0-1.3 4.35q0 2.235 1.62 4.47a8.4 8.4 0 0 0 3.82 3c1.53.48 3.22.63 5.08.47 1.88-.28 3.93-.73 6.14-1.35 2.29-.67 4.73-1.46 7.34-2.36a67.3 67.3 0 0 1 12.45-2.67c4.04-.56 7.87-.18 11.5 1.14 3.65 1.2 7 3.91 10.05 8.12a23.3 23.3 0 0 1 4.5 12.3c.38 4.48-.56 8.97-2.82 13.48-2.2 4.46-5.95 8.62-11.26 12.48Zm30.06-23.62-24.62-85.94 16.7-12.14 74.13 49.97-15.44 11.22-55.22-38.64 19.7 64.46zm-.02-22.68-4.3-14.09 35.63-25.88 11.97 8.5zm74.64-31.54-49.37-67.96 14.56-10.58 41.2 56.7 29.31-21.3 8.19 11.26zm55.18-40.09-49.37-67.96 45.53-33.08 8.53 11.75-30.97 22.5 11.64 16.02 28.06-20.38 8.18 11.26-28.06 20.38 12.49 17.18 30.97-22.5 8.53 11.75z"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"a",x1:"0",x2:"400",y1:"344.77",y2:"55.23",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF78FB"}),e.jsx("stop",{offset:"1",stopColor:"#9164EA"})]})})]})}const Ys=N({slots:{root:["relative","grid grid-cols-[1fr_auto] gap-1 p-2 pl-5 rounded-2xl","transition ease-out"],title:"row-start-1 col-start-1",description:"row-start-2 col-start-1 text-xs",figure:"row-start-1 row-span-2 col-start-2 self-center"},variants:{locked:{true:{root:"text-white bg-sky-400 border !border-white/50",description:"text-white/70"},false:{root:"bg-white",title:"text-black",description:"text-neutral-500"}}}});function Tt(){return e.jsxs(e.Fragment,{children:[e.jsx(Js,{}),e.jsxs("div",{"data-id":"event-page-root",className:"w-screen text-sm font-quicksand font-semibold text-black grid grid-rows-[min-content_min-content_auto] grid-cols-1 *:col-start-1 overflow-hidden",children:[e.jsx("div",{className:u("row-start-1 row-end-3 grid place-content-center place-items-center *:row-start-1 *:col-start-1",E.stage_bg)}),e.jsxs("header",{className:"row-start-1 flex flex-col items-center",children:[e.jsxs("div",{className:"grid place-content-center place-items-center *:row-start-1 *:col-start-1",children:[e.jsxs("div",{className:"size-0 grid place-content-center place-items-center *:row-start-1 *:col-start-1",children:[e.jsx("div",{className:u("rounded-full bg-teal-100/75 relative","[--size:calc(150vw)] mlg:[--size:1000px]"),style:{zIndex:1,width:"var(--size)",height:"var(--size)"}}),e.jsx("div",{className:u("rounded-full bg-teal-400","[--size:100vw] mlg:[--size:500px]","absolute left-0 top-0 max-mlg:-translate-y-1/2 mlg:relative"),style:{zIndex:3,width:"var(--size)",height:"var(--size)"}})]}),e.jsxs("div",{className:"py-10 space-y-4 -rotate-3 relative z-10",children:[e.jsx("h1",{className:"text-3xl mmd:text-4xl -my-1 text-center text-white shadow-teal-600",style:{textShadow:"3px 3px var(--tw-shadow-color)"},children:e.jsx("span",{className:"font-bold uppercase",children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.heading"})})}),e.jsx("p",{className:"text-lg text-center text-white shadow-teal-600",style:{textShadow:"2px 2px var(--tw-shadow-color)"},children:e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.subheading"})})]})]}),e.jsx(Xs,{})]}),e.jsx(vs,{}),e.jsx(Ls,{})]})]})}function Js(){const t=ls().pathname.startsWith("/embedded/"),{t:a}=K(["growth"]);return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{title:a("growth:summer-event-2025.title")}),t&&e.jsx(Qe,{children:e.jsx("meta",{name:"viewport",content:"viewport-fit=cover, width=device-width, initial-scale=1.0"})})]})}function Xs(){const[s,t]=P(H);return e.jsx(W,{selectedKey:s,onSelectionChange:a=>t(a),children:e.jsxs(U,{className:hs({className:s===y.Quest&&"mb-12"}),children:[e.jsxs(F,{id:y.Generator,className:z().root({className:"selected:text-teal-500 selected:shadow-teal-300"}),children:[e.jsx(es,{className:z().icon()}),e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.generator.heading"})]}),e.jsxs(F,{id:y.Quest,className:z().root({className:"selected:text-sky-500 selected:shadow-sky-300"}),children:[e.jsx(ss,{className:z().icon()}),e.jsx(m,{i18nKey:"growth:summer-event-2025.event-page.sections.quest.heading"})]})]})})}export{Tt as default};
