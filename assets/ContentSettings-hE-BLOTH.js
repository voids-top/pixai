import{j as e}from"./vendor-motion-Bl2lDopP.js";import{aI as k,aJ as T,m as n,aK as c,T as w,aL as j,a as E,aM as N,aN as C,aO as M,U as D}from"./index-JhqgbpkX.js";import{u as S}from"./vendor-i18next-TC5y0B3W.js";import{F as v,h as d,aa as p,v as I}from"./vendor-mui-DTp04zm4.js";import{A as m}from"./vendor-firebase-BKQqa5bK.js";import{P as x}from"./ProfileEditSection-DYLqWFBC.js";import"./vendor-apollo-B9XqHIAo.js";import"./vendor-graphql-DeSYh9DC.js";import"./vendor-amplitude-core-CQMkGYFj.js";import"./vendor-react-router-Bm0RsDwP.js";import"./vendor-axios-CFwfAwt2.js";import"./vendor-lodash-992l3ZN7.js";import"./vendor-sentry-BZZLy1DV.js";import"./vendor-react-aria-BW9JtD2p.js";import"./vendor-markdown-1uD3znr6.js";import"./i18n-resources-43uzMSBc.js";import"./vendor-hls-cbDBXQj9.js";import"./vendor-tldraw-CaaMemrL.js";import"./vendor-fabric-Bg02ktlP.js";import"./vendor-radix-ui-DX5JiNHB.js";import"./vendor-photoswipe-UqzIRFho.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"0ec442be81a4ee21bfcf5745e8ef10bc76836958"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new t.Error().stack;o&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[o]="dbd6cfa1-581a-42d2-955f-d8b207b837bc",t._sentryDebugIdIdentifier="sentry-dbid-dbd6cfa1-581a-42d2-955f-d8b207b837bc")})()}catch{}(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t._sentryModuleMetadata=t._sentryModuleMetadata||{},t._sentryModuleMetadata[new t.Error().stack]=function(o){for(var a=1;a<arguments.length;a++){var r=arguments[a];if(r!=null)for(var l in r)r.hasOwnProperty(l)&&(o[l]=r[l])}return o}({},t._sentryModuleMetadata[new t.Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}catch{}})();function H(){const{t}=S(["user"]),[o,a,r]=k(),[l,u,b]=T();function g(){return j.confirm({heading:t("user:profile.content-settings.disable-auto-prompt-helper.dialog.title"),content:t("user:profile.content-settings.disable-auto-prompt-helper.dialog.content")})}return e.jsxs(v,{children:[e.jsx(d,{control:e.jsx(p,{checked:o,onChange:async(f,i)=>{if(i)return await g()?(n("disable_auto_prompt_helper_pref",{on:!0}),a(i)):void 0;n("disable_auto_prompt_helper_pref",{on:!1}),a(i)}}),disabled:r,label:t("user:profile.content-settings.disable-auto-prompt-helper.label")}),e.jsx(d,{control:e.jsx(p,{checked:l===c.followUser,onChange:async(f,i)=>{if(i)return n("tsubaki_prompt_helper",{on:c.followUser}),u(c.followUser);n("allow_prompt_helper_switch_for_tsubaki_pref",{on:c.autoEnable}),u(c.autoEnable)}}),disabled:b,label:e.jsx(w,{i18nKey:"generation:prompt-helper.tsubaki.preference"})})]})}function re(){return e.jsxs(e.Fragment,{children:[e.jsx(x,{heading:e.jsx(w,{i18nKey:"user:profile.sensitive-content.title"}),children:e.jsx("div",{className:"flex flex-col gap-8",children:e.jsx(U,{})})}),e.jsx(x,{heading:e.jsx(w,{i18nKey:"user:profile.content-settings.title"}),children:e.jsx("div",{className:"flex flex-col gap-8",children:e.jsx(H,{})})})]})}function U(){const{data:t}=E(),{t:o}=S(["user"]),[a,r,l]=N(),[u,b,g]=C(),[f,i,h]=M();function y(){return j.confirm({heading:o("user:profile.sensitive-content.confirm-dialog.title"),content:o("user:profile.sensitive-content.confirm-dialog.description")})}const P=f===m.Over18;return e.jsxs(v,{children:[t?.isAdmin&&e.jsx(D,{className:"w-fit",onPress:()=>i(null),busy:h,children:"Set age verification to null (dev mode only)"}),!f&&e.jsx(I,{severity:"warning",className:"mt-2",children:o("user:profile.sensitive-content.age-verification.not-set-description")}),e.jsx(d,{control:e.jsx(p,{checked:f===m.Over18,onChange:async(_,s)=>s?(n("age_verification",{on:!0}),i(m.Over18)):(n("age_verification",{on:!1}),i(m.Minor))}),disabled:h,label:o("user:profile.sensitive-content.age-verification.label")}),P&&e.jsxs(e.Fragment,{children:[e.jsx(d,{control:e.jsx(p,{checked:a,onChange:async(_,s)=>{if(!s)return n("nsfw_content",{on:!0}),r(s);await y()&&(n("nsfw_content",{on:!1}),r(s))}}),disabled:l,label:o("user:profile.sensitive-content.show.label")}),e.jsx(d,{control:e.jsx(p,{checked:u,onChange:async(_,s)=>{if(s)return n("nsfw_blur",{on:!0}),b(s);await y()&&(n("nsfw_blur",{on:!1}),b(s))}}),disabled:g,label:o("user:profile.sensitive-content.blur.label")})]})]})}export{re as Component};
