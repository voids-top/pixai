import{j as a}from"./vendor-motion-Bl2lDopP.js";import{r as c}from"./vendor-apollo-B9XqHIAo.js";import{L as x}from"./vendor-react-router-Bm0RsDwP.js";import{B as b,p,ce as m,bj as g,cZ as w,P as y,cK as j,d1 as v,bN as C}from"./index-JhqgbpkX.js";import{u}from"./WorldFollowButton-BYKmQ9zF.js";import{u as M}from"./vendor-i18next-TC5y0B3W.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"0ec442be81a4ee21bfcf5745e8ef10bc76836958"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9ace250a-dfcc-4ef7-9826-6a3208437bec",e._sentryDebugIdIdentifier="sentry-dbid-9ace250a-dfcc-4ef7-9826-6a3208437bec")})()}catch{}(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=function(t){for(var o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])}return t}({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}catch{}})();function A({artwork:e,...t}){return a.jsx("div",{className:"w-[117px] mmd:w-[209px] rounded-xl overflow-hidden",children:a.jsx(b,{...t,className:p("!aspect-square h-[155px] mmd:h-[278px]",t.className),mediaId:e?.mediaId,showInfo:!1,contentExtra:a.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-full",children:[a.jsx("div",{className:"absolute bottom-0 w-full h-20 bg-gradient-to-t from-black to-to-white opacity-[40%]"}),a.jsxs("div",{className:"absolute bottom-0 ml-[10px] mb-2 mmd:mb-4 flex flex-col gap-1 text-white",children:[a.jsx("h3",{className:"text-md mmd:text-2xl font-semibold leading-tight mmd:leading-snug",children:e?.title}),a.jsxs("p",{className:"text-xs font-semibold",children:[e?.character?.usageCount," Artworks"]})]})]})})})}function N({artwork:e}){const t=m();return a.jsx(x,{to:`/character/${e.character.id}`,children:t?a.jsx(a.Fragment,{children:a.jsx(v,{artwork:e,character:e.character,showUsageCount:!0,size:"medium",scene:"profile-world"})}):a.jsxs("div",{className:"relative min-w-[209px] h-[168px] md:h-[278px] rounded-xl overflow-hidden",children:[a.jsx("img",{className:"absolute",src:C(e.media)}),a.jsx("div",{className:"absolute bottom-0 w-full h-20 bg-gradient-to-t from-black to-to-white opacity-[40%]"}),a.jsxs("div",{className:"absolute bottom-0 ml-[10px] mb-4 flex flex-col gap-1 text-white",children:[a.jsx("h3",{className:"text-2xl font-semibold leading-snug",children:e.title}),a.jsxs("p",{className:"text-xs font-semibold",children:[e.character?.usageCount," Artworks"]})]})]})})}function L({id:e}){const t=m(),{characters:o,loading:s,hasMore:r,loadMore:l}=u(e),d=c.useCallback(()=>{!s&&r&&l()},[r,s,l]);return c.useEffect(()=>{d()},[]),a.jsx(g,{className:"flex gap-4",style:{height:t?"168px":"278px"},showScrollButton:!1,children:o.map((n,i)=>a.jsx(N,{artwork:n},i))})}function S({id:e}){const{t}=M("worlds"),{characters:o,loading:s,hasMore:r,loadMore:l,totalCount:d}=u(e),n=c.useCallback(()=>{!s&&r&&l()},[r,s,l]),i=o.length===0&&s;return a.jsxs("div",{children:[a.jsx(w,{heading:t("worlds:world.character"),trailing:d}),i?a.jsx(y,{}):a.jsx("div",{className:"grid gap-3 grid-cols-[repeat(auto-fill,minmax(117px,1fr))] mmd:grid-cols-[repeat(auto-fill,minmax(154px,1fr))]",children:o.map((f,h)=>a.jsx(j,{artwork:f,character:f.character,showUsageCount:!0,size:"medium",mobileSize:"large",scene:"world-detail"},`character-${h}`))}),!i&&r&&a.jsx("div",{className:"w-full text-center text-xl text-black/40 dark:text-white/40 font-semibold font-roboto",onClick:n,children:t("worlds:character.show-more")})]})}export{S as C,A as P,L as W};
