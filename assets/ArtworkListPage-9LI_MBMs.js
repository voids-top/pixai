var Ud=Object.defineProperty;var Od=(e,t,a)=>t in e?Ud(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Tn=(e,t,a)=>Od(e,typeof t!="symbol"?t+"":t,a);import{ed as ui,e as u,cv as Hd,cw as Kd,cz as Wd,bT as an,db as co,e5 as uo,dF as ke,R as _,dD as Gd,ee as _a,ef as mo,dA as Ye,dT as qd,eg as sn,dN as ne,dE as fo,eh as ho,dI as oe,ei as ys,ej as Zd,ek as xo,el as ws,em as Xd,en as Qd,eo as Yd,dR as go,ep as ks,e4 as ta,eq as ts,dS as Jd,er as na,es as eu,et as po,eu as bo,dU as aa,ev as tu,ew as vo,ex as it,dQ as ns,ey as wt,ez as kt,eA as mi,eB as yo,eC as js,eD as nu,eE as au,eF as su,eG as iu,e0 as sa,eH as fi,eI as hn,eJ as Cs,dH as Se,dJ as mt,eK as ou,eL as Bt,dZ as Ss,d_ as wo,d$ as xn,eM as lu,e1 as gn,dM as ko,dG as pn,eN as ru,eO as cu,eP as du,eQ as uu,e3 as jo,eR as mu,eS as fu,dK as Co,eT as hu,eU as xu,e2 as gu,e6 as pu,a7 as bn,a0 as P,i as J,t as G,j as n,bj as bu,u as D,eV as vu,eW as yu,eX as wu,f as de,eY as ku,K as w,Q as ie,D as Re,C as T,cD as Je,eZ as ju,e_ as Cu,e$ as hi,f0 as Su,bQ as te,bR as ia,a5 as ft,f1 as On,c4 as be,cb as Ze,w as dt,ca as q,cP as Le,bX as _e,f2 as Nu,b1 as ut,f3 as Ns,b as At,bG as Mt,a as Ne,be as $s,f4 as So,f5 as Fe,cA as oa,f6 as Hn,q as $u,L as je,f7 as Mu,aP as ce,bz as E,f8 as Iu,c8 as No,cH as ht,f9 as Pu,fa as Du,U as W,da as $o,aM as ue,fb as Bu,fc as la,fd as Au,fe as Eu,ff as Mo,fg as Ms,cO as It,fh as Tu,fi as zu,by as ra,bv as Io,bx as Lu,$ as vn,J as he,dv as Kn,dt as Fu,du as Ru,b8 as Po,bS as Ue,fj as ca,e7 as Is,dx as Do,fk as _u,fl as Vu,fm as xi,fn as Uu,fo as Gt,fp as gi,fq as Ou,fr as Hu,fs as Ku,Z as Wu,ft as Xt,fu as Gu,fv as da,P as Oe,fw as qu,cI as Ps,fx as Bo,ch as ua,fy as pi,fz as bi,fA as ma,bU as Ao,a8 as He,fB as Zu,bD as fa,fC as Ve,fD as Et,fE as as,aB as Eo,aG as To,H as Tt,bi as ha,c0 as Xu,c1 as Qu,c2 as Yu,bY as Ju,fF as em,B as le,bF as zo,fG as tm,fH as xa,bw as xt,fI as Lo,fJ as St,c6 as yn,dw as nm,fK as Fo,fL as am,fM as vi,fN as sm,dp as Qe,W as ve,a3 as im,de as ga,bA as R,d as Ro,a4 as _o,ad as om,bE as zt,cK as Lt,a6 as Be,fO as lm,a1 as Vo,aV as Uo,fP as rm,ae as pa,af as ba,X as on,ai as ee,Y as va,ag as wn,am as Ie,an as ya,co as cm,fQ as Oo,fR as Ho,aj as Ko,al as Wo,ce as Wn,fS as Va,fT as dm,fU as um,fV as ss,dz as mm,fW as Go,fX as fm,h as et,aa as Ds,ab as Bs,ac as qo,bm as hm,bn as Zo,E as Qt,bC as xm,fY as gm,fZ as pm,A as bm,F as Te,I as Nt,ap as vm,f_ as ym,f$ as wm,az as wa,aC as ln,g0 as Xo,bd as Qo,g1 as Yo,g2 as km,g3 as jm,bB as Cm,g4 as Sm,g5 as Nm,d0 as Jo,g6 as $m,g7 as Ke,g8 as el,g9 as Mm,ga as Im,gb as ka,gc as tl,gd as yi,ge as Pm,di as Dm,dj as Vn,bZ as nl,gf as As,gg as Es,gh as al,gi as wi,gj as Bm,bV as Am,bW as Em,gk as Tm,gl as zm,gm as Lm,gn as is,go as Fm,b2 as ki,gp as sl,gq as Rm,gr as _m,gs as ji,gt as Ci,gu as os,gv as Vm,gw as rn,gx as Um,cc as ls,gy as Om,gz as Hm,gA as Km,gB as Wm,gC as Gm,br as qm,gD as Zm,c5 as Xm,gE as Qm,gF as Ym,ck as Jm,gG as e0,bf as t0,gH as n0,cG as a0,gI as s0,gJ as i0,gK as o0,gL as l0,cL as r0,b3 as c0,gM as d0,gN as u0,gO as m0,gP as f0,b0 as Si,gQ as h0,gR as x0,gS as Ni,gT as g0,bu as p0,gU as b0,gV as v0,M as y0}from"./index-BTMYyhc6.js";import{d as il,i as Ts,e as w0,f as ol,a as cn,g as $i,c as k0,h as j0,j as C0,k as rs,l as Gn,b as qn,A as qe,m as S0}from"./artwork-D9vxumxJ.js";import{B as ll,L as kn,m as rl,M as N0,b as $0,c as M0,n as cl,o as I0,p as dl,A as P0,q as D0,r as ul,s as B0,t as A0,u as E0,v as T0,w as z0,x as L0}from"./seo-D6wIoyVq.js";import{a as De}from"./formatNum-CBDReyYg.js";import{e as ml,g as fl,b as Zn,a as hl,d as F0}from"./utils-CORjiwlf.js";import{f as Mi,U as dn,a as rt,b as ja,c as Ca,r as zs,d as Ii,e as Pi,C as xl,g as R0,p as _0,h as V0,S as U0}from"./GeneratorStage-DJGZB2wF.js";import{g as tt,U as gl,B as O0,u as H0}from"./UserLink-D-ltrUye.js";import{o as Xn}from"./omitBy-8uwoqLo8.js";import{U as jn}from"./index-m6nh9vV8.js";import{M as Sa,i as K0}from"./MediaPreview-CrisSWrJ.js";import{o as W0,a as G0,f as q0,m as Z0,b as X0}from"./baseline-add-XAdAsUn_.js";import{u as Na,U as pl,i as Q0,s as Y0,a as J0}from"./AppLayout-Bx68cLmY.js";import{E as Cn}from"./Empty-CnG_cY_l.js";import{C as bl}from"./CircularSpinner-nWd4HBSC.js";import{V as e1,a as vl}from"./index-Cpf8OWOQ.js";import{c as Ft}from"./contextState-BhHzyxk5.js";import{E as t1,T as n1,u as Ls}from"./ArtworkInfoForm-BbAax4Gm.js";import{i as yl}from"./baseline-keyboard-arrow-down-CRihOzH-.js";import{i as Fs,a as a1,r as wl,b as s1}from"./baseline-file-upload-CCpLAcZk.js";import{$ as i1,a as o1}from"./Disclosure-DgCWlw5X.js";import{u as l1,i as r1}from"./baseline-cancel-RNUwgBax.js";import{Q as c1}from"./QuotaBalance-DP6pnxJ0.js";import{c as d1,d as u1,e as kl,$ as jl,U as Cl,a as cs,b as ds}from"./Tab-BLMS8a9U.js";import{T as Sl,M as m1,a as f1,b as h1}from"./ModelInfoForm-DCsOkC3d.js";import{i as Nl,M as x1,a as $l,T as Yt,G as g1,g as Ml,b as Il}from"./ModelAssetForm-CSHNk3Nd.js";import{C as Pl,a as Dl}from"./ControlSection-BIQjDNv8.js";import{u as p1,W as b1}from"./index-COYvdw4o.js";import{o as Bl}from"./omit-Crs8IPcz.js";import{a as v1,d as y1}from"./InspectDialog-BPHcKRwz.js";import{d as w1}from"./defaults-DtvpRUtA.js";import{S as k1}from"./SubmitForm-DI3f5b6W.js";import{u as j1,p as Al,M as C1,a as S1,m as N1,d as $1,b as M1,c as I1,T as P1,e as D1,f as B1}from"./ModelSubmitFormProvider-phtQjuMT.js";import{d as A1,i as E1,a as T1}from"./ModelEditRequest-ZSfXOuoq.js";import{B as z1,S as Di}from"./dismiss-24-filled-DmGl87MD.js";import{S as El}from"./baseline-circle-DKv3JZ6t.js";import{f as L1}from"./add-24-filled-BdM6xnA7.js";import{i as Tl}from"./baseline-check-Bx2631SZ.js";import{u as zl,a as F1,U as Ll}from"./unFile-B3RwQvIR.js";import{M as Pt}from"./MenuItem-DLax9T5L.js";import{u as R1}from"./pagination-B34yMghJ.js";import{i as _1}from"./round-plus-RCIMN6sR.js";import{i as V1}from"./_isIterateeCall-Bz6vLv_6.js";import{g as Fl}from"./formUtil-BZLyjGym.js";import{g as Rl}from"./cursorPagingUtils-YTUXhLAt.js";import{u as Rs}from"./uniqBy-DWZdfvgJ.js";import{i as U1}from"./baseline-edit-CrCwmctU.js";import{S as Bi}from"./Slider-0j-9tQ0Y.js";import{u as O1}from"./useEvent-D4asvikd.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="62a3ee0d-54a9-4833-a11b-347ca0218bc1",e._sentryDebugIdIdentifier="sentry-dbid-62a3ee0d-54a9-4833-a11b-347ca0218bc1")}catch{}})();{var zn=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};zn._sentryModuleMetadata=zn._sentryModuleMetadata||{},zn._sentryModuleMetadata[new Error().stack]=Object.assign({},zn._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}let jt;function _l(){if(jt)return jt;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),jt="reverse",e.scrollLeft>0?jt="default":(e.scrollLeft=1,e.scrollLeft===0&&(jt="negative")),document.body.removeChild(e),jt}function H1(e,t){const a=e.scrollLeft;if(t!=="rtl")return a;switch(_l()){case"negative":return e.scrollWidth-e.clientWidth+a;case"reverse":return e.scrollWidth-e.clientWidth-a;default:return a}}function us(e){return e==null}var K1=Math.floor,W1=Math.random;function G1(e,t){return e+K1(W1()*(t-e+1))}var q1=parseFloat,Z1=Math.min,X1=Math.random;function Q1(e,t,a){if(a&&typeof a!="boolean"&&V1(e,t,a)&&(t=a=void 0),a===void 0&&(typeof t=="boolean"?(a=t,t=void 0):typeof e=="boolean"&&(a=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=ui(e),t===void 0?(t=e,e=0):t=ui(t)),e>t){var s=e;e=t,t=s}if(a||e%1||t%1){var i=X1();return Z1(e+i*(t-e+q1("1e-"+((i+"").length-1))),t)}return G1(e,t)}var Y1=function(e){var t=u.useRef(0),a=u.useState(e),s=a[0],i=a[1],o=u.useCallback(function(l){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(l)})},[]);return zl(function(){cancelAnimationFrame(t.current)}),[s,o]},J1=function(e){var t=Y1({x:0,y:0}),a=t[0],s=t[1];return u.useEffect(function(){var i=function(){e.current&&s({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&Hd(e.current,"scroll",i,{capture:!1,passive:!0}),function(){e.current&&Kd(e.current,"scroll",i)}},[e]),a};function _s(e,t){const a=Wd(e,t);return u.useCallback(s=>a(an(s)),[a])}function ef(e,t){return[co(e,t),_s(e,t)]}function tf(e,t){const a=u.useRef(!0),s=u.useRef(null);u.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),u.useEffect(()=>{a.current?a.current=!1:(!s.current||t.some((i,o)=>!Object.is(i,s[o])))&&e(),s.current=t},t)}const Sn=u.createContext({}),Pe=uo(function(t,a){[t,a]=ke(t,a,Sn);let{elementType:s="label",...i}=t;return _.createElement(s,{className:"react-aria-Label",...i,ref:a})}),Vl={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},Ul={...Vl,customError:!0,valid:!1},qt={isInvalid:!1,validationDetails:Vl,validationErrors:[]},Ol=u.createContext({}),Ai="__formValidationState"+Date.now();function Vs(e){if(e[Ai]){let{realtimeValidation:t,displayValidation:a,updateValidation:s,resetValidation:i,commitValidation:o}=e[Ai];return{realtimeValidation:t,displayValidation:a,updateValidation:s,resetValidation:i,commitValidation:o}}return nf(e)}function nf(e){let{isInvalid:t,validationState:a,name:s,value:i,builtinValidation:o,validate:l,validationBehavior:r="aria"}=e;a&&(t||(t=a==="invalid"));let c=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:Ul}:null,d=u.useMemo(()=>{if(!l||i==null)return null;let M=af(l,i);return Ei(M)},[l,i]);o!=null&&o.validationDetails.valid&&(o=void 0);let m=u.useContext(Ol),f=u.useMemo(()=>s?Array.isArray(s)?s.flatMap(M=>ms(m[M])):ms(m[s]):[],[m,s]),[h,x]=u.useState(m),[g,v]=u.useState(!1);m!==h&&(x(m),v(!1));let p=u.useMemo(()=>Ei(g?[]:f),[g,f]),k=u.useRef(qt),[b,j]=u.useState(qt),S=u.useRef(qt),y=()=>{if(!C)return;N(!1);let M=d||o||k.current;Ua(M,S.current)||(S.current=M,j(M))},[C,N]=u.useState(!1);return u.useEffect(y),{realtimeValidation:c||p||d||o||qt,displayValidation:r==="native"?c||p||b:c||p||d||o||b,updateValidation(M){r==="aria"&&!Ua(b,M)?j(M):k.current=M},resetValidation(){let M=qt;Ua(M,S.current)||(S.current=M,j(M)),r==="native"&&N(!1),v(!0)},commitValidation(){r==="native"&&N(!0),v(!0)}}}function ms(e){return e?Array.isArray(e)?e:[e]:[]}function af(e,t){if(typeof e=="function"){let a=e(t);if(a&&typeof a!="boolean")return ms(a)}return[]}function Ei(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:Ul}:null}function Ua(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((a,s)=>a===t.validationErrors[s])&&Object.entries(e.validationDetails).every(([a,s])=>t.validationDetails[a]===s)}function Us(e,t,a){let{validationBehavior:s,focus:i}=e;Gd(()=>{if(s==="native"&&(a!=null&&a.current)&&!a.current.disabled){let c=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";a.current.setCustomValidity(c),a.current.hasAttribute("title")||(a.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(of(a.current))}});let o=_a(()=>{t.resetValidation()}),l=_a(c=>{var d;t.displayValidation.isInvalid||t.commitValidation();let m=a==null||(d=a.current)===null||d===void 0?void 0:d.form;if(!c.defaultPrevented&&a&&m&&lf(m)===a.current){var f;i?i():(f=a.current)===null||f===void 0||f.focus(),mo("keyboard")}c.preventDefault()}),r=_a(()=>{t.commitValidation()});u.useEffect(()=>{let c=a==null?void 0:a.current;if(!c)return;let d=c.form;return c.addEventListener("invalid",l),c.addEventListener("change",r),d==null||d.addEventListener("reset",o),()=>{c.removeEventListener("invalid",l),c.removeEventListener("change",r),d==null||d.removeEventListener("reset",o)}},[a,l,r,o,s])}function sf(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function of(e){return{isInvalid:!e.validity.valid,validationDetails:sf(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function lf(e){for(let t=0;t<e.elements.length;t++){let a=e.elements[t];if(!a.validity.valid)return a}return null}function Hl(e){let{id:t,label:a,"aria-labelledby":s,"aria-label":i,labelElementType:o="label"}=e;t=Ye(t);let l=Ye(),r={};a?(s=s?`${l} ${s}`:l,r={id:l,htmlFor:o==="label"?t:void 0}):!s&&!i&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let c=qd({id:t,"aria-label":i,"aria-labelledby":s});return{labelProps:r,fieldProps:c}}function $a(e){let{description:t,errorMessage:a,isInvalid:s,validationState:i}=e,{labelProps:o,fieldProps:l}=Hl(e),r=sn([!!t,!!a,s,i]),c=sn([!!t,!!a,s,i]);return l=ne(l,{"aria-describedby":[r,c,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:l,descriptionProps:{id:r},errorMessageProps:{id:c}}}function rf(e,t){let{inputElementType:a="input",isDisabled:s=!1,isRequired:i=!1,isReadOnly:o=!1,type:l="text",validationBehavior:r="aria"}=e,[c,d]=fo(e.value,e.defaultValue||"",e.onChange),{focusableProps:m}=ho(e,t),f=Vs({...e,value:c}),{isInvalid:h,validationErrors:x,validationDetails:g}=f.displayValidation,{labelProps:v,fieldProps:p,descriptionProps:k,errorMessageProps:b}=$a({...e,isInvalid:h,errorMessage:e.errorMessage||x}),j=oe(e,{labelable:!0});const S={type:l,pattern:e.pattern};return ys(t,c,d),Us(e,f,t),u.useEffect(()=>{if(t.current instanceof Zd(t.current).HTMLTextAreaElement){let y=t.current;Object.defineProperty(y,"defaultValue",{get:()=>y.value,set:()=>{},configurable:!0})}},[t]),{labelProps:v,inputProps:ne(j,a==="input"?S:void 0,{disabled:s,readOnly:o,required:i&&r==="native","aria-required":i&&r==="aria"||void 0,"aria-invalid":h||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:c,onChange:y=>d(y.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...m,...p}),descriptionProps:k,errorMessageProps:b,isInvalid:h,validationErrors:x,validationDetails:g}}const Os=new WeakMap;function cf(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function df(e,t){let a=Os.get(e);if(!a)throw new Error("Unknown list");return`${a.id}-option-${cf(t)}`}function uf(e,t,a){let s=oe(e,{labelable:!0}),i=e.selectionBehavior||"toggle",o=e.linkBehavior||(i==="replace"?"action":"override");i==="toggle"&&o==="action"&&(o="override");let{listProps:l}=xo({...e,ref:a,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:o}),{focusWithinProps:r}=ws({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),c=Ye(e.id);Os.set(t,{id:c,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:o});let{labelProps:d,fieldProps:m}=Hl({...e,id:c,labelElementType:"span"});return{labelProps:d,listBoxProps:ne(s,r,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...ne(m,l)})}}function mf(e,t,a){var s,i;let{key:o}=e,l=Os.get(t);var r;let c=(r=e.isDisabled)!==null&&r!==void 0?r:t.selectionManager.isDisabled(o);var d;let m=(d=e.isSelected)!==null&&d!==void 0?d:t.selectionManager.isSelected(o);var f;let h=(f=e.shouldSelectOnPressUp)!==null&&f!==void 0?f:l==null?void 0:l.shouldSelectOnPressUp;var x;let g=(x=e.shouldFocusOnHover)!==null&&x!==void 0?x:l==null?void 0:l.shouldFocusOnHover;var v;let p=(v=e.shouldUseVirtualFocus)!==null&&v!==void 0?v:l==null?void 0:l.shouldUseVirtualFocus;var k;let b=(k=e.isVirtualized)!==null&&k!==void 0?k:l==null?void 0:l.isVirtualized,j=sn(),S=sn(),y={role:"option","aria-disabled":c||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?m:void 0};Xd()&&Qd()||(y["aria-label"]=e["aria-label"],y["aria-labelledby"]=j,y["aria-describedby"]=S);let C=t.collection.getItem(o);if(b){let O=Number(C==null?void 0:C.index);y["aria-posinset"]=Number.isNaN(O)?void 0:O+1,y["aria-setsize"]=Yd(t.collection)}let N=l!=null&&l.onAction?()=>{var O;return l==null||(O=l.onAction)===null||O===void 0?void 0:O.call(l,o)}:void 0,B=df(t,o),{itemProps:$,isPressed:M,isFocused:I,hasAction:z,allowsSelection:A}=go({selectionManager:t.selectionManager,key:o,ref:a,shouldSelectOnPressUp:h,allowsDifferentPressOrigin:h&&g,isVirtualized:b,shouldUseVirtualFocus:p,isDisabled:c,onAction:N||!(C==null||(s=C.props)===null||s===void 0)&&s.onAction?ks(C==null||(i=C.props)===null||i===void 0?void 0:i.onAction,N):void 0,linkBehavior:l==null?void 0:l.linkBehavior,id:B}),{hoverProps:V}=ta({isDisabled:c||!g,onHoverStart(){ts()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(o))}}),Z=oe(C==null?void 0:C.props);delete Z.id;let L=Jd(C==null?void 0:C.props);return{optionProps:{...y,...ne(Z,$,V,L),id:B},labelProps:{id:j},descriptionProps:{id:S},isFocused:I,isFocusVisible:I&&ts(),isSelected:m,isDisabled:c,isPressed:M,allowsSelection:A,hasAction:z}}function ff(e){let{heading:t,"aria-label":a}=e,s=Ye();return{itemProps:{role:"presentation"},headingProps:t?{id:s,role:"presentation"}:{},groupProps:{role:"group","aria-label":a,"aria-labelledby":t?s:void 0}}}const Hs=new WeakMap;function Ti(e,t){var a;let{id:s}=(a=Hs.get(e))!==null&&a!==void 0?a:{};if(!s)throw new Error("Unknown list");return`${s}-${hf(t)}`}function hf(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}var Kl={};Kl={deselectedItem:e=>`${e.item} غير المحدد`,longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>`${t.number(e.count)} عنصر محدد`,other:()=>`${t.number(e.count)} عنصر محدد`})}.`,selectedItem:e=>`${e.item} المحدد`};var Wl={};Wl={deselectedItem:e=>`${e.item} не е избран.`,longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>`${t.number(e.count)} избран елемент`,other:()=>`${t.number(e.count)} избрани елементи`})}.`,selectedItem:e=>`${e.item} избран.`};var Gl={};Gl={deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})}.`,selectedItem:e=>`Vybrána položka ${e.item}.`};var ql={};ql={deselectedItem:e=>`${e.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>`${t.number(e.count)} element valgt`,other:()=>`${t.number(e.count)} elementer valgt`})}.`,selectedItem:e=>`${e.item} valgt.`};var Zl={};Zl={deselectedItem:e=>`${e.item} nicht ausgewählt.`,longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>`${t.number(e.count)} Element ausgewählt`,other:()=>`${t.number(e.count)} Elemente ausgewählt`})}.`,selectedItem:e=>`${e.item} ausgewählt.`};var Xl={};Xl={deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})}.`,selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`};var Ql={};Ql={deselectedItem:e=>`${e.item} not selected.`,select:"Select",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"No items selected",one:()=>`${t.number(e.count)} item selected`,other:()=>`${t.number(e.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:e=>`${e.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var Yl={};Yl={deselectedItem:e=>`${e.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>`${t.number(e.count)} elemento seleccionado`,other:()=>`${t.number(e.count)} elementos seleccionados`})}.`,selectedItem:e=>`${e.item} seleccionado.`};var Jl={};Jl={deselectedItem:e=>`${e.item} pole valitud.`,longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>`${t.number(e.count)} üksus valitud`,other:()=>`${t.number(e.count)} üksust valitud`})}.`,selectedItem:e=>`${e.item} valitud.`};var er={};er={deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>`${t.number(e.count)} kohde valittu`,other:()=>`${t.number(e.count)} kohdetta valittu`})}.`,selectedItem:e=>`${e.item} valittu.`};var tr={};tr={deselectedItem:e=>`${e.item} non sélectionné.`,longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>`${t.number(e.count)} élément sélectionné`,other:()=>`${t.number(e.count)} éléments sélectionnés`})}.`,selectedItem:e=>`${e.item} sélectionné.`};var nr={};nr={deselectedItem:e=>`${e.item} לא נבחר.`,longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>`${t.number(e.count)} פריטים נבחרו`})}.`,selectedItem:e=>`${e.item} נבחר.`};var ar={};ar={deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`Stavka ${e.item} je odabrana.`};var sr={};sr={deselectedItem:e=>`${e.item} nincs kijelölve.`,longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>`${t.number(e.count)} elem kijelölve`,other:()=>`${t.number(e.count)} elem kijelölve`})}.`,selectedItem:e=>`${e.item} kijelölve.`};var ir={};ir={deselectedItem:e=>`${e.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>`${t.number(e.count)} elemento selezionato`,other:()=>`${t.number(e.count)} elementi selezionati`})}.`,selectedItem:e=>`${e.item} selezionato.`};var or={};or={deselectedItem:e=>`${e.item} が選択されていません。`,longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"項目が選択されていません",one:()=>`${t.number(e.count)} 項目を選択しました`,other:()=>`${t.number(e.count)} 項目を選択しました`})}。`,selectedItem:e=>`${e.item} を選択しました。`};var lr={};lr={deselectedItem:e=>`${e.item}이(가) 선택되지 않았습니다.`,longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>`${t.number(e.count)}개 항목이 선택되었습니다`,other:()=>`${t.number(e.count)}개 항목이 선택되었습니다`})}.`,selectedItem:e=>`${e.item}이(가) 선택되었습니다.`};var rr={};rr={deselectedItem:e=>`${e.item} nepasirinkta.`,longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>`Pasirinkta elementų: ${t.number(e.count)}`})}.`,selectedItem:e=>`Pasirinkta: ${e.item}.`};var cr={};cr={deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`,other:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`})}.`,selectedItem:e=>`Atlasīts vienums ${e.item}.`};var dr={};dr={deselectedItem:e=>`${e.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>`${t.number(e.count)} element er valgt`,other:()=>`${t.number(e.count)} elementer er valgt`})}.`,selectedItem:e=>`${e.item} er valgt.`};var ur={};ur={deselectedItem:e=>`${e.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>`${t.number(e.count)} item geselecteerd`,other:()=>`${t.number(e.count)} items geselecteerd`})}.`,selectedItem:e=>`${e.item} geselecteerd.`};var mr={};mr={deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>`${t.number(e.count)} zaznaczony element`,other:()=>`${t.number(e.count)} zaznaczonych elementów`})}.`,selectedItem:e=>`Zaznaczono ${e.item}.`};var fr={};fr={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var hr={};hr={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var xr={};xr={deselectedItem:e=>`${e.item} neselectat.`,longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Niciun element selectat",one:()=>`${t.number(e.count)} element selectat`,other:()=>`${t.number(e.count)} elemente selectate`})}.`,selectedItem:e=>`${e.item} selectat.`};var gr={};gr={deselectedItem:e=>`${e.item} не выбрано.`,longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>`${t.number(e.count)} элемент выбран`,other:()=>`${t.number(e.count)} элементов выбрано`})}.`,selectedItem:e=>`${e.item} выбрано.`};var pr={};pr={deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>`${t.number(e.count)} vybratá položka`,other:()=>`Počet vybratých položiek:${t.number(e.count)}`})}.`,selectedItem:e=>`Vybraté položky: ${e.item}.`};var br={};br={deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>`${t.number(e.count)} element je izbran`,other:()=>`${t.number(e.count)} elementov je izbranih`})}.`,selectedItem:e=>`Element ${e.item} je izbran.`};var vr={};vr={deselectedItem:e=>`${e.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`${e.item} je izabrano.`};var yr={};yr={deselectedItem:e=>`${e.item} ej markerat.`,longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>`${t.number(e.count)} markerat objekt`,other:()=>`${t.number(e.count)} markerade objekt`})}.`,selectedItem:e=>`${e.item} markerat.`};var wr={};wr={deselectedItem:e=>`${e.item} seçilmedi.`,longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>`${t.number(e.count)} öge seçildi`,other:()=>`${t.number(e.count)} öge seçildi`})}.`,selectedItem:e=>`${e.item} seçildi.`};var kr={};kr={deselectedItem:e=>`${e.item} не вибрано.`,longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>`${t.number(e.count)} елемент вибрано`,other:()=>`Вибрано елементів: ${t.number(e.count)}`})}.`,selectedItem:e=>`${e.item} вибрано.`};var jr={};jr={deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})}。`,selectedItem:e=>`已选择 ${e.item}。`};var Cr={};Cr={deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})}。`,selectedItem:e=>`已選取「${e.item}」。`};var Ks={};Ks={"ar-AE":Kl,"bg-BG":Wl,"cs-CZ":Gl,"da-DK":ql,"de-DE":Zl,"el-GR":Xl,"en-US":Ql,"es-ES":Yl,"et-EE":Jl,"fi-FI":er,"fr-FR":tr,"he-IL":nr,"hr-HR":ar,"hu-HU":sr,"it-IT":ir,"ja-JP":or,"ko-KR":lr,"lt-LT":rr,"lv-LV":cr,"nb-NO":dr,"nl-NL":ur,"pl-PL":mr,"pt-BR":fr,"pt-PT":hr,"ro-RO":xr,"ru-RU":gr,"sk-SK":pr,"sl-SI":br,"sr-SP":vr,"sv-SE":yr,"tr-TR":wr,"uk-UA":kr,"zh-CN":jr,"zh-TW":Cr};function xf(e){return e&&e.__esModule?e.default:e}function gf(e,t){let{getRowText:a=l=>{var r,c,d,m;return(m=(r=(c=t.collection).getTextValue)===null||r===void 0?void 0:r.call(c,l))!==null&&m!==void 0?m:(d=t.collection.getItem(l))===null||d===void 0?void 0:d.textValue}}=e,s=na(xf(Ks),"@react-aria/grid"),i=t.selectionManager.rawSelection,o=u.useRef(i);tf(()=>{var l;if(!t.selectionManager.isFocused){o.current=i;return}let r=zi(i,o.current),c=zi(o.current,i),d=t.selectionManager.selectionBehavior==="replace",m=[];if(t.selectionManager.selectedKeys.size===1&&d){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let f=a(t.selectionManager.selectedKeys.keys().next().value);f&&m.push(s.format("selectedItem",{item:f}))}}else if(r.size===1&&c.size===0){let f=a(r.keys().next().value);f&&m.push(s.format("selectedItem",{item:f}))}else if(c.size===1&&r.size===0&&t.collection.getItem(c.keys().next().value)){let f=a(c.keys().next().value);f&&m.push(s.format("deselectedItem",{item:f}))}t.selectionManager.selectionMode==="multiple"&&(m.length===0||i==="all"||i.size>1||o.current==="all"||((l=o.current)===null||l===void 0?void 0:l.size)>1)&&m.push(i==="all"?s.format("selectedAll"):s.format("selectedCount",{count:i.size})),m.length>0&&eu(m.join(" ")),o.current=i},[i])}function zi(e,t){let a=new Set;if(e==="all"||t==="all")return a;for(let s of e.keys())t.has(s)||a.add(s);return a}function pf(e){return e&&e.__esModule?e.default:e}function bf(e){let t=na(pf(Ks),"@react-aria/grid"),a=po(),s=(a==="pointer"||a==="virtual"||a==null)&&typeof window<"u"&&"ontouchstart"in window,i=u.useMemo(()=>{let l=e.selectionManager.selectionMode,r=e.selectionManager.selectionBehavior,c;return s&&(c=t.format("longPressToSelect")),r==="replace"&&l!=="none"&&e.hasItemActions?c:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,s]);return bo(i)}function vf(e,t,a){let{isVirtualized:s,keyboardDelegate:i,layoutDelegate:o,onAction:l,linkBehavior:r="action",keyboardNavigationBehavior:c="arrow"}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:d}=xo({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:a,keyboardDelegate:i,layoutDelegate:o,isVirtualized:s,selectOnFocus:t.selectionManager.selectionBehavior==="replace",shouldFocusWrap:e.shouldFocusWrap,linkBehavior:r}),m=Ye(e.id);Hs.set(t,{id:m,onAction:l,linkBehavior:r,keyboardNavigationBehavior:c});let f=bf({selectionManager:t.selectionManager,hasItemActions:!!l}),h=d1(a,{isDisabled:t.collection.size!==0}),x=oe(e,{labelable:!0}),g=ne(x,{role:"grid",id:m,"aria-multiselectable":t.selectionManager.selectionMode==="multiple"?"true":void 0},t.collection.size===0?{tabIndex:h?-1:0}:d,f);return s&&(g["aria-rowcount"]=t.collection.size,g["aria-colcount"]=1),gf({},t),{gridProps:g}}const Li={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function yf(e,t,a){var s,i;let{node:o,isVirtualized:l,shouldSelectOnPressUp:r}=e,{direction:c}=aa(),{onAction:d,linkBehavior:m,keyboardNavigationBehavior:f}=Hs.get(t),h=sn(),x=u.useRef(null),g=()=>{var L;a.current!==null&&(x.current!=null&&o.key!==x.current||!(!((L=a.current)===null||L===void 0)&&L.contains(document.activeElement)))&&it(a.current)},v={},p,k=t.selectionManager.isLink(o.key);if(o!=null&&"expandedKeys"in t){var b,j,S;let L=(b=(j=t.collection).getChildren)===null||b===void 0?void 0:b.call(j,o.key);p=[...L??[]].length>1,d==null&&!k&&t.selectionManager.selectionMode==="none"&&p&&(d=()=>t.toggleKey(o.key));let O=p?t.expandedKeys.has(o.key):void 0,Q=1;var y;if(o.level>0&&(o==null?void 0:o.parentKey)!=null){let K=t.collection.getItem(o.parentKey);if(K){var C,N;let H=(C=(N=t.collection).getChildren)===null||C===void 0?void 0:C.call(N,K.key);Q=tu(H).index+1}}else Q=((y=(S=[...t.collection].filter(K=>K.level===0).at(-1))===null||S===void 0?void 0:S.index)!==null&&y!==void 0?y:0)+1;v={"aria-expanded":O,"aria-level":o.level+1,"aria-posinset":(o==null?void 0:o.index)+1,"aria-setsize":Q}}let{itemProps:B,...$}=go({selectionManager:t.selectionManager,key:o.key,ref:a,isVirtualized:l,shouldSelectOnPressUp:r,onAction:d||!((s=o.props)===null||s===void 0)&&s.onAction?ks((i=o.props)===null||i===void 0?void 0:i.onAction,d?()=>d(o.key):void 0):void 0,focus:g,linkBehavior:m}),M=L=>{if(!L.currentTarget.contains(L.target)||!a.current||!document.activeElement)return;let O=ns(a.current);if(O.currentNode=document.activeElement,"expandedKeys"in t&&document.activeElement===a.current){if(L.key===Li.expand[c]&&t.selectionManager.focusedKey===o.key&&p&&!t.expandedKeys.has(o.key)){t.toggleKey(o.key),L.stopPropagation();return}else if(L.key===Li.collapse[c]&&t.selectionManager.focusedKey===o.key&&p&&t.expandedKeys.has(o.key)){t.toggleKey(o.key),L.stopPropagation();return}}switch(L.key){case"ArrowLeft":if(f==="arrow"){let K=c==="rtl"?O.nextNode():O.previousNode();if(K)L.preventDefault(),L.stopPropagation(),it(K),wt(K,{containingElement:kt(a.current)});else if(L.preventDefault(),L.stopPropagation(),c==="rtl")it(a.current),wt(a.current,{containingElement:kt(a.current)});else{O.currentNode=a.current;let H=Fi(O);H&&(it(H),wt(H,{containingElement:kt(a.current)}))}}break;case"ArrowRight":if(f==="arrow"){let K=c==="rtl"?O.previousNode():O.nextNode();if(K)L.preventDefault(),L.stopPropagation(),it(K),wt(K,{containingElement:kt(a.current)});else if(L.preventDefault(),L.stopPropagation(),c==="ltr")it(a.current),wt(a.current,{containingElement:kt(a.current)});else{O.currentNode=a.current;let H=Fi(O);H&&(it(H),wt(H,{containingElement:kt(a.current)}))}}break;case"ArrowUp":case"ArrowDown":if(!L.altKey&&a.current.contains(L.target)){var Q;L.stopPropagation(),L.preventDefault(),(Q=a.current.parentElement)===null||Q===void 0||Q.dispatchEvent(new KeyboardEvent(L.nativeEvent.type,L.nativeEvent))}break;case"Tab":if(f==="tab"){let K=ns(a.current,{tabbable:!0});K.currentNode=document.activeElement,(L.shiftKey?K.previousNode():K.nextNode())&&L.stopPropagation()}}},I=L=>{if(x.current=o.key,L.target!==a.current){ts()||t.selectionManager.setFocusedKey(o.key);return}},z=vo(o.props),A=$.hasAction?z:{},V=ne(B,A,{role:"row",onKeyDownCapture:M,onFocus:I,"aria-label":o.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(o.key)?t.selectionManager.isSelected(o.key):void 0,"aria-disabled":t.selectionManager.isDisabled(o.key)||void 0,"aria-labelledby":h&&o.textValue?`${Ti(t,o.key)} ${h}`:void 0,id:Ti(t,o.key)});l&&(V["aria-rowindex"]=o.index+1);let Z={role:"gridcell","aria-colindex":1};return{rowProps:{...ne(V,v)},gridCellProps:Z,descriptionProps:{id:h},...$}}function Fi(e){let t=null,a=null;do a=e.lastChild(),a&&(t=a);while(a);return t}const Sr=new WeakMap;function wf(e,t,a){let{value:s,children:i,"aria-label":o,"aria-labelledby":l}=e;const r=e.isDisabled||t.isDisabled;let c=i!=null,d=o!=null||l!=null;!c&&!d&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let m=t.selectedValue===s,f=B=>{B.stopPropagation(),t.setSelectedValue(s)},{pressProps:h,isPressed:x}=mi({isDisabled:r}),{pressProps:g,isPressed:v}=mi({isDisabled:r,onPress(){t.setSelectedValue(s)}}),{focusableProps:p}=ho(ne(e,{onFocus:()=>t.setLastFocusedValue(s)}),a),k=ne(h,p),b=oe(e,{labelable:!0}),j=-1;t.selectedValue!=null?t.selectedValue===s&&(j=0):(t.lastFocusedValue===s||t.lastFocusedValue==null)&&(j=0),r&&(j=void 0);let{name:S,descriptionId:y,errorMessageId:C,validationBehavior:N}=Sr.get(t);return ys(a,t.selectedValue,t.setSelectedValue),Us({validationBehavior:N},t,a),{labelProps:ne(g,{onClick:B=>B.preventDefault()}),inputProps:ne(b,{...k,type:"radio",name:S,tabIndex:j,disabled:r,required:t.isRequired&&N==="native",checked:m,value:s,onChange:f,"aria-describedby":[e["aria-describedby"],t.isInvalid?C:null,y].filter(Boolean).join(" ")||void 0}),isDisabled:r,isSelected:m,isPressed:x||v}}function kf(e,t){let{name:a,isReadOnly:s,isRequired:i,isDisabled:o,orientation:l="vertical",validationBehavior:r="aria"}=e,{direction:c}=aa(),{isInvalid:d,validationErrors:m,validationDetails:f}=t.displayValidation,{labelProps:h,fieldProps:x,descriptionProps:g,errorMessageProps:v}=$a({...e,labelElementType:"span",isInvalid:t.isInvalid,errorMessage:e.errorMessage||m}),p=oe(e,{labelable:!0}),{focusWithinProps:k}=ws({onBlurWithin(S){var y;(y=e.onBlur)===null||y===void 0||y.call(e,S),t.selectedValue||t.setLastFocusedValue(null)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),b=S=>{let y;switch(S.key){case"ArrowRight":c==="rtl"&&l!=="vertical"?y="prev":y="next";break;case"ArrowLeft":c==="rtl"&&l!=="vertical"?y="next":y="prev";break;case"ArrowDown":y="next";break;case"ArrowUp":y="prev";break;default:return}S.preventDefault();let C=ns(S.currentTarget,{from:S.target}),N;y==="next"?(N=C.nextNode(),N||(C.currentNode=S.currentTarget,N=C.firstChild())):(N=C.previousNode(),N||(C.currentNode=S.currentTarget,N=C.lastChild())),N&&(N.focus(),t.setSelectedValue(N.value))},j=Ye(a);return Sr.set(t,{name:j,descriptionId:g.id,errorMessageId:v.id,validationBehavior:r}),{radioGroupProps:ne(p,{role:"radiogroup",onKeyDown:b,"aria-invalid":t.isInvalid||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":s||void 0,"aria-required":i||void 0,"aria-disabled":o||void 0,"aria-orientation":l,...x,...k}),labelProps:h,descriptionProps:g,errorMessageProps:v,isInvalid:d,validationErrors:m,validationDetails:f}}const Nr=new WeakMap;function jf(e,t,a){let{keyboardDelegate:s,isDisabled:i,isRequired:o,name:l,validationBehavior:r="aria"}=e,c=yo({usage:"search",sensitivity:"base"}),d=u.useMemo(()=>s||new js(t.collection,t.disabledKeys,a,c),[s,t.collection,t.disabledKeys,c]),{menuTriggerProps:m,menuProps:f}=nu({isDisabled:i,type:"listbox"},t,a),h=B=>{switch(B.key){case"ArrowLeft":{var $,M;B.preventDefault();let A=t.selectedKey!=null?($=d.getKeyAbove)===null||$===void 0?void 0:$.call(d,t.selectedKey):(M=d.getFirstKey)===null||M===void 0?void 0:M.call(d);A&&t.setSelectedKey(A);break}case"ArrowRight":{var I,z;B.preventDefault();let A=t.selectedKey!=null?(I=d.getKeyBelow)===null||I===void 0?void 0:I.call(d,t.selectedKey):(z=d.getFirstKey)===null||z===void 0?void 0:z.call(d);A&&t.setSelectedKey(A);break}}},{typeSelectProps:x}=au({keyboardDelegate:d,selectionManager:t.selectionManager,onTypeSelect(B){t.setSelectedKey(B)}}),{isInvalid:g,validationErrors:v,validationDetails:p}=t.displayValidation,{labelProps:k,fieldProps:b,descriptionProps:j,errorMessageProps:S}=$a({...e,labelElementType:"span",isInvalid:g,errorMessage:e.errorMessage||v});x.onKeyDown=x.onKeyDownCapture,delete x.onKeyDownCapture;let y=oe(e,{labelable:!0}),C=ne(x,m,b),N=Ye();return Nr.set(t,{isDisabled:i,isRequired:o,name:l,validationBehavior:r}),{labelProps:{...k,onClick:()=>{if(!e.isDisabled){var B;(B=a.current)===null||B===void 0||B.focus(),mo("keyboard")}}},triggerProps:ne(y,{...C,isDisabled:i,onKeyDown:ks(C.onKeyDown,h,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[N,C["aria-labelledby"],C["aria-label"]&&!C["aria-labelledby"]?C.id:null].filter(Boolean).join(" "),onFocus(B){t.isFocused||(e.onFocus&&e.onFocus(B),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(B){t.isOpen||(e.onBlur&&e.onBlur(B),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:N},menuProps:{...f,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:B=>{B.currentTarget.contains(B.relatedTarget)||(e.onBlur&&e.onBlur(B),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[b["aria-labelledby"],C["aria-label"]&&!b["aria-labelledby"]?C.id:null].filter(Boolean).join(" ")},descriptionProps:j,errorMessageProps:S,isInvalid:g,validationErrors:v,validationDetails:p}}function Cf(e,t,a){let s=Nr.get(t)||{},{autoComplete:i,name:o=s.name,isDisabled:l=s.isDisabled}=e,{validationBehavior:r,isRequired:c}=s,{visuallyHiddenProps:d}=su();ys(e.selectRef,t.selectedKey,t.setSelectedKey),Us({validationBehavior:r,focus:()=>{var f;return(f=a.current)===null||f===void 0?void 0:f.focus()}},t,e.selectRef);var m;return{containerProps:{...d,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:i,disabled:l,required:r==="native"&&c,name:o,value:(m=t.selectedKey)!==null&&m!==void 0?m:"",onChange:f=>t.setSelectedKey(f.target.value)}}}function Sf(e){let{state:t,triggerRef:a,label:s,name:i,isDisabled:o}=e,l=u.useRef(null),{containerProps:r,selectProps:c}=Cf({...e,selectRef:l},t,a);var d;return t.collection.size<=300?_.createElement("div",{...r,"data-testid":"hidden-select-container"},_.createElement("label",null,s,_.createElement("select",{...c,ref:l},_.createElement("option",null),[...t.collection.getKeys()].map(m=>{let f=t.collection.getItem(m);if(f&&f.type==="item")return _.createElement("option",{key:f.key,value:f.key},f.textValue)})))):i?_.createElement("input",{type:"hidden",autoComplete:c.autoComplete,name:i,disabled:o,value:(d=t.selectedKey)!==null&&d!==void 0?d:""}):null}const $r=new WeakMap;function Nf(e,t,a){let{direction:s}=aa(),i=e.keyboardDelegate||new js({collection:t.collection,ref:a,orientation:"horizontal",direction:s,disabledKeys:t.disabledKeys,disabledBehavior:t.selectionManager.disabledBehavior}),{labelProps:o,fieldProps:l,descriptionProps:r,errorMessageProps:c}=$a({...e,labelElementType:"span"}),{gridProps:d}=vf({...e,...l,keyboardDelegate:i,shouldFocusWrap:!0,linkBehavior:"override"},t,a),[m,f]=u.useState(!1),{focusWithinProps:h}=ws({onFocusWithinChange:f}),x=oe(e),g=u.useRef(t.collection.size);return u.useEffect(()=>{a.current&&g.current>0&&t.collection.size===0&&m&&a.current.focus(),g.current=t.collection.size},[t.collection.size,m,a]),$r.set(t,{onRemove:e.onRemove}),{gridProps:ne(d,x,{role:t.collection.size?"grid":null,"aria-atomic":!1,"aria-relevant":"additions","aria-live":m?"polite":"off",...h,...l}),labelProps:o,descriptionProps:r,errorMessageProps:c}}var Mr={};Mr={removeButtonLabel:"إزالة",removeDescription:"اضغط على مفتاح DELETE لإزالة علامة."};var Ir={};Ir={removeButtonLabel:"Премахване",removeDescription:"Натиснете Delete, за да премахнете маркера."};var Pr={};Pr={removeButtonLabel:"Odebrat",removeDescription:"Stisknutím klávesy Delete odeberete značku."};var Dr={};Dr={removeButtonLabel:"Fjern",removeDescription:"Tryk på Slet for at fjerne tag."};var Br={};Br={removeButtonLabel:"Entfernen",removeDescription:"Auf „Löschen“ drücken, um das Tag zu entfernen."};var Ar={};Ar={removeButtonLabel:"Κατάργηση",removeDescription:"Πατήστε Διαγραφή για να καταργήσετε την ετικέτα."};var Er={};Er={removeDescription:"Press Delete to remove tag.",removeButtonLabel:"Remove"};var Tr={};Tr={removeButtonLabel:"Quitar",removeDescription:"Pulse Eliminar para quitar la etiqueta."};var zr={};zr={removeButtonLabel:"Eemalda",removeDescription:"Sildi eemaldamiseks vajutage kustutusklahvi Delete."};var Lr={};Lr={removeButtonLabel:"Poista",removeDescription:"Poista tunniste painamalla Poista-painiketta."};var Fr={};Fr={removeButtonLabel:"Supprimer",removeDescription:"Appuyez sur Supprimer pour supprimer l’étiquette."};var Rr={};Rr={removeButtonLabel:"הסר",removeDescription:"לחץ על מחק כדי להסיר תג."};var _r={};_r={removeButtonLabel:"Ukloni",removeDescription:"Pritisnite Delete za uklanjanje oznake."};var Vr={};Vr={removeButtonLabel:"Eltávolítás",removeDescription:"Nyomja meg a Delete billentyűt a címke eltávolításához."};var Ur={};Ur={removeButtonLabel:"Rimuovi",removeDescription:"Premi Elimina per rimuovere il tag."};var Or={};Or={removeButtonLabel:"削除",removeDescription:"タグを削除するには、Delete キーを押します。"};var Hr={};Hr={removeButtonLabel:"제거",removeDescription:"태그를 제거하려면 Delete 키를 누르십시오."};var Kr={};Kr={removeButtonLabel:"Pašalinti",removeDescription:"Norėdami pašalinti žymą, paspauskite „Delete“ klavišą."};var Wr={};Wr={removeButtonLabel:"Noņemt",removeDescription:"Nospiediet Delete [Dzēst], lai noņemtu tagu."};var Gr={};Gr={removeButtonLabel:"Fjern",removeDescription:"Trykk på Slett for å fjerne taggen."};var qr={};qr={removeButtonLabel:"Verwijderen",removeDescription:"Druk op Verwijderen om de tag te verwijderen."};var Zr={};Zr={removeButtonLabel:"Usuń",removeDescription:"Naciśnij Usuń, aby usunąć znacznik."};var Xr={};Xr={removeButtonLabel:"Remover",removeDescription:"Pressione Delete para remover a tag."};var Qr={};Qr={removeButtonLabel:"Eliminar",removeDescription:"Prima Delete para eliminar a tag."};var Yr={};Yr={removeButtonLabel:"Îndepărtaţi",removeDescription:"Apăsați pe Delete (Ștergere) pentru a elimina eticheta."};var Jr={};Jr={removeButtonLabel:"Удалить",removeDescription:"Нажмите DELETE, чтобы удалить тег."};var ec={};ec={removeButtonLabel:"Odstrániť",removeDescription:"Ak chcete odstrániť značku, stlačte kláves Delete."};var tc={};tc={removeButtonLabel:"Odstrani",removeDescription:"Pritisnite Delete, da odstranite oznako."};var nc={};nc={removeButtonLabel:"Ukloni",removeDescription:"Pritisnite Obriši da biste uklonili oznaku."};var ac={};ac={removeButtonLabel:"Ta bort",removeDescription:"Tryck på Radera för att ta bort taggen."};var sc={};sc={removeButtonLabel:"Kaldır",removeDescription:"Etiketi kaldırmak için Sil tuşuna basın."};var ic={};ic={removeButtonLabel:"Вилучити",removeDescription:"Натисніть Delete, щоб вилучити тег."};var oc={};oc={removeButtonLabel:"删除",removeDescription:"按下“删除”以删除标记。"};var lc={};lc={removeButtonLabel:"移除",removeDescription:"按 Delete 鍵以移除標記。"};var rc={};rc={"ar-AE":Mr,"bg-BG":Ir,"cs-CZ":Pr,"da-DK":Dr,"de-DE":Br,"el-GR":Ar,"en-US":Er,"es-ES":Tr,"et-EE":zr,"fi-FI":Lr,"fr-FR":Fr,"he-IL":Rr,"hr-HR":_r,"hu-HU":Vr,"it-IT":Ur,"ja-JP":Or,"ko-KR":Hr,"lt-LT":Kr,"lv-LV":Wr,"nb-NO":Gr,"nl-NL":qr,"pl-PL":Zr,"pt-BR":Xr,"pt-PT":Qr,"ro-RO":Yr,"ru-RU":Jr,"sk-SK":ec,"sl-SI":tc,"sr-SP":nc,"sv-SE":ac,"tr-TR":sc,"uk-UA":ic,"zh-CN":oc,"zh-TW":lc};function $f(e){return e&&e.__esModule?e.default:e}function Mf(e,t,a){let{item:s}=e,i=na($f(rc),"@react-aria/tag"),o=Ye(),{onRemove:l}=$r.get(t)||{},{rowProps:r,gridCellProps:c,...d}=yf({node:s},t,a);delete r.onKeyDownCapture;let{descriptionProps:m,...f}=d,h=t.disabledKeys.has(s.key)||s.props.isDisabled,x=C=>{if(C.key==="Delete"||C.key==="Backspace"){if(h)return;C.preventDefault(),t.selectionManager.isSelected(s.key)?l==null||l(new Set(t.selectionManager.selectedKeys)):l==null||l(new Set([s.key]))}},g=po();g==="virtual"&&typeof window<"u"&&"ontouchstart"in window&&(g="pointer");let v=l&&(g==="keyboard"||g==="virtual")?i.format("removeDescription"):"",p=bo(v),k=s.key===t.selectionManager.focusedKey,b=t.selectionManager.focusedKey!=null,j=-1;!h&&(k||!b)&&(j=0);let S=oe(s.props),y=vo(s.props);return{removeButtonProps:{"aria-label":i.format("removeButtonLabel"),"aria-labelledby":`${o} ${r.id}`,isDisabled:h,id:o,onPress:()=>l?l(new Set([s.key])):null,excludeFromTabOrder:!0},rowProps:ne(r,S,y,{tabIndex:j,onKeyDown:l?x:void 0,"aria-describedby":p["aria-describedby"]}),gridCellProps:ne(c,{"aria-errormessage":e["aria-errormessage"],"aria-label":e["aria-label"]}),...f,allowsRemoving:!!l}}const Ws=u.createContext(null);let If=Math.round(Math.random()*1e10),Pf=0;function Df(e){let t=u.useMemo(()=>e.name||`radio-group-${If}-${++Pf}`,[e.name]);var a;let[s,i]=fo(e.value,(a=e.defaultValue)!==null&&a!==void 0?a:null,e.onChange),[o,l]=u.useState(null),r=Vs({...e,value:s}),c=m=>{!e.isReadOnly&&!e.isDisabled&&(i(m),r.commitValidation())},d=r.displayValidation.isInvalid;return{...r,name:t,selectedValue:s,setSelectedValue:c,lastFocusedValue:o,setLastFocusedValue:l,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||(d?"invalid":null),isInvalid:d}}function Bf(e){let t=iu(e),[a,s]=u.useState(null),i=u1({...e,onSelectionChange:c=>{e.onSelectionChange!=null&&e.onSelectionChange(c),t.close(),o.commitValidation()}}),o=Vs({...e,value:i.selectedKey}),[l,r]=u.useState(!1);return{...o,...i,...t,focusStrategy:a,open(c=null){i.collection.size!==0&&(s(c),t.open())},toggle(c=null){i.collection.size!==0&&(s(c),t.toggle())},isFocused:l,setFocused:r}}const un=u.createContext(null),Af=u.forwardRef(function(t,a){[t,a]=ke(t,a,un);let{validationErrors:s,validationBehavior:i="native",children:o,className:l,...r}=t;return _.createElement("form",{noValidate:i!=="native",...r,ref:a,className:l||"react-aria-Form"},_.createElement(un.Provider,{value:{...t,validationBehavior:i}},_.createElement(Ol.Provider,{value:s??{}},o)))}),Ef=u.createContext(null),fs=u.forwardRef(function(t,a){[t,a]=ke(t,a,Ef);let{validationBehavior:s}=sa(un)||{};var i,o;let l=(o=(i=t.validationBehavior)!==null&&i!==void 0?i:s)!==null&&o!==void 0?o:"native",r=u.useRef(null),[c,d]=ke({},r,fi),[m,f]=hn(),[h,x]=u.useState("input"),{labelProps:g,inputProps:v,descriptionProps:p,errorMessageProps:k,...b}=rf({...Cs(t),inputElementType:h,label:f,validationBehavior:l},d),j=u.useCallback(C=>{d.current=C,C&&x(C instanceof HTMLTextAreaElement?"textarea":"input")},[d]),S=Se({...t,values:{isDisabled:t.isDisabled||!1,isInvalid:b.isInvalid,isReadOnly:t.isReadOnly||!1,isRequired:t.isRequired||!1},defaultClassName:"react-aria-TextField"}),y=oe(t);return delete y.id,_.createElement("div",{...y,...S,ref:a,slot:t.slot||void 0,"data-disabled":t.isDisabled||void 0,"data-invalid":b.isInvalid||void 0,"data-readonly":t.isReadOnly||void 0,"data-required":t.isRequired||void 0},_.createElement(mt,{values:[[Sn,{...g,ref:m}],[fi,{...ne(v,c),ref:j}],[ou,{...v,ref:j}],[Bt,{slots:{description:p,errorMessage:k}}],[Ws,b]]},S.children))});var cc={};cc={colorSwatchPicker:"تغييرات الألوان",dropzoneLabel:"DropZone",selectPlaceholder:"حدد عنصرًا",tableResizer:"أداة تغيير الحجم"};var dc={};dc={colorSwatchPicker:"Цветови мостри",dropzoneLabel:"DropZone",selectPlaceholder:"Изберете предмет",tableResizer:"Преоразмерител"};var uc={};uc={colorSwatchPicker:"Vzorky barev",dropzoneLabel:"Místo pro přetažení",selectPlaceholder:"Vyberte položku",tableResizer:"Změna velikosti"};var mc={};mc={colorSwatchPicker:"Farveprøver",dropzoneLabel:"DropZone",selectPlaceholder:"Vælg et element",tableResizer:"Størrelsesændring"};var fc={};fc={colorSwatchPicker:"Farbfelder",dropzoneLabel:"Ablegebereich",selectPlaceholder:"Element wählen",tableResizer:"Größenanpassung"};var hc={};hc={colorSwatchPicker:"Χρωματικά δείγματα",dropzoneLabel:"DropZone",selectPlaceholder:"Επιλέξτε ένα αντικείμενο",tableResizer:"Αλλαγή μεγέθους"};var xc={};xc={selectPlaceholder:"Select an item",tableResizer:"Resizer",dropzoneLabel:"DropZone",colorSwatchPicker:"Color swatches"};var gc={};gc={colorSwatchPicker:"Muestras de colores",dropzoneLabel:"DropZone",selectPlaceholder:"Seleccionar un artículo",tableResizer:"Cambiador de tamaño"};var pc={};pc={colorSwatchPicker:"Värvinäidised",dropzoneLabel:"DropZone",selectPlaceholder:"Valige üksus",tableResizer:"Suuruse muutja"};var bc={};bc={colorSwatchPicker:"Värimallit",dropzoneLabel:"DropZone",selectPlaceholder:"Valitse kohde",tableResizer:"Koon muuttaja"};var vc={};vc={colorSwatchPicker:"Échantillons de couleurs",dropzoneLabel:"DropZone",selectPlaceholder:"Sélectionner un élément",tableResizer:"Redimensionneur"};var yc={};yc={colorSwatchPicker:"דוגמיות צבע",dropzoneLabel:"DropZone",selectPlaceholder:"בחר פריט",tableResizer:"שינוי גודל"};var wc={};wc={colorSwatchPicker:"Uzorci boja",dropzoneLabel:"Zona spuštanja",selectPlaceholder:"Odaberite stavku",tableResizer:"Promjena veličine"};var kc={};kc={colorSwatchPicker:"Színtárak",dropzoneLabel:"DropZone",selectPlaceholder:"Válasszon ki egy elemet",tableResizer:"Átméretező"};var jc={};jc={colorSwatchPicker:"Campioni di colore",dropzoneLabel:"Zona di rilascio",selectPlaceholder:"Seleziona un elemento",tableResizer:"Ridimensionamento"};var Cc={};Cc={colorSwatchPicker:"カラースウォッチ",dropzoneLabel:"ドロップゾーン",selectPlaceholder:"項目を選択",tableResizer:"サイズ変更ツール"};var Sc={};Sc={colorSwatchPicker:"색상 견본",dropzoneLabel:"드롭 영역",selectPlaceholder:"항목 선택",tableResizer:"크기 조정기"};var Nc={};Nc={colorSwatchPicker:"Spalvų pavyzdžiai",dropzoneLabel:"„DropZone“",selectPlaceholder:"Pasirinkite elementą",tableResizer:"Dydžio keitiklis"};var $c={};$c={colorSwatchPicker:"Krāsu paraugi",dropzoneLabel:"DropZone",selectPlaceholder:"Izvēlēties vienumu",tableResizer:"Izmēra mainītājs"};var Mc={};Mc={colorSwatchPicker:"Fargekart",dropzoneLabel:"Droppsone",selectPlaceholder:"Velg et element",tableResizer:"Størrelsesendrer"};var Ic={};Ic={colorSwatchPicker:"kleurstalen",dropzoneLabel:"DropZone",selectPlaceholder:"Selecteer een item",tableResizer:"Resizer"};var Pc={};Pc={colorSwatchPicker:"Próbki kolorów",dropzoneLabel:"Strefa upuszczania",selectPlaceholder:"Wybierz element",tableResizer:"Zmiana rozmiaru"};var Dc={};Dc={colorSwatchPicker:"Amostras de cores",dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"};var Bc={};Bc={colorSwatchPicker:"Amostras de cores",dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"};var Ac={};Ac={colorSwatchPicker:"Specimene de culoare",dropzoneLabel:"Zonă de plasare",selectPlaceholder:"Selectați un element",tableResizer:"Instrument de redimensionare"};var Ec={};Ec={colorSwatchPicker:"Цветовые образцы",dropzoneLabel:"DropZone",selectPlaceholder:"Выберите элемент",tableResizer:"Средство изменения размера"};var Tc={};Tc={colorSwatchPicker:"Vzorkovníky farieb",dropzoneLabel:"DropZone",selectPlaceholder:"Vyberte položku",tableResizer:"Nástroj na zmenu veľkosti"};var zc={};zc={colorSwatchPicker:"Barvne palete",dropzoneLabel:"DropZone",selectPlaceholder:"Izberite element",tableResizer:"Spreminjanje velikosti"};var Lc={};Lc={colorSwatchPicker:"Uzorci boje",dropzoneLabel:"DropZone",selectPlaceholder:"Izaberite stavku",tableResizer:"Promena veličine"};var Fc={};Fc={colorSwatchPicker:"Färgrutor",dropzoneLabel:"DropZone",selectPlaceholder:"Välj en artikel",tableResizer:"Storleksändrare"};var Rc={};Rc={colorSwatchPicker:"Renk örnekleri",dropzoneLabel:"Bırakma Bölgesi",selectPlaceholder:"Bir öğe seçin",tableResizer:"Yeniden boyutlandırıcı"};var _c={};_c={colorSwatchPicker:"Зразки кольорів",dropzoneLabel:"DropZone",selectPlaceholder:"Виберіть елемент",tableResizer:"Засіб змінення розміру"};var Vc={};Vc={colorSwatchPicker:"颜色色板",dropzoneLabel:"放置区域",selectPlaceholder:"选择一个项目",tableResizer:"尺寸调整器"};var Uc={};Uc={colorSwatchPicker:"色票",dropzoneLabel:"放置區",selectPlaceholder:"選取項目",tableResizer:"大小調整器"};var Oc={};Oc={"ar-AE":cc,"bg-BG":dc,"cs-CZ":uc,"da-DK":mc,"de-DE":fc,"el-GR":hc,"en-US":xc,"es-ES":gc,"et-EE":pc,"fi-FI":bc,"fr-FR":vc,"he-IL":yc,"hr-HR":wc,"hu-HU":kc,"it-IT":jc,"ja-JP":Cc,"ko-KR":Sc,"lt-LT":Nc,"lv-LV":$c,"nb-NO":Mc,"nl-NL":Ic,"pl-PL":Pc,"pt-BR":Dc,"pt-PT":Bc,"ro-RO":Ac,"ru-RU":Ec,"sk-SK":Tc,"sl-SI":zc,"sr-SP":Lc,"sv-SE":Fc,"tr-TR":Rc,"uk-UA":_c,"zh-CN":Vc,"zh-TW":Uc};const Ma=u.createContext({}),Hc=u.createContext(null),Tf=u.forwardRef(function(t,a){let{render:s}=u.useContext(Hc);return _.createElement(_.Fragment,null,s(t,a))});function Kc(e,t){var a;let s=e==null?void 0:e.renderDropIndicator,i=e==null||(a=e.isVirtualDragging)===null||a===void 0?void 0:a.call(e),o=u.useCallback(l=>{if(i||t!=null&&t.isDropTarget(l))return s?s(l):_.createElement(Tf,{target:l})},[t==null?void 0:t.target,i,s]);return e!=null&&e.useDropIndicator?o:void 0}function zf(e,t,a){var s,i;let o=e.focusedKey,l=null;if(!(t==null||(s=t.isVirtualDragging)===null||s===void 0)&&s.call(t)&&(a==null||(i=a.target)===null||i===void 0?void 0:i.type)==="item"){l=a.target.key;var r;a.target.dropPosition==="after"&&(l=(r=a.collection.getKeyAfter(l))!==null&&r!==void 0?r:l)}return u.useMemo(()=>new Set([o,l].filter(c=>c!=null)),[o,l])}const Gs=u.createContext(null),We=u.createContext(null),Lf=u.forwardRef(function(t,a){[t,a]=ke(t,a,Gs);let s=u.useContext(We);return s?_.createElement(Wc,{state:s,props:t,listBoxRef:a}):_.createElement(Ss,{content:_.createElement(wo,t)},i=>_.createElement(Ff,{props:t,listBoxRef:a,collection:i}))});function Ff({props:e,listBoxRef:t,collection:a}){e={...e,collection:a,children:null,items:null};let{layoutDelegate:s}=u.useContext(xn),{filterFn:i,collectionProps:o,collectionRef:l}=u.useContext(lu)||{};t=gn(u.useMemo(()=>ko(t,l!==void 0?l:null),[l,t]));let r=u.useMemo(()=>i?a.filter(i):a,[a,i]),c=kl({...e,collection:r,layoutDelegate:s});return _.createElement(Wc,{state:c,props:{...e,...o},listBoxRef:t})}function Wc({state:e,props:t,listBoxRef:a}){let{dragAndDropHooks:s,layout:i="stack",orientation:o="vertical"}=t,{collection:l,selectionManager:r}=e,c=!!(s!=null&&s.useDraggableCollectionState),d=!!(s!=null&&s.useDroppableCollectionState),{direction:m}=aa(),{disabledBehavior:f,disabledKeys:h}=r,x=yo({usage:"search",sensitivity:"base"}),{isVirtualized:g,layoutDelegate:v,dropTargetDelegate:p,CollectionRoot:k}=u.useContext(xn),b=u.useMemo(()=>t.keyboardDelegate||new js({collection:l,collator:x,ref:a,disabledKeys:h,disabledBehavior:f,layout:i,orientation:o,direction:m,layoutDelegate:v}),[l,x,a,f,h,o,m,t.keyboardDelegate,i,v]),{listBoxProps:j}=uf({...t,shouldSelectOnPressUp:c||t.shouldSelectOnPressUp,keyboardDelegate:b,isVirtualized:g},e,a),S=u.useRef(c),y=u.useRef(d);u.useEffect(()=>{S.current!==c&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),y.current!==d&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior.")},[c,d]);let C,N,B,$=!1,M=null,I=u.useRef(null);if(c&&s){C=s.useDraggableCollectionState({collection:l,selectionManager:r,preview:s.renderDragPreview?I:void 0}),s.useDraggableCollection({},C,a);let Q=s.DragPreview;M=s.renderDragPreview?_.createElement(Q,{ref:I},s.renderDragPreview):null}if(d&&s){N=s.useDroppableCollectionState({collection:l,selectionManager:r});let Q=s.dropTargetDelegate||p||new s.ListDropTargetDelegate(l,a,{orientation:o,layout:i,direction:m});B=s.useDroppableCollection({keyboardDelegate:b,dropTargetDelegate:Q},N,a),$=N.isDropTarget({type:"root"})}let{focusProps:z,isFocused:A,isFocusVisible:V}=pn(),Z={isDropTarget:$,isEmpty:e.collection.size===0,isFocused:A,isFocusVisible:V,layout:t.layout||"stack",state:e},L=Se({className:t.className,style:t.style,defaultClassName:"react-aria-ListBox",values:Z}),O=null;return e.collection.size===0&&t.renderEmptyState&&(O=_.createElement("div",{role:"option",style:{display:"contents"}},t.renderEmptyState(Z))),_.createElement(ru,null,_.createElement("div",{...oe(t),...ne(j,z,B==null?void 0:B.collectionProps),...L,ref:a,slot:t.slot||void 0,onScroll:t.onScroll,"data-drop-target":$||void 0,"data-empty":e.collection.size===0||void 0,"data-focused":A||void 0,"data-focus-visible":V||void 0,"data-layout":t.layout||"stack","data-orientation":t.orientation||"vertical"},_.createElement(mt,{values:[[Gs,t],[We,e],[Ma,{dragAndDropHooks:s,dragState:C,dropState:N}],[cu,{elementType:"div"}],[Hc,{render:Vf}],[du,{name:"ListBoxSection",render:Rf}]]},_.createElement(k,{collection:l,scrollRef:a,persistedKeys:zf(r,s,N),renderDropIndicator:Kc(s,N)})),O,M))}function Rf(e,t,a,s="react-aria-ListBoxSection"){let i=u.useContext(We),{dragAndDropHooks:o,dropState:l}=u.useContext(Ma),{CollectionBranch:r}=u.useContext(xn),[c,d]=hn();var m;let{headingProps:f,groupProps:h}=ff({heading:d,"aria-label":(m=e["aria-label"])!==null&&m!==void 0?m:void 0}),x=Se({defaultClassName:s,className:e.className,style:e.style,values:{}});return _.createElement("section",{...oe(e),...h,...x,ref:t},_.createElement(uu.Provider,{value:{...f,ref:c}},_.createElement(r,{collection:i.collection,parent:a,renderDropIndicator:Kc(o,l)})))}const _f=jo("item",function(t,a,s){let i=gn(a),o=u.useContext(We),{dragAndDropHooks:l,dragState:r,dropState:c}=u.useContext(Ma),{optionProps:d,labelProps:m,descriptionProps:f,...h}=mf({key:s.key,"aria-label":t==null?void 0:t["aria-label"]},o,i),{hoverProps:x,isHovered:g}=ta({isDisabled:!h.allowsSelection&&!h.hasAction,onHoverStart:s.props.onHoverStart,onHoverChange:s.props.onHoverChange,onHoverEnd:s.props.onHoverEnd}),v=null;r&&l&&(v=l.useDraggableItem({key:s.key},r));let p=null;c&&l&&(p=l.useDroppableItem({target:{type:"item",key:s.key,dropPosition:"on"}},c,i));let k=r&&r.isDragging(s.key),b=Se({...t,id:void 0,children:t.children,defaultClassName:"react-aria-ListBoxItem",values:{...h,isHovered:g,selectionMode:o.selectionManager.selectionMode,selectionBehavior:o.selectionManager.selectionBehavior,allowsDragging:!!r,isDragging:k,isDropTarget:p==null?void 0:p.isDropTarget}});u.useEffect(()=>{s.textValue||console.warn("A `textValue` prop is required for <ListBoxItem> elements with non-plain text children in order to support accessibility features such as type to select.")},[s.textValue]);let j=t.href?"a":"div";return _.createElement(j,{...ne(d,x,v==null?void 0:v.dragProps,p==null?void 0:p.dropProps),...b,ref:i,"data-allows-dragging":!!r||void 0,"data-selected":h.isSelected||void 0,"data-disabled":h.isDisabled||void 0,"data-hovered":g||void 0,"data-focused":h.isFocused||void 0,"data-focus-visible":h.isFocusVisible||void 0,"data-pressed":h.isPressed||void 0,"data-dragging":k||void 0,"data-drop-target":(p==null?void 0:p.isDropTarget)||void 0,"data-selection-mode":o.selectionManager.selectionMode==="none"?void 0:o.selectionManager.selectionMode},_.createElement(mt,{values:[[Bt,{slots:{label:m,description:f}}]]},b.children))});function Vf(e,t){t=gn(t);let{dragAndDropHooks:a,dropState:s}=u.useContext(Ma),{dropIndicatorProps:i,isHidden:o,isDropTarget:l}=a.useDropIndicator(e,s,t);return o?null:_.createElement(Of,{...e,dropIndicatorProps:i,isDropTarget:l,ref:t})}function Uf(e,t){let{dropIndicatorProps:a,isDropTarget:s,...i}=e,o=Se({...i,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:s}});return _.createElement("div",{...a,...o,role:"option",ref:t,"data-drop-target":s||void 0})}const Of=u.forwardRef(Uf),Hf=u.createContext(null),Kf=u.createContext(null),Gc=u.createContext(null),Wf=u.forwardRef(function(t,a){[t,a]=ke(t,a,Hf);let{validationBehavior:s}=sa(un)||{};var i,o;let l=(o=(i=t.validationBehavior)!==null&&i!==void 0?i:s)!==null&&o!==void 0?o:"native",r=Df({...t,validationBehavior:l}),[c,d]=hn(),{radioGroupProps:m,labelProps:f,descriptionProps:h,errorMessageProps:x,...g}=kf({...t,label:d,validationBehavior:l},r),v=Se({...t,values:{orientation:t.orientation||"vertical",isDisabled:r.isDisabled,isReadOnly:r.isReadOnly,isRequired:r.isRequired,isInvalid:r.isInvalid,state:r},defaultClassName:"react-aria-RadioGroup"});return _.createElement("div",{...m,...v,ref:a,slot:t.slot||void 0,"data-orientation":t.orientation||"vertical","data-invalid":r.isInvalid||void 0,"data-disabled":r.isDisabled||void 0,"data-readonly":r.isReadOnly||void 0,"data-required":r.isRequired||void 0},_.createElement(mt,{values:[[Gc,r],[Sn,{...f,ref:c,elementType:"span"}],[Bt,{slots:{description:h,errorMessage:x}}],[Ws,g]]},v.children))}),Gf=u.forwardRef(function(t,a){let{inputRef:s=null,...i}=t;[t,a]=ke(i,a,Kf);let o=_.useContext(Gc),l=gn(ko(s,t.inputRef!==void 0?t.inputRef:null)),{labelProps:r,inputProps:c,isSelected:d,isDisabled:m,isPressed:f}=wf({...Cs(t),children:typeof t.children=="function"?!0:t.children},o,l),{isFocused:h,isFocusVisible:x,focusProps:g}=pn(),v=m||o.isReadOnly,{hoverProps:p,isHovered:k}=ta({...t,isDisabled:v}),b=Se({...t,defaultClassName:"react-aria-Radio",values:{isSelected:d,isPressed:f,isHovered:k,isFocused:h,isFocusVisible:x,isDisabled:m,isReadOnly:o.isReadOnly,isInvalid:o.isInvalid,isRequired:o.isRequired}}),j=oe(t);return delete j.id,_.createElement("label",{...ne(j,r,p,b),ref:a,"data-selected":d||void 0,"data-pressed":f||void 0,"data-hovered":k||void 0,"data-focused":h||void 0,"data-focus-visible":x||void 0,"data-disabled":m||void 0,"data-readonly":o.isReadOnly||void 0,"data-invalid":o.isInvalid||void 0,"data-required":o.isRequired||void 0},_.createElement(mu,{elementType:"span"},_.createElement("input",{...ne(c,g),ref:l})),b.children)});function qf(e){return e&&e.__esModule?e.default:e}const qs=u.createContext(null),qc=u.createContext(null),Zf=u.forwardRef(function(t,a){[t,a]=ke(t,a,qs);let{children:s,isDisabled:i=!1,isInvalid:o=!1,isRequired:l=!1}=t,r=u.useMemo(()=>typeof s=="function"?s({isOpen:!1,isDisabled:i,isInvalid:o,isRequired:l,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):s,[s,i,o,l]);return _.createElement(Ss,{content:r},c=>_.createElement(Xf,{props:t,collection:c,selectRef:a}))});function Xf({props:e,selectRef:t,collection:a}){let{validationBehavior:s}=sa(un)||{};var i,o;let l=(o=(i=e.validationBehavior)!==null&&i!==void 0?i:s)!==null&&o!==void 0?o:"native",r=Bf({...e,collection:a,children:void 0,validationBehavior:l}),{isFocusVisible:c,focusProps:d}=pn({within:!0}),m=u.useRef(null),[f,h]=hn(),{labelProps:x,triggerProps:g,valueProps:v,menuProps:p,descriptionProps:k,errorMessageProps:b,...j}=jf({...Cs(e),label:h,validationBehavior:l},r,m),[S,y]=u.useState(null),C=u.useCallback(()=>{m.current&&y(m.current.offsetWidth+"px")},[m]);fu({ref:m,onResize:C});let N=u.useMemo(()=>({isOpen:r.isOpen,isFocused:r.isFocused,isFocusVisible:c,isDisabled:e.isDisabled||!1,isInvalid:j.isInvalid||!1,isRequired:e.isRequired||!1}),[r.isOpen,r.isFocused,c,e.isDisabled,j.isInvalid,e.isRequired]),B=Se({...e,values:N,defaultClassName:"react-aria-Select"}),$=oe(e);delete $.id;let M=u.useRef(null);return _.createElement(mt,{values:[[qs,e],[qc,r],[Zc,v],[Sn,{...x,ref:f,elementType:"span"}],[Co,{...g,ref:m,isPressed:r.isOpen}],[hu,r],[xu,{trigger:"Select",triggerRef:m,scrollRef:M,placement:"bottom start",style:{"--trigger-width":S}}],[Gs,{...p,ref:M}],[We,r],[Bt,{slots:{description:k,errorMessage:b}}],[Ws,j]]},_.createElement("div",{...$,...B,...d,ref:t,slot:e.slot||void 0,"data-focused":r.isFocused||void 0,"data-focus-visible":c||void 0,"data-open":r.isOpen||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":j.isInvalid||void 0,"data-required":e.isRequired||void 0}),_.createElement(Sf,{autoComplete:e.autoComplete,state:r,triggerRef:m,label:h,name:e.name,isDisabled:e.isDisabled}))}const Zc=u.createContext(null),Qf=u.forwardRef(function(t,a){var s,i;[t,a]=ke(t,a,Zc);let o=u.useContext(qc),{placeholder:l}=sa(qs),r=o.selectedKey!=null?o.collection.getItem(o.selectedKey):null,c=r==null?void 0:r.props.children;typeof c=="function"&&(c=c({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"}));let d=na(qf(Oc),"react-aria-components");var m,f,h;let x=Se({...t,defaultChildren:(m=c??l)!==null&&m!==void 0?m:d.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(f=(s=o.selectedItem)===null||s===void 0?void 0:s.value)!==null&&f!==void 0?f:null,selectedText:(h=(i=o.selectedItem)===null||i===void 0?void 0:i.textValue)!==null&&h!==void 0?h:null,isPlaceholder:!r}}),g=oe(t);return _.createElement("span",{ref:a,...g,...x,"data-placeholder":!r||void 0},_.createElement(Bt.Provider,{value:void 0},x.children))}),Yf=u.createContext(null),Xc=u.createContext(null),Jf=u.forwardRef(function(t,a){return[t,a]=ke(t,a,Yf),_.createElement(Ss,{content:t.children},s=>_.createElement(eh,{props:t,forwardedRef:a,collection:s}))});function eh({props:e,forwardedRef:t,collection:a}){let s=u.useRef(null),[i,o]=hn(),l=kl({...e,children:void 0,collection:a}),r=oe(e),c=Object.fromEntries(Object.entries(r).map(([g])=>[g,void 0])),{gridProps:d,labelProps:m,descriptionProps:f,errorMessageProps:h}=Nf({...e,...c,label:o},l,s);var x;return _.createElement("div",{...r,ref:t,slot:e.slot||void 0,className:(x=e.className)!==null&&x!==void 0?x:"react-aria-TagGroup",style:e.style},_.createElement(mt,{values:[[Sn,{...m,elementType:"span",ref:i}],[Xc,{...d,ref:s}],[We,l],[Bt,{slots:{description:f,errorMessage:h}}]]},e.children))}const th=u.forwardRef(function(t,a){return u.useContext(We)?_.createElement(nh,{props:t,forwardedRef:a}):_.createElement(wo,t)});function nh({props:e,forwardedRef:t}){let a=u.useContext(We),{CollectionRoot:s}=u.useContext(xn),[i,o]=ke(e,t,Xc);delete i.items,delete i.renderEmptyState;let{focusProps:l,isFocused:r,isFocusVisible:c}=pn(),d={isEmpty:a.collection.size===0,isFocused:r,isFocusVisible:c,state:a},m=Se({className:e.className,style:e.style,defaultClassName:"react-aria-TagList",values:d}),f=gu(a.selectionManager.focusedKey);return _.createElement("div",{...ne(i,l),...m,ref:o,"data-empty":a.collection.size===0||void 0,"data-focused":r||void 0,"data-focus-visible":c||void 0},a.collection.size===0&&e.renderEmptyState?e.renderEmptyState(d):_.createElement(s,{collection:a.collection,persistedKeys:f}))}const ah=jo("item",(e,t,a)=>{let s=u.useContext(We),i=gn(t),{focusProps:o,isFocusVisible:l}=pn({within:!0}),{rowProps:r,gridCellProps:c,removeButtonProps:d,...m}=Mf({item:a},s,i),{hoverProps:f,isHovered:h}=ta({isDisabled:!m.allowsSelection,onHoverStart:a.props.onHoverStart,onHoverChange:a.props.onHoverChange,onHoverEnd:a.props.onHoverEnd}),x=Se({...e,id:void 0,children:a.rendered,defaultClassName:"react-aria-Tag",values:{...m,isFocusVisible:l,isHovered:h,selectionMode:s.selectionManager.selectionMode,selectionBehavior:s.selectionManager.selectionBehavior}});return u.useEffect(()=>{a.textValue||console.warn("A `textValue` prop is required for <Tag> elements with non-plain text children for accessibility.")},[a.textValue]),_.createElement("div",{ref:i,...x,...ne(oe(e),r,o,f),"data-selected":m.isSelected||void 0,"data-disabled":m.isDisabled||void 0,"data-hovered":h||void 0,"data-focused":m.isFocused||void 0,"data-focus-visible":l||void 0,"data-pressed":m.isPressed||void 0,"data-allows-removing":m.allowsRemoving||void 0,"data-selection-mode":s.selectionManager.selectionMode==="none"?void 0:s.selectionManager.selectionMode},_.createElement("div",{...c,style:{display:"contents"}},_.createElement(mt,{values:[[Co,{slots:{remove:d}}],[xn,pu]]},x.children)))});async function sh(e,t){if(await bn(w1(t==null?void 0:t.dialogProps,{title:u.createElement(P,{i18nKey:"artwork:delete-artwork.confirm.title"}),description:u.createElement(P,{i18nKey:"artwork:delete-artwork.confirm.content",values:{count:1}}),confirmLabel:u.createElement(P,{i18nKey:"action:delete.label"}),ConfirmButtonProps:{color:"error",className:"font-bold"}})).then(()=>!0,()=>!1))try{return await J.deleteArtwork({id:e}),G.success(u.createElement(P,{i18nKey:"user:collection.notice.delete.success"})),!0}catch(s){return G.error(u.createElement("p",null,u.createElement(P,{i18nKey:"user:collection.notice.delete.failed"}),` (${String(s)})`)),!1}}const ih=["col-start-1","col-start-2","col-start-3","col-start-4"],oh=["lg:col-start-1","lg:col-start-2","lg:col-start-3","lg:col-start-4"];function lh(e){const t=e.ad,a=wu(),{data:s}=de(),i=new URL(t.targetUrl??"#",location.origin),o=i.origin===location.origin,l=o&&i.pathname==="/membership/plans",r=u.useRef(null),c={category:"main_feed",scene:"home",position:a?e.lgPosition:e.position,tracking_id:t.trackingId};return ku(r,c),n.jsxs("div",{ref:r,className:w("row-start-1",e.position?ih[e.position]:void 0,(e.position??0)>=2?"max-lg:hidden":void 0,e.lgPosition?oh[e.lgPosition]:void 0,"w-full h-full group relative isolate p-0.5","@container"),children:[n.jsx("div",{className:"z-[-1] absolute inset-0 rounded-lg bg-gradient-member mmd:-inset-0.5 mmd:rounded-[0.625rem] transition ease-out duration-300 group-hover:shadow-xl"}),n.jsxs(ie,{className:"block bg-background-secondary w-full h-full rounded-md overflow-hidden hover:no-underline",to:t.targetUrl??"#",target:o?void 0:"_blank",onClick:d=>{if(!s&&!t.isClickableForNonLoginUser){Re(void 0,{fromPath:"campaign"}),d.preventDefault();return}if(l){const m="homepage-in-feed-ad-unit";T("enter_member_click",{location:m}),Je("member_source",m,{persistent:!0})}ju(c),o&&setTimeout(()=>{window.scrollTo(0,0)},100)},children:[n.jsxs("div",{className:"relative w-full aspect-square bg-active overflow-hidden",children:[n.jsx(Cu,{className:"w-full aspect-square",mediaType:t.type,mediaSpec:t.media}),t.isAd?n.jsx(hi,{className:"absolute md:hidden bottom-2 right-2"}):null]}),n.jsxs("div",{className:"relative flex items-center gap-1.5 w-full h-14 pl-2 pb-0.5",children:[n.jsxs("div",{className:"flex flex-col items-stretch gap-0.5 min-w-0 px-1 py-1.5",children:[n.jsx("div",{className:"text-left min-h-[1rem] text-sm font-semibold truncate",children:n.jsx("span",{title:t.title,children:t.title})}),n.jsx("div",{className:"text-left w-auto min-h-[1rem] text-xs text-primary-light truncate",children:t.description})]}),n.jsx("div",{className:"flex-1"}),t.isAd?n.jsx(hi,{className:"flex-shrink-0 mr-4 max-md:hidden"}):null]})]})]})}const rh=(e,t)=>e.length===2?e.map((a,s)=>({ad:a,position:s,lgPosition:[0,3][s]})).filter(({ad:a})=>t(a)):e.filter(a=>t(a)).slice(0,4).map((a,s)=>({ad:a,position:s,lgPosition:s}));function ch(){var o;const{data:{subscription:e}={}}=bu(),{i18n:t}=D(),{webCampaignConfig:a}=vu(),s=yu(((o=a==null?void 0:a.campaign)==null?void 0:o.feed)??{},t)??[],i=rh(s,l=>Su(l,e));return n.jsx(n.Fragment,{children:i.slice(0,4).map(({ad:l,position:r,lgPosition:c})=>n.jsx(lh,{ad:l,position:r,lgPosition:c}))})}function dh(e){return[n.jsx(ch,{},"feed ads"),...e]}const Zs=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M6.25 4.5A1.75 1.75 0 0 0 4.5 6.25v7.5c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 0 0 1.75-1.75v-2a.75.75 0 0 1 1.5 0v2A3.25 3.25 0 0 1 13.75 17h-7.5A3.25 3.25 0 0 1 3 13.75v-7.5A3.25 3.25 0 0 1 6.25 3h2a.75.75 0 0 1 0 1.5zm4.25-.75a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0V5.56l-3.72 3.72a.75.75 0 1 1-1.06-1.06l3.72-3.72h-3.19a.75.75 0 0 1-.75-.75"})}),Xs=({artworkId:e,artwork:t,initialValue:a=(t==null?void 0:t.liked)??!1,initialCount:s=(t==null?void 0:t.likedCount)??0,countStyle:i,numOnTop:o,hideValueOnZero:l,trackingArgs:r,afterClick:c,oauthReturnOpensDetail:d})=>n.jsx(ll,{id:e,initialCount:s,initialValue:a,onBtnClick:m=>{var f;m&&(T("like_click",{id:e,tags:(f=t==null?void 0:t.tags)==null?void 0:f.map(({name:h})=>h),authorId:t==null?void 0:t.authorId,type:te.Artwork,...r},{destinations:["amplitude"]}),c==null||c())},handler:(m,f)=>J.markArtwork({artworkId:m,type:ia.Like,target:f}),render:({value:m,count:f,onClick:h})=>n.jsx(ft,{component:"div",role:"button",className:"cursor-pointer outline transition -m-2 p-2 rounded-md focus-within:outline-1",onClick:h,children:n.jsxs("div",{className:w("flex gap-1 items-center",{"flex-col-reverse":o}),children:[n.jsx(kn,{liked:m,className:"size-5"}),l&&!f?null:n.jsx("span",{className:"text-sm tabular-nums",style:{color:"inherit",...i},children:De(f||0)})]})}),signModalProps:d?{oauthRedirectUrl:ml(e)}:void 0});function Ia(){const e=On("(min-width: 1280px)"),t=On("(min-width: 900px)");return u.useMemo(()=>e?4:t?3:2,[e,t])}const uh=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M10.052 17.706c.34.977 1.632 1.427 2.43.59c.164-.17.326-.355.436-.519c.32-.48.455-1.113.504-1.73c.05-.628.016-1.302-.048-1.912a18 18 0 0 0-.241-1.583l-.01-.052h.883a3 3 0 0 0 2.952-3.537l-.684-3.762a4.5 4.5 0 0 0-5.612-3.536l-5.6 1.527A2.5 2.5 0 0 0 3.27 5.114l-.353 1.765c-.278 1.389.784 2.558 1.913 3.005c.323.127.614.289.84.49c1.707 1.513 2.325 2.723 3.385 4.849c.354.71.718 1.676.998 2.483m1.965-5.585v.002l.002.007l.007.031a14 14 0 0 1 .126.583c.076.39.167.92.227 1.496c.061.577.09 1.184.046 1.728c-.044.555-.16.985-.34 1.254c-.059.09-.171.222-.326.383c-.199.209-.628.16-.762-.227c-.283-.814-.664-1.83-1.048-2.601c-1.067-2.14-1.756-3.501-3.616-5.151a3.8 3.8 0 0 0-1.136-.672c-.88-.348-1.447-1.149-1.3-1.879L4.25 5.31a1.5 1.5 0 0 1 1.077-1.153l5.6-1.527a3.5 3.5 0 0 1 4.364 2.75l.684 3.762a2 2 0 0 1-1.968 2.358h-1.505a.5.5 0 0 0-.484.621"})}),mh=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12zM7 9h2v2H7zm8 0h2v2h-2zm-4 0h2v2h-2z"})});function Un({children:e,corner:t="bottom-left",className:a}){return n.jsx("div",{className:w("absolute py-2 px-3 md:px-4 text-sm md:text-base z-10 bg-gray-900/60 shadow-lg",{"rounded-tr-lg bottom-0 left-0":t==="bottom-left","rounded-tl-lg bottom-0 right-0":t==="bottom-right","rounded-br-lg top-0 left-0":t==="top-left","rounded-bl-lg top-0 right-0":t==="top-right"},a),children:e})}const fh=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsxs("g",{fill:"none",fillRule:"evenodd",children:[n.jsx("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),n.jsx("path",{fill:"currentColor",d:"M6 8a6 6 0 1 1 12 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1Zm6-4a4 4 0 0 1 4 4H8a4 4 0 0 1 4-4Zm2 10a2 2 0 0 1-1 1.732V17a1 1 0 1 1-2 0v-1.268A2 2 0 0 1 12 12a2 2 0 0 1 2 2Z"})]})});function hh(){const{t:e}=D(["artwork"]);return n.jsxs("span",{className:"absolute bottom-2 left-2 whitespace-nowrap inline-flex items-center gap-0.5 h-5 px-1.5 text-black bg-white ring-1 ring-black/20 rounded-full",children:[n.jsx(fh,{className:"flex-none size-4"}),n.jsx("span",{className:"text-xs font-medium uppercase text-shadow-none",children:e("artwork:generation.is-private")})]})}const xh=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 9.67l1.69 2.26l2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"})}),gh=e=>n.jsxs("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:[n.jsx("path",{fill:"currentColor",d:"M21 5c-1.11-.35-2.33-.5-3.5-.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5c.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5c1.35-.85 3.8-1.5 5.5-1.5c1.65 0 3.35.3 4.75 1.05c.1.05.15.05.25.05c.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c1.2 0 2.4.15 3.5.5v11.5z"}),n.jsx("path",{fill:"currentColor",d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99c.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24c-1.7 0-3.24.3-4.5.83zm4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99c.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"})]});function Qc(e){const{t}=D(["artwork","manga"]),a=be(e).returnType().with({type:Ze.Comic},{artwork:{type:Ze.Comic}},{manga:{type:dt.Comic}},()=>({icon:n.jsx(gh,{className:"w-5 h-5 -translate-y-px"}),label:t("manga:manga-type.comic"),className:"bg-indigo-700"})).with({type:Ze.Album},{artwork:{type:Ze.Album,manga:q.select()}},{manga:q.select({type:dt.Album})},s=>{var i,o,l;return{icon:n.jsx(xh,{className:"w-5 h-5",style:{marginLeft:-1}}),label:il(s)?(l=(o=(i=s.chapter)==null?void 0:i.content)==null?void 0:o.mediaIds)==null?void 0:l.length:t("manga:manga-type.album"),className:"bg-indigo-700"}}).with({type:"ANIMATED_COMIC"},{artwork:{type:Ze.AnimatedComic}},{manga:{type:dt.AnimatedComic}},()=>({icon:n.jsx(Mi,{className:"w-5 h-5",style:{marginLeft:-3}}),label:t("manga:manga-type.animated-comic"),className:"bg-indigo-700"})).with({type:"ANIMATED"},{artwork:{type:Ze.AnimatedArtwork}},()=>({icon:n.jsx(Mi,{className:"w-5 h-5",style:{marginLeft:-3}}),label:t("artwork:type.animated",{context:"short"}),className:"bg-purple-700"})).otherwise(()=>null);return a&&n.jsxs("div",{className:w("px-2 leading-6 text-sm whitespace-nowrap flex items-center gap-1 text-white font-medium rounded",a.className,e.className),style:e.style,children:[a.icon,a.label]})}var ct=4294967295;function ph(e,t,a){var s=a/4294967296,i=a;e.setUint32(t,s),e.setUint32(t+4,i)}function Yc(e,t,a){var s=Math.floor(a/4294967296),i=a;e.setUint32(t,s),e.setUint32(t+4,i)}function Jc(e,t){var a=e.getInt32(t),s=e.getUint32(t+4);return a*4294967296+s}function bh(e,t){var a=e.getUint32(t),s=e.getUint32(t+4);return a*4294967296+s}var Qs={},Oa,Ha,Ka,Pa=(typeof Le>"u"||((Oa=Le===null||Le===void 0?void 0:Qs)===null||Oa===void 0?void 0:Oa.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function Ri(e){for(var t=e.length,a=0,s=0;s<t;){var i=e.charCodeAt(s++);if(i&4294967168)if(!(i&4294965248))a+=2;else{if(i>=55296&&i<=56319&&s<t){var o=e.charCodeAt(s);(o&64512)===56320&&(++s,i=((i&1023)<<10)+(o&1023)+65536)}i&4294901760?a+=4:a+=3}else{a++;continue}}return a}function vh(e,t,a){for(var s=e.length,i=a,o=0;o<s;){var l=e.charCodeAt(o++);if(l&4294967168)if(!(l&4294965248))t[i++]=l>>6&31|192;else{if(l>=55296&&l<=56319&&o<s){var r=e.charCodeAt(o);(r&64512)===56320&&(++o,l=((l&1023)<<10)+(r&1023)+65536)}l&4294901760?(t[i++]=l>>18&7|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128):(t[i++]=l>>12&15|224,t[i++]=l>>6&63|128)}else{t[i++]=l;continue}t[i++]=l&63|128}}var Jt=Pa?new TextEncoder:void 0,yh=Pa?typeof Le<"u"&&((Ha=Le===null||Le===void 0?void 0:Qs)===null||Ha===void 0?void 0:Ha.TEXT_ENCODING)!=="force"?200:0:ct;function wh(e,t,a){t.set(Jt.encode(e),a)}function kh(e,t,a){Jt.encodeInto(e,t.subarray(a))}var jh=Jt!=null&&Jt.encodeInto?kh:wh,Ch=4096;function ed(e,t,a){for(var s=t,i=s+a,o=[],l="";s<i;){var r=e[s++];if(!(r&128))o.push(r);else if((r&224)===192){var c=e[s++]&63;o.push((r&31)<<6|c)}else if((r&240)===224){var c=e[s++]&63,d=e[s++]&63;o.push((r&31)<<12|c<<6|d)}else if((r&248)===240){var c=e[s++]&63,d=e[s++]&63,m=e[s++]&63,f=(r&7)<<18|c<<12|d<<6|m;f>65535&&(f-=65536,o.push(f>>>10&1023|55296),f=56320|f&1023),o.push(f)}else o.push(r);o.length>=Ch&&(l+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(l+=String.fromCharCode.apply(String,o)),l}var Sh=Pa?new TextDecoder:null,Nh=Pa?typeof Le<"u"&&((Ka=Le===null||Le===void 0?void 0:Qs)===null||Ka===void 0?void 0:Ka.TEXT_DECODER)!=="force"?200:0:ct;function $h(e,t,a){var s=e.subarray(t,t+a);return Sh.decode(s)}var Ln=function(){function e(t,a){this.type=t,this.data=a}return e}(),Mh=function(){var e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])},e(t,a)};return function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(t,a);function s(){this.constructor=t}t.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),Me=function(e){Mh(t,e);function t(a){var s=e.call(this,a)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(s,i),Object.defineProperty(s,"name",{configurable:!0,enumerable:!1,value:t.name}),s}return t}(Error),Ih=-1,Ph=4294967296-1,Dh=17179869184-1;function Bh(e){var t=e.sec,a=e.nsec;if(t>=0&&a>=0&&t<=Dh)if(a===0&&t<=Ph){var s=new Uint8Array(4),i=new DataView(s.buffer);return i.setUint32(0,t),s}else{var o=t/4294967296,l=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,a<<2|o&3),i.setUint32(4,l),s}else{var s=new Uint8Array(12),i=new DataView(s.buffer);return i.setUint32(0,a),Yc(i,4,t),s}}function Ah(e){var t=e.getTime(),a=Math.floor(t/1e3),s=(t-a*1e3)*1e6,i=Math.floor(s/1e9);return{sec:a+i,nsec:s-i*1e9}}function Eh(e){if(e instanceof Date){var t=Ah(e);return Bh(t)}else return null}function Th(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:{var a=t.getUint32(0),s=0;return{sec:a,nsec:s}}case 8:{var i=t.getUint32(0),o=t.getUint32(4),a=(i&3)*4294967296+o,s=i>>>2;return{sec:a,nsec:s}}case 12:{var a=Jc(t,4),s=t.getUint32(0);return{sec:a,nsec:s}}default:throw new Me("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function zh(e){var t=Th(e);return new Date(t.sec*1e3+t.nsec/1e6)}var Lh={type:Ih,encode:Eh,decode:zh},td=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Lh)}return e.prototype.register=function(t){var a=t.type,s=t.encode,i=t.decode;if(a>=0)this.encoders[a]=s,this.decoders[a]=i;else{var o=1+a;this.builtInEncoders[o]=s,this.builtInDecoders[o]=i}},e.prototype.tryToEncode=function(t,a){for(var s=0;s<this.builtInEncoders.length;s++){var i=this.builtInEncoders[s];if(i!=null){var o=i(t,a);if(o!=null){var l=-1-s;return new Ln(l,o)}}}for(var s=0;s<this.encoders.length;s++){var i=this.encoders[s];if(i!=null){var o=i(t,a);if(o!=null){var l=s;return new Ln(l,o)}}}return t instanceof Ln?t:null},e.prototype.decode=function(t,a,s){var i=a<0?this.builtInDecoders[-1-a]:this.decoders[a];return i?i(t,a,s):new Ln(a,t)},e.defaultCodec=new e,e}();function Qn(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function Fh(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=Qn(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}var Rh=100,_h=2048,Vh=function(){function e(t,a,s,i,o,l,r,c){t===void 0&&(t=td.defaultCodec),a===void 0&&(a=void 0),s===void 0&&(s=Rh),i===void 0&&(i=_h),o===void 0&&(o=!1),l===void 0&&(l=!1),r===void 0&&(r=!1),c===void 0&&(c=!1),this.extensionCodec=t,this.context=a,this.maxDepth=s,this.initialBufferSize=i,this.sortKeys=o,this.forceFloat32=l,this.ignoreUndefined=r,this.forceIntegerToFloat=c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(t,a){if(a>this.maxDepth)throw new Error("Too deep objects in depth ".concat(a));t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.encodeObject(t,a)},e.prototype.ensureBufferSizeToWrite=function(t){var a=this.pos+t;this.view.byteLength<a&&this.resizeBuffer(a*2)},e.prototype.resizeBuffer=function(t){var a=new ArrayBuffer(t),s=new Uint8Array(a),i=new DataView(a);s.set(this.bytes),this.view=i,this.bytes=s},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(t){t===!1?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(t){Number.isSafeInteger(t)&&!this.forceIntegerToFloat?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):(this.writeU8(211),this.writeI64(t)):this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},e.prototype.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error("Too long string: ".concat(t," bytes in UTF-8"))},e.prototype.encodeString=function(t){var a=5,s=t.length;if(s>yh){var i=Ri(t);this.ensureBufferSizeToWrite(a+i),this.writeStringHeader(i),jh(t,this.bytes,this.pos),this.pos+=i}else{var i=Ri(t);this.ensureBufferSizeToWrite(a+i),this.writeStringHeader(i),vh(t,this.bytes,this.pos),this.pos+=i}},e.prototype.encodeObject=function(t,a){var s=this.extensionCodec.tryToEncode(t,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(t))this.encodeArray(t,a);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,a);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(t)))},e.prototype.encodeBinary=function(t){var a=t.byteLength;if(a<256)this.writeU8(196),this.writeU8(a);else if(a<65536)this.writeU8(197),this.writeU16(a);else if(a<4294967296)this.writeU8(198),this.writeU32(a);else throw new Error("Too large binary: ".concat(a));var s=Qn(t);this.writeU8a(s)},e.prototype.encodeArray=function(t,a){var s=t.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error("Too large array: ".concat(s));for(var i=0,o=t;i<o.length;i++){var l=o[i];this.doEncode(l,a+1)}},e.prototype.countWithoutUndefined=function(t,a){for(var s=0,i=0,o=a;i<o.length;i++){var l=o[i];t[l]!==void 0&&s++}return s},e.prototype.encodeMap=function(t,a){var s=Object.keys(t);this.sortKeys&&s.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(t,s):s.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var o=0,l=s;o<l.length;o++){var r=l[o],c=t[r];this.ignoreUndefined&&c===void 0||(this.encodeString(r),this.doEncode(c,a+1))}},e.prototype.encodeExtension=function(t){var a=t.data.length;if(a===1)this.writeU8(212);else if(a===2)this.writeU8(213);else if(a===4)this.writeU8(214);else if(a===8)this.writeU8(215);else if(a===16)this.writeU8(216);else if(a<256)this.writeU8(199),this.writeU8(a);else if(a<65536)this.writeU8(200),this.writeU16(a);else if(a<4294967296)this.writeU8(201),this.writeU32(a);else throw new Error("Too large extension object: ".concat(a));this.writeI8(t.type),this.writeU8a(t.data)},e.prototype.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},e.prototype.writeU8a=function(t){var a=t.length;this.ensureBufferSizeToWrite(a),this.bytes.set(t,this.pos),this.pos+=a},e.prototype.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},e.prototype.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},e.prototype.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},e.prototype.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},e.prototype.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},e.prototype.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},e.prototype.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},e.prototype.writeU64=function(t){this.ensureBufferSizeToWrite(8),ph(this.view,this.pos,t),this.pos+=8},e.prototype.writeI64=function(t){this.ensureBufferSizeToWrite(8),Yc(this.view,this.pos,t),this.pos+=8},e}();function Wa(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var Uh=16,Oh=16,Hh=function(){function e(t,a){t===void 0&&(t=Uh),a===void 0&&(a=Oh),this.maxKeyLength=t,this.maxLengthPerKey=a,this.hit=0,this.miss=0,this.caches=[];for(var s=0;s<this.maxKeyLength;s++)this.caches.push([])}return e.prototype.canBeCached=function(t){return t>0&&t<=this.maxKeyLength},e.prototype.find=function(t,a,s){var i=this.caches[s-1];e:for(var o=0,l=i;o<l.length;o++){for(var r=l[o],c=r.bytes,d=0;d<s;d++)if(c[d]!==t[a+d])continue e;return r.str}return null},e.prototype.store=function(t,a){var s=this.caches[t.length-1],i={bytes:t,str:a};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=i:s.push(i)},e.prototype.decode=function(t,a,s){var i=this.find(t,a,s);if(i!=null)return this.hit++,i;this.miss++;var o=ed(t,a,s),l=Uint8Array.prototype.slice.call(t,a,a+s);return this.store(l,o),o},e}(),Kh=function(e,t,a,s){function i(o){return o instanceof a?o:new a(function(l){l(o)})}return new(a||(a=Promise))(function(o,l){function r(m){try{d(s.next(m))}catch(f){l(f)}}function c(m){try{d(s.throw(m))}catch(f){l(f)}}function d(m){m.done?o(m.value):i(m.value).then(r,c)}d((s=s.apply(e,t||[])).next())})},Ga=function(e,t){var a={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,l;return l={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function r(d){return function(m){return c([d,m])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,i=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){a=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){a.label=d[1];break}if(d[0]===6&&a.label<o[1]){a.label=o[1],o=d;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(d);break}o[2]&&a.ops.pop(),a.trys.pop();continue}d=t.call(e,a)}catch(m){d=[6,m],i=0}finally{s=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},_i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],a;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(o){a[o]=e[o]&&function(l){return new Promise(function(r,c){l=e[o](l),i(r,c,l.done,l.value)})}}function i(o,l,r,c){Promise.resolve(c).then(function(d){o({value:d,done:r})},l)}},$t=function(e){return this instanceof $t?(this.v=e,this):new $t(e)},Wh=function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(e,t||[]),i,o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(h){s[h]&&(i[h]=function(x){return new Promise(function(g,v){o.push([h,x,g,v])>1||r(h,x)})})}function r(h,x){try{c(s[h](x))}catch(g){f(o[0][3],g)}}function c(h){h.value instanceof $t?Promise.resolve(h.value.v).then(d,m):f(o[0][2],h)}function d(h){r("next",h)}function m(h){r("throw",h)}function f(h,x){h(x),o.shift(),o.length&&r(o[0][0],o[0][1])}},Gh=function(e){var t=typeof e;return t==="string"||t==="number"},Zt=-1,Ys=new DataView(new ArrayBuffer(0)),qh=new Uint8Array(Ys.buffer),hs=function(){try{Ys.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),Vi=new hs("Insufficient data"),Zh=new Hh,Xh=function(){function e(t,a,s,i,o,l,r,c){t===void 0&&(t=td.defaultCodec),a===void 0&&(a=void 0),s===void 0&&(s=ct),i===void 0&&(i=ct),o===void 0&&(o=ct),l===void 0&&(l=ct),r===void 0&&(r=ct),c===void 0&&(c=Zh),this.extensionCodec=t,this.context=a,this.maxStrLength=s,this.maxBinLength=i,this.maxArrayLength=o,this.maxMapLength=l,this.maxExtLength=r,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=Ys,this.bytes=qh,this.headByte=Zt,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=Zt,this.stack.length=0},e.prototype.setBuffer=function(t){this.bytes=Qn(t),this.view=Fh(this.bytes),this.pos=0},e.prototype.appendBuffer=function(t){if(this.headByte===Zt&&!this.hasRemaining(1))this.setBuffer(t);else{var a=this.bytes.subarray(this.pos),s=Qn(t),i=new Uint8Array(a.length+s.length);i.set(a),i.set(s,a.length),this.setBuffer(i)}},e.prototype.hasRemaining=function(t){return this.view.byteLength-this.pos>=t},e.prototype.createExtraByteError=function(t){var a=this,s=a.view,i=a.pos;return new RangeError("Extra ".concat(s.byteLength-i," of ").concat(s.byteLength," byte(s) found at buffer[").concat(t,"]"))},e.prototype.decode=function(t){this.reinitializeState(),this.setBuffer(t);var a=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return a},e.prototype.decodeMulti=function(t){return Ga(this,function(a){switch(a.label){case 0:this.reinitializeState(),this.setBuffer(t),a.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})},e.prototype.decodeAsync=function(t){var a,s,i,o;return Kh(this,void 0,void 0,function(){var l,r,c,d,m,f,h,x;return Ga(this,function(g){switch(g.label){case 0:l=!1,g.label=1;case 1:g.trys.push([1,6,7,12]),a=_i(t),g.label=2;case 2:return[4,a.next()];case 3:if(s=g.sent(),!!s.done)return[3,5];if(c=s.value,l)throw this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{r=this.doDecodeSync(),l=!0}catch(v){if(!(v instanceof hs))throw v}this.totalPos+=this.pos,g.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return d=g.sent(),i={error:d},[3,12];case 7:return g.trys.push([7,,10,11]),s&&!s.done&&(o=a.return)?[4,o.call(a)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[3,11];case 10:if(i)throw i.error;return[7];case 11:return[7];case 12:if(l){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,r]}throw m=this,f=m.headByte,h=m.pos,x=m.totalPos,new RangeError("Insufficient data in parsing ".concat(Wa(f)," at ").concat(x," (").concat(h," in the current buffer)"))}})})},e.prototype.decodeArrayStream=function(t){return this.decodeMultiAsync(t,!0)},e.prototype.decodeStream=function(t){return this.decodeMultiAsync(t,!1)},e.prototype.decodeMultiAsync=function(t,a){return Wh(this,arguments,function(){var i,o,l,r,c,d,m,f,h;return Ga(this,function(x){switch(x.label){case 0:i=a,o=-1,x.label=1;case 1:x.trys.push([1,13,14,19]),l=_i(t),x.label=2;case 2:return[4,$t(l.next())];case 3:if(r=x.sent(),!!r.done)return[3,12];if(c=r.value,a&&o===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(c),i&&(o=this.readArraySize(),i=!1,this.complete()),x.label=4;case 4:x.trys.push([4,9,,10]),x.label=5;case 5:return[4,$t(this.doDecodeSync())];case 6:return[4,x.sent()];case 7:return x.sent(),--o===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(d=x.sent(),!(d instanceof hs))throw d;return[3,10];case 10:this.totalPos+=this.pos,x.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return m=x.sent(),f={error:m},[3,19];case 14:return x.trys.push([14,,17,18]),r&&!r.done&&(h=l.return)?[4,$t(h.call(l))]:[3,16];case 15:x.sent(),x.label=16;case 16:return[3,18];case 17:if(f)throw f.error;return[7];case 18:return[7];case 19:return[2]}})})},e.prototype.doDecodeSync=function(){e:for(;;){var t=this.readHeadByte(),a=void 0;if(t>=224)a=t-256;else if(t<192)if(t<128)a=t;else if(t<144){var s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else a={}}else if(t<160){var s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else a=[]}else{var i=t-160;a=this.decodeUtf8String(i,0)}else if(t===192)a=null;else if(t===194)a=!1;else if(t===195)a=!0;else if(t===202)a=this.readF32();else if(t===203)a=this.readF64();else if(t===204)a=this.readU8();else if(t===205)a=this.readU16();else if(t===206)a=this.readU32();else if(t===207)a=this.readU64();else if(t===208)a=this.readI8();else if(t===209)a=this.readI16();else if(t===210)a=this.readI32();else if(t===211)a=this.readI64();else if(t===217){var i=this.lookU8();a=this.decodeUtf8String(i,1)}else if(t===218){var i=this.lookU16();a=this.decodeUtf8String(i,2)}else if(t===219){var i=this.lookU32();a=this.decodeUtf8String(i,4)}else if(t===220){var s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else a=[]}else if(t===221){var s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else a=[]}else if(t===222){var s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else a={}}else if(t===223){var s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else a={}}else if(t===196){var s=this.lookU8();a=this.decodeBinary(s,1)}else if(t===197){var s=this.lookU16();a=this.decodeBinary(s,2)}else if(t===198){var s=this.lookU32();a=this.decodeBinary(s,4)}else if(t===212)a=this.decodeExtension(1,0);else if(t===213)a=this.decodeExtension(2,0);else if(t===214)a=this.decodeExtension(4,0);else if(t===215)a=this.decodeExtension(8,0);else if(t===216)a=this.decodeExtension(16,0);else if(t===199){var s=this.lookU8();a=this.decodeExtension(s,1)}else if(t===200){var s=this.lookU16();a=this.decodeExtension(s,2)}else if(t===201){var s=this.lookU32();a=this.decodeExtension(s,4)}else throw new Me("Unrecognized type byte: ".concat(Wa(t)));this.complete();for(var o=this.stack;o.length>0;){var l=o[o.length-1];if(l.type===0)if(l.array[l.position]=a,l.position++,l.position===l.size)o.pop(),a=l.array;else continue e;else if(l.type===1){if(!Gh(a))throw new Me("The type of key must be string or number but "+typeof a);if(a==="__proto__")throw new Me("The key __proto__ is not allowed");l.key=a,l.type=2;continue e}else if(l.map[l.key]=a,l.readCount++,l.readCount===l.size)o.pop(),a=l.map;else{l.key=null,l.type=1;continue e}}return a}},e.prototype.readHeadByte=function(){return this.headByte===Zt&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=Zt},e.prototype.readArraySize=function(){var t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new Me("Unrecognized array type byte: ".concat(Wa(t)))}}},e.prototype.pushMapState=function(t){if(t>this.maxMapLength)throw new Me("Max length exceeded: map length (".concat(t,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:t,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(t){if(t>this.maxArrayLength)throw new Me("Max length exceeded: array length (".concat(t,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:t,array:new Array(t),position:0})},e.prototype.decodeUtf8String=function(t,a){var s;if(t>this.maxStrLength)throw new Me("Max length exceeded: UTF-8 byte length (".concat(t,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+a+t)throw Vi;var i=this.pos+a,o;return this.stateIsMapKey()&&(!((s=this.keyDecoder)===null||s===void 0)&&s.canBeCached(t))?o=this.keyDecoder.decode(this.bytes,i,t):t>Nh?o=$h(this.bytes,i,t):o=ed(this.bytes,i,t),this.pos+=a+t,o},e.prototype.stateIsMapKey=function(){if(this.stack.length>0){var t=this.stack[this.stack.length-1];return t.type===1}return!1},e.prototype.decodeBinary=function(t,a){if(t>this.maxBinLength)throw new Me("Max length exceeded: bin length (".concat(t,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(t+a))throw Vi;var s=this.pos+a,i=this.bytes.subarray(s,s+t);return this.pos+=a+t,i},e.prototype.decodeExtension=function(t,a){if(t>this.maxExtLength)throw new Me("Max length exceeded: ext length (".concat(t,") > maxExtLength (").concat(this.maxExtLength,")"));var s=this.view.getInt8(this.pos+a),i=this.decodeBinary(t,a+1);return this.extensionCodec.decode(i,s,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var t=this.view.getUint8(this.pos);return this.pos++,t},e.prototype.readI8=function(){var t=this.view.getInt8(this.pos);return this.pos++,t},e.prototype.readU16=function(){var t=this.view.getUint16(this.pos);return this.pos+=2,t},e.prototype.readI16=function(){var t=this.view.getInt16(this.pos);return this.pos+=2,t},e.prototype.readU32=function(){var t=this.view.getUint32(this.pos);return this.pos+=4,t},e.prototype.readI32=function(){var t=this.view.getInt32(this.pos);return this.pos+=4,t},e.prototype.readU64=function(){var t=bh(this.view,this.pos);return this.pos+=8,t},e.prototype.readI64=function(){var t=Jc(this.view,this.pos);return this.pos+=8,t},e.prototype.readF32=function(){var t=this.view.getFloat32(this.pos);return this.pos+=4,t},e.prototype.readF64=function(){var t=this.view.getFloat64(this.pos);return this.pos+=8,t},e}();const Ui=()=>new Vh,Oi=()=>new Xh;function Qh(e){return e.replaceAll("/","_").replaceAll("+","-")}function Yh(e){return e.replaceAll("_","/").replaceAll("-","+")}function Jh(e){const t=window.atob(Yh(e));return Uint8Array.from(t,a=>a.codePointAt(0))}function ex(e){const t=String.fromCodePoint(...e);return Qh(window.btoa(t))}const nd={encode:e=>Ui().encode(e),decode:e=>Oi().decode(e),encodeBase64:e=>ex(Ui().encode(e)),decodeBase64:e=>Oi().decode(Jh(e))};function Js(e){return e?nd.encodeBase64(e):""}function ei(e){if(e)return nd.decodeBase64(e)}function ti(e){const t=Xn(e==null?void 0:e.media,us),a={..._e(e,["id","prompts","hidePrompts"]),media:t,extra:_e(e==null?void 0:e.extra,["naturalPrompts"])};return Js(a)}function mn(e){if(!e)return null;const t="media"in e?Xn(e.media,us):void 0,a={...Xn(_e(e,["id","outputs","parameters","favoritedAt"]),us),media:t};return Js(a)}function Yn(e){return Js(tx(e))}function eb(e){return ei(e)}function tb(e){return ei(e)}function nb(e){return ei(e)}function tx(e){return Xn(_e(e,Nu),a=>a===void 0)}const ad=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M10 6.5A1.75 1.75 0 1 1 10 3a1.75 1.75 0 0 1 0 3.5M10 17a1.75 1.75 0 1 1 0-3.5a1.75 1.75 0 0 1 0 3.5m-1.75-7a1.75 1.75 0 1 0 3.5 0a1.75 1.75 0 0 0-3.5 0"})}),nx=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m13.33 12.838l4.497-4.423l.057-.065a.59.59 0 0 0-.057-.767L13.33 3.162l-.062-.053c-.36-.27-.89-.01-.89.469v2.13l-.225.015c-3.563.282-5.65 2.537-6.148 6.627c-.064.525.538.854.928.506c1.431-1.278 2.91-2.072 4.445-2.39q.369-.077.742-.117l.258-.023v2.096l.005.082c.06.453.609.666.947.334M12.226 6.72l1.152-.077V4.61l3.446 3.388l-3.446 3.39V9.231l-1.356.122h-.008c-1.703.183-3.31.865-4.827 2.002c.298-1.339.807-2.346 1.476-3.067c.83-.895 1.99-1.443 3.563-1.569M5.5 4A2.5 2.5 0 0 0 3 6.5v8A2.5 2.5 0 0 0 5.5 17h8a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 4 14.5v-8A1.5 1.5 0 0 1 5.5 5h3a.5.5 0 0 0 0-1z"})}),ax=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"})}),Da=u.createContext({}),sx=()=>u.useContext(Da),ze=(e,t,a,s)=>{var i;T(e,{artworkId:t==null?void 0:t.id,tags:(i=t==null?void 0:t.tags)==null?void 0:i.map(({name:o})=>o),authorId:t==null?void 0:t.authorId,...a},s)},sd=u.createContext(null),id=e=>{var xe;const{media:t,mediaFallback:a,mediaExtra:s,label:i,secondLabel:o,time:l,showInfo:r=!0,artwork:c,animated:d,overrideAuthor:m,className:f,contentClassName:h,showLikeBtn:x,showAuthorAvatar:g,loading:v,to:p,lastElementRef:k,wrapperRef:b,selected:j=!1,isEdit:S=!1,likeBtn:y,trackingArgs:C,border:N,contentExtra:B,mediaContentRemovedOverlayType:$,nsfwBlur:M,showExplicitIcon:I,menu:z,hideShare:A,taskParameters:V,...Z}=e,L=d||Ts(c),[O,Q]=u.useState(!0),K=pt=>{L&&Q(pt)},H=x&&(y??(c&&n.jsx(Xs,{trackingArgs:C,artworkId:c.id,initialCount:c.likedCount,initialValue:c.liked,numOnTop:!0,hideValueOnZero:!0}))),me=$!=null?n.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:n.jsx(rl,{type:"in-grid",overlayType:$})}):n.jsxs(n.Fragment,{children:[t?n.jsx(Sa,{className:w("w-full h-full",M&&"blur-xl"),blurHash:(xe=c==null?void 0:c.extra)==null?void 0:xe.imageBlurHash,media:t,videoMediaId:c==null?void 0:c.videoMediaId,videoMedia:c==null?void 0:c.videoMedia,thumbnail:!0,preferStill:O,alt:fl(c)}):a,n.jsx(od,{nsfwBlur:M,showExplicitIcon:I})]});return n.jsx(sd.Provider,{value:e,children:n.jsxs("div",{className:w("group group/card","relative isolate",N&&"p-0.5"),children:[N==="member"?n.jsx("div",{className:w("z-[-1] absolute inset-0 rounded-lg bg-gradient-member","mmd:-inset-0.5 mmd:rounded-[0.625rem]","transition ease-out duration-300 group-hover:shadow-xl")}):N==="plain"?n.jsx("div",{className:w("z-[-1] absolute inset-px rounded-lg","bg-black/10 group-hover:bg-black/30","transition ease-out duration-300 group-hover:shadow-xl")}):n.jsx("div",{className:w("z-[-1] absolute inset-0 rounded-lg","transition ease-out duration-300 group-hover:shadow-2xl")}),n.jsxs(ft,{ref:b,component:p!=null?ie:"div",className:w("group block bg-background-secondary transition cursor-pointer",N==="member"?"rounded-md":"rounded-lg",h),to:p,...Z,onMouseEnter:()=>K(!1),onMouseLeave:()=>K(!0),children:[n.jsxs("div",{ref:k,className:w("relative w-full aspect-square bg-active overflow-hidden transition duration-300 group-focus-within:outline",S&&j&&"border-black border-[5px] rounded-[16px]",r?N==="member"?"rounded-t-md":"rounded-t-lg":N==="member"?"rounded-md":"rounded-lg",f),children:[n.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[me,s]}),S&&n.jsx("div",{className:"w-full absolute top-0 p-3",children:n.jsx(ax,{className:w(j?"text-opacity-100":"text-opacity-0","w-7 h-7 border-2 border-black bg-white rounded-xl float-right text-black")})}),n.jsxs("div",{className:"w-full absolute bottom-0 flex md:hidden p-3 items-end text-white drop-shadow",style:{background:"linear-gradient(to top, #0003, #0000)"},children:[n.jsx("div",{className:"flex-1"}),n.jsx("div",{className:"block translate-y-1",children:H})]}),!S&&n.jsx(ix,{})]}),r&&n.jsxs("div",{className:"relative flex items-center gap-1.5 w-full h-14 pl-2 pb-0.5",children:[g&&n.jsx(jn,{className:"flex-none",user:(c==null?void 0:c.author)??m,style:{width:"2rem",height:"2rem",flexShrink:0}}),n.jsxs("div",{className:"flex flex-col items-stretch gap-0.5 min-w-0 px-1 py-1.5",children:[n.jsx("div",{className:w("text-left min-h-[1rem] text-sm font-semibold truncate",v&&"bg-active animate-pulse"),children:i}),n.jsx("div",{className:w("text-left w-auto min-h-[1rem] text-xs text-primary-light truncate",v&&"bg-active animate-pulse"),children:o||(l?ut(l).format("lll"):"")})]}),n.jsx("div",{className:"flex-1"}),n.jsx("div",{className:"flex-shrink-0 mr-4 hidden md:block",children:H})]}),B]})]})})};function ix(){const{artwork:e,trackingArgs:t,menu:a,hideShare:s,taskParameters:i}=u.useContext(sd),o=Na(),l=dn.compact([e&&!e.isPrivate&&!s&&{id:"share",icon:n.jsx(nx,{className:"size-5"}),children:n.jsx(P,{i18nKey:"common:share.label"}),onAction:()=>{T("share_my_work_click",t),W0(e,t)}},a&&rt,...a??[]]);if(l.length===0)return null;const r=w0(e,i);return n.jsxs(n.Fragment,{children:[o.enableUseAsRefHover&&r&&n.jsx(ox,{artwork:e,taskParameters:i}),n.jsxs(ja,{children:[n.jsx(Ns,{className:w("absolute top-1 right-1 inline-grid place-items-center size-7 rounded-md ring-1 ring-white/20 transition duration-100","text-white/50 bg-black/50 [@media(hover:hover)]:opacity-0","group-hover/card:opacity-100","hover:text-white data-[pressed]:text-white hover:bg-black/80 data-[pressed]:bg-black/80 data-[pressed]:opacity-100"),children:n.jsx(ad,{className:"size-5"})}),n.jsx(dn,{items:l,placement:"bottom right",children:c=>n.jsx(Ca,{...c})})]})]})}function ox(e){const{artwork:t,taskParameters:a}=e,{data:s}=de(),i=At(),o=u.useCallback(l=>{if(l.stopPropagation(),l.preventDefault(),!s){Re(void 0,{fromPath:"refer"});return}ze("use_as_refer",t,{scene:"artwork-preview-card"}),Je("generate_source"),i(`/generator/image?${Mt({importType:"use_as_reference",artwork:ti(t),task:mn(a)})}`)},[s,t,a]);return n.jsx("button",{className:w("absolute top-1 right-10 flex items-center rounded-md ring-1 ring-white/20 transition duration-100","text-white/50 bg-black/50 [@media(hover:hover)]:opacity-0","group-hover/card:opacity-100","hover:text-white data-[pressed]:text-white hover:bg-black/80 data-[pressed]:bg-black/80 data-[pressed]:opacity-100","py-0.5 px-1"),onClick:o,children:n.jsx(P,{i18nKey:"artwork:use-as-reference",context:"hoverexp"})})}function od(e){return e.nsfwBlur?n.jsx(lx,{showExplicitIcon:e.showExplicitIcon}):null}function lx(e){return n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black text-white bg-opacity-40 group-hover:bg-opacity-20 transition",children:e.showExplicitIcon&&n.jsx(K0,{className:"opacity-50 group-hover:opacity-80 transition-opacity text-3xl"})})}const Jn=u.memo(({artwork:e,showAuthor:t,loading:a,showLikeBtn:s=!0,trackingArgs:i,showIndex:o,index:l,onArtworkClick:r,onLikeClickForRec:c,showDislike:d,contentSafetyLabelType:m,oauthReturnOpensDetail:f,...h})=>{var N,B,$;const[{sort:x="trending"}]=Ne(),g=Ia(),{title:v,prompts:p,createdAt:k}=e||{},b=v||p,[j]=$s(),S=tt(e==null?void 0:e.author),y=So(e==null?void 0:e.author),C=ol(e)&&j;return n.jsx(id,{media:(e==null?void 0:e.media)||((N=e==null?void 0:e.manga)==null?void 0:N.coverMedia)||(($=(B=e==null?void 0:e.manga)==null?void 0:B.chapter)==null?void 0:$.coverMedia),nsfwBlur:C,showExplicitIcon:C,label:n.jsx("span",{title:b,children:b}),secondLabel:t&&S,time:k,artwork:e,showLikeBtn:s,loading:a,trackingArgs:i,mediaExtra:n.jsxs(n.Fragment,{children:[e&&n.jsx(Un,{corner:"top-left",className:"bg-transparent shadow-none backdrop-filter-none",children:n.jsx(Qc,{artwork:e,className:"absolute top-1 left-1 ring-1 ring-black/20"})}),be(e).with({isPrivate:!0},()=>n.jsx(Un,{corner:"bottom-left",className:"bg-transparent shadow-none backdrop-filter-none",children:n.jsx(hh,{})})).with({commentCount:q.number.gt(0)},({commentCount:M})=>n.jsx(Un,{corner:"bottom-left",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mh,{className:"text-white/70 text-xl"}),n.jsx("span",{className:"text-white/90",children:M})]})})).otherwise(()=>null),m&&n.jsx(rx,{type:m})]}),likeBtn:e&&n.jsx(Xs,{artwork:e,artworkId:e.id,initialCount:e.likedCount,initialValue:e.liked,afterClick:c,oauthReturnOpensDetail:f,hideValueOnZero:!0,trackingArgs:i}),showAuthorAvatar:!0,contentClassName:"group",border:y?"member":"plain",contentExtra:o&&l!=null?n.jsx("p",{className:"absolute top-2 right-2 flex items-center justify-center text-white font-black font-quicksand text-xl rounded py-1 bg-opacity-80 shadow-sm bg-purple-700 tabular-nums w-10 pointer-events-none",children:l+1}):void 0,...h,menu:[d&&{id:"dislike",icon:n.jsx(uh,{className:"size-5"}),children:n.jsx(P,{i18nKey:"action:dislike.label"}),onAction:()=>{Fe("dislike_click",{feed:x,totalCols:g,scene:"artwork_feed",likeFrom:"grid",artworkId:(e==null?void 0:e.id)??"",index:l??0,currentLikeCount:(e==null?void 0:e.likedCount)??0,type:te.Artwork}),G.success(n.jsx(P,{i18nKey:"action:dislike.success"}))}},rt,...h.menu??[]],onClick:(...M)=>{var I;if((e==null?void 0:e.type)===Ze.AnimatedComic&&(T("animated_comic_click"),M[0].preventDefault(),e.manga))return window.open(cn(e.manga),"_blank");(I=h.onClick)==null||I.call(h,...M),r==null||r(e)}})});Jn.displayName="ArtworkPreviewCardSimple";function rx(e){const{t}=D(["artwork"]),{type:a}=e;return n.jsx("div",{className:"absolute py-1 px-2 text-xs z-10 backdrop-blur backdrop-brightness-50 shadow-lg bottom-9 left-0 rounded-r-md md:rounded-tl-lg md:rounded-r-none md:py-2 md:right-0 md:left-[unset] md:bottom-0 md:text-base",children:n.jsx("p",{className:w(a==="sensitive"?"text-rose-400 font-bold":"text-orange-200 font-medium"),children:t(a==="sensitive"?"artwork:content-safety.sensitive.label":"artwork:content-safety.flagged.label")})})}function cx(e){const t=Ia(),[{sort:a="trending"}]=Ne(),{index:s,id:i,artwork:o,onArtworkClick:l,...r}=e,c=u.useRef(null),d=oa(c,{root:null,rootMargin:"0px",threshold:1});u.useEffect(()=>{d!=null&&d.isIntersecting&&Fe("reco_artwork_view",{artworkId:i,index:s,currentLikeCount:(o==null?void 0:o.likedCount)??0,scene:"artwork_feed",feed:a,totalCols:t,hidePrompts:(o==null?void 0:o.hidePrompts)??!1},{amplitudeSampleRate:Hn})},[i,s,o==null?void 0:o.likedCount,d==null?void 0:d.isIntersecting,t,a]);const m=u.useCallback(h=>{Fe("reco_artwork_click",{artworkId:i,index:s,currentLikeCount:(h==null?void 0:h.likedCount)??0,scene:"artwork_feed",feed:a,totalCols:t,hidePrompts:(h==null?void 0:h.hidePrompts)??!1},{amplitudeSampleRate:Hn}),l==null||l(h,s)},[i,s,a,t,l]),f=u.useCallback(()=>{Fe("like_click",{artworkId:i,index:s,currentLikeCount:(o==null?void 0:o.likedCount)??0,scene:"artwork_feed",feed:a,totalCols:t,type:te.Artwork,likeFrom:"grid",hidePrompts:(o==null?void 0:o.hidePrompts)??!1})},[i,s,o==null?void 0:o.likedCount,a,t]);return n.jsx(Jn,{...r,artwork:o,onArtworkClick:m,onLikeClickForRec:f,wrapperRef:c})}const Hi=({manga:e,onLikeClick:t})=>{const{t:a}=D(["manga"]),{data:s,isValidating:i}=$u({mangaId:e.id,index:0});return s?n.jsxs("main",{children:[n.jsx("div",{className:"w-full text-white bg-black",children:n.jsx(N0,{showHomeButton:!1,manga:e,onLikeClick:t})}),n.jsx($0,{manga:e,artwork:e.artwork,chapter:s}),n.jsx(M0,{manga:e})]}):i?n.jsx(je,{}):n.jsx(Cn,{description:a("manga:manga-not-found")})};function dx(){const{data:e}=Mu({last:4,feed:"recommend"},{revalidateOnFocus:!1}),t=On("(min-width:1024px)"),s=ce(e).slice(0,t?4:2);return n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"grid grid-flow-col grid-cols-2 gap-2 pt-2 pb-8 lg:grid-cols-4 lg:gap-3",children:s.map(i=>n.jsx(ux,{user:i},i.id))})})}function ux(e){const{user:t}=e;return n.jsxs(ie,{to:`/@${t.username}`,className:"rounded-xl flex flex-col items-center p-3 bg-background-secondary transition ease-out duration-300 hover:shadow-xl border hover:border-neutral-400 dark:border-none",children:[n.jsx(jn,{style:{width:96,height:96},user:t}),n.jsx("p",{className:"mt-4 mb-2 font-medium truncate hover:underline max-w-full",children:tt(t)}),n.jsx(pl,{user:t,userId:t.id,followProps:{startIcon:null,variant:"outlined",className:"!rounded-full font-medium"},followingProps:{startIcon:null,className:"!rounded-full font-base",variant:"contained"},scene:"artwork-recommended"})]})}function ab(e){return n.jsx("div",{children:n.jsx(Mn,{order:E.mostLiked,relevantArtworkId:e.artworkId,trackingArgs:{scene:"artwork-relevant"},pageSize:200,renderEmpty:()=>n.jsx(fx,{})},e.artworkId)})}function mx(e){const{t}=D(["artwork"]),{data:a,isValidating:s}=Iu({first:4,relevantArtworkId:e.artworkId,orderBy:"-markInfo.likedCount",feed:"relevant-v2"},{revalidateOnFocus:!1}),i=On("(min-width:1024px)"),o=ce(a),l=o.slice(0,i?4:2);return!s&&o.length<1?null:n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("h2",{className:"font-medium text-xl",children:t("artwork:similar-images.title")}),n.jsx(ie,{to:`/artwork/${e.artworkId}/relevant`,className:"text-theme-primary ml-auto",onClick:()=>{T("show_similar_image_click")},children:t("artwork:show.more")})]}),n.jsxs("div",{className:"w-full",children:[s&&l.length===0&&n.jsx(bl,{}),!s&&l.length>0?n.jsx(vs,{artworks:l,loading:s,containerProps:{className:"grid grid-flow-col grid-cols-2 gap-2 pt-2 pb-8 lg:grid-cols-4 lg:gap-3"},trackingArgs:{scene:"artwork-detail-relevant"}}):null]})]})}function fx(){const{t:e}=D(["artwork"]);return n.jsx(Cn,{description:e("artwork:relevant-page.empty-placeholder")})}function hx(e){return n.jsx("div",{children:n.jsx(Mn,{order:"recommended",showDislike:!0,enableTracking:!0,renderEmpty:()=>null,ignoreSafeSearch:!0,ignoreShowNsfw:!0,...e})})}const xx={isMinors:!1,isSensitive:!1};function ld(e){const t={...xx,...(e==null?void 0:e.textModerationInfo)??{}},a=t.isMinors||t.isSensitive;return{...t,isFlagged:a}}const gx=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027"})}),px=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m3.897 4.054l.073-.084a.75.75 0 0 1 .976-.073l.084.073L10 8.939l4.97-4.97a.75.75 0 0 1 .976-.072l.084.073a.75.75 0 0 1 .073.976l-.073.084L11.061 10l4.97 4.97a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L10 11.061l-4.97 4.97a.75.75 0 0 1-.976.072l-.084-.073a.75.75 0 0 1-.073-.976l.073-.084L8.939 10l-4.97-4.97a.75.75 0 0 1-.072-.976l.073-.084z"})}),bx=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M17.755 14a2.25 2.25 0 0 1 2.248 2.25v.918a2.75 2.75 0 0 1-.512 1.598c-1.546 2.164-4.07 3.235-7.49 3.235c-3.422 0-5.945-1.072-7.487-3.236a2.75 2.75 0 0 1-.51-1.596v-.92A2.25 2.25 0 0 1 6.253 14zM12 2.005a5 5 0 1 1 0 10a5 5 0 0 1 0-10"})}),vx=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m12.815 12.197l-7.532 1.255a.5.5 0 0 0-.386.318L2.3 20.728c-.248.64.421 1.25 1.035.942l18-9a.75.75 0 0 0 0-1.341l-18-9c-.614-.307-1.283.303-1.035.942l2.598 6.958a.5.5 0 0 0 .386.318l7.532 1.255a.2.2 0 0 1 0 .395"})});Ft({replyToMessageId:null,onMessageInListRemovedRef:null,topicRefType:te.Message,showMessageList:!1});new No;const Rt=u.createContext(void 0);function rd(e){var g,v;const[t,a]=u.useState(e.initLoadSize??10),{data:s,isValidating:i,setSize:o,mutate:l}=Pu((p,k)=>{var b;return e.topicId?{topicId:e.topicId,last:t,before:(b=k==null?void 0:k.pageInfo)==null?void 0:b.startCursor}:void 0},{keepPreviousData:!0,revalidateOnFocus:!1}),r=((v=(g=s==null?void 0:s.at(-1))==null?void 0:g.pageInfo)==null?void 0:v.hasPreviousPage)??!0,c=u.useMemo(()=>(s==null?void 0:s.flatMap(p=>ce(p).reverse()))??[],[s]),d=u.useMemo(()=>new Map,[]);u.useEffect(()=>{for(const p of c)d.set(p.id,p)},[c,d]);function m(p){var k;r&&(o(b=>b+1),p!=null&&a(p),(k=e.onLoadMore)==null||k.call(e))}const f=async(p,k=e.refType)=>{k&&(await hd(p,k),await l(an(b=>{for(const j of b){let S=!0;for(const[y,C]of j.edges.entries())if(C.node.id===p){j.edges.splice(y,1),S=!1;break}if(!S)break}})))},h=u.useMemo(md,[]),x=async(p,k)=>{if(e.topicId)try{const b=await yx(e.topicId,p,k);T("send_message",{type:e.scene,isReply:!!k}),b&&l(an(j=>{j.unshift([{edges:[{node:b}],pageInfo:{hasPreviousPage:j.length>0}}])}))}catch(b){return G.error(n.jsxs(n.Fragment,{children:[n.jsx(P,{i18nKey:"comment:actions.send-comment.messages.failed"}),` (${String(b)})`]})),Promise.reject(b)}};return n.jsx(Rt.Provider,{value:{refType:e.refType,messages:c,messageCache:d,havingMore:r,loading:i,loadMore:m,canDeleteMessage:e.canDeleteMessage,deleteMessage:f,composerStateAtom:h,sendMessage:x},children:e.children})}function Ki(e){const{id:t,author:a,createdAt:s,content:i,replyToMessageId:o="",extra:l}=e.message,{isFlagged:r}=ld(l),c=a?Mo(a):void 0,{me:d,beingAdmin:m}=ue(),f=d!=null&&d.id===(a==null?void 0:a.id),h=u.useContext(Rt),x=e.refType??(h==null?void 0:h.refType),g=e.canDeleteMessage??(h==null?void 0:h.canDeleteMessage),v=_s((h==null?void 0:h.composerStateAtom)??md()),[{loading:p},k]=Ms(async()=>{var j;if(h)await h.deleteMessage(t,x);else if(e.refType)try{await hd(t,e.refType),(j=e.onDelete)==null||j.call(e)}catch{G.error(n.jsx(P,{i18nKey:"comment:notice.delete.failed"}))}},[]);async function b(){if(!x)return;await bn({title:n.jsx(P,{i18nKey:"comment:delete.confirm-dialog.title"}),description:n.jsx(P,{i18nKey:"comment:delete.confirm-dialog.description"})}).then(()=>!0,()=>!1)&&await k()}return n.jsxs("div",{"data-message-id":t,className:w("grid grid-cols-[auto_1fr] items-start gap-4 text-sm",p&&"opacity-50 pointer-events-none",e.className),style:e.style,children:[n.jsx(It,{href:c,onPress:()=>T("user_link_click"),children:n.jsx(jn,{user:a,className:"!size-10"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(It,{href:c,className:"px-1 -mx-1 font-semibold rounded",onPress:()=>T("user_link_click"),children:tt(a)}),n.jsx("time",{dateTime:ut(s).toISOString(),className:"text-neutral-500",children:ut(s).format("lll")})]}),o&&n.jsx(cd,{messageId:o,className:"mt-2 mb-1"}),r?n.jsx(xs,{displayText:n.jsx(P,{i18nKey:"comment:content.flagged-hidden"}),hoverText:d?i:void 0}):n.jsx("article",{className:"text-neutral-800 dark:text-neutral-200",children:i}),n.jsxs("div",{className:"mt-1 flex gap-2",children:[h&&!r&&n.jsx(W,{variant:"ghost",size:"small",className:"px-2 -ml-2 py-1 -mt-1 text-black dark:text-white",onPress:()=>{v(j=>{j.replyTo=t})},children:n.jsx(P,{i18nKey:"comment:reply.label"})}),(f||m||(g==null?void 0:g(e.message)))&&x&&n.jsx(W,{variant:"ghost",size:"small",color:"danger",className:"px-2 -ml-2 py-1 -mt-1 text-black hover:text-red-600 dark:text-white dark:hover:text-red-500",onPress:b,children:n.jsx(P,{i18nKey:"action:delete.label"})})]})]})]})}function xs({displayText:e,hoverText:t}){const[a,s]=u.useState(!1);return n.jsx("span",{className:a?"opacity-50":"uppercase opacity-50",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:a&&t?t:e})}function Fn({className:e,style:t,children:a}){return n.jsx("div",{className:w("pl-2 border-l-2 border-black/50 dark:border-white/50",e),style:t,children:a})}function cd({messageId:e,className:t,style:a}){const s=u.useContext(Rt),{me:i}=ue(),{data:o=s==null?void 0:s.messageCache.get(e),isLoading:l}=Tu(s!=null&&s.messageCache.has(e)?void 0:e),{isFlagged:r}=ld(o==null?void 0:o.extra),c={className:t,style:a};return l?n.jsx(Fn,{...c,children:n.jsx(zu,{className:"size-5 animate-spin"})}):o?r?n.jsx(Fn,{...c,children:n.jsx(xs,{displayText:n.jsx(P,{i18nKey:"comment:content.flagged-hidden"}),hoverText:i?o.content:void 0})}):n.jsxs(Fn,{...c,children:[n.jsxs("p",{className:"text-neutral-500",children:[n.jsx(P,{i18nKey:"comment:reply.reply-to.label"})," ",n.jsx(It,{href:o.author?Mo(o.author):void 0,className:"px-1 -mx-1 font-semibold rounded",onPress:()=>T("user_link_click"),children:tt(o.author)})]}),n.jsx("article",{className:"line-clamp-3 text-neutral-600 dark:text-neutral-400",children:o.content})]}):n.jsx(Fn,{...c,children:n.jsx(xs,{displayText:n.jsx(P,{i18nKey:"comment:notice.delete.success"})})})}const dd=30;function ud(e){const{messages:t,loadMore:a}=u.useContext(Rt)??ni(),s={loadMode:e.loadMode??"button"};return e.windowed?n.jsx(e1,{data:t,context:s,components:qa,itemContent:(i,o)=>n.jsx(Ki,{message:o}),className:e.className,style:e.style,endReached:()=>{e.loadMode==="scroll"&&a(dd)}}):n.jsxs("div",{children:[n.jsx(qa.List,{"data-test-id":"",children:t.map(i=>n.jsx(Ki,{message:i},i.id))}),n.jsx(qa.Footer,{context:s})]})}const qa={List:u.forwardRef(function(t,a){return n.jsx("div",{ref:a,...t,className:"flex flex-col gap-4"})}),Footer:({context:e})=>{const{messages:t,havingMore:a,loading:s,loadMore:i}=u.useContext(Rt)??ni(),{loadMode:o}=e??Du();return n.jsx("div",{className:w("pl-14 text-sm",t.length>0&&"mt-3"),children:n.jsx(W,{variant:"ghost",size:"small",busy:s,disabled:!a,icon:a?n.jsx(gx,{className:"size-5"}):null,className:w("pl-1 -ml-2 pr-2 py-1 gap-1",!a&&"text-neutral-500"),onPress:()=>{o==="button"&&i(dd)},children:s?n.jsx(P,{i18nKey:"common:hint.loading"}):a?n.jsx(P,{i18nKey:"action:load-more"}):t.length?n.jsx(P,{i18nKey:"common:list-reached-the-end"}):n.jsx(P,{i18nKey:"comment:leave-comments-here"})})})}},md=()=>$o({replyTo:void 0}),Za=ht({base:"px-2 py-2.5 min-h-10 max-h-20 overflow-auto whitespace-pre-line bg-transparent outline-none"});function fd(e){const{t}=D(["comment"]),{me:a}=ue(),[s,i]=u.useState(""),o=u.useRef(null),{composerStateAtom:l,sendMessage:r}=u.useContext(Rt)??ni(),[c,d]=ef(l);return u.useEffect(()=>{var m;c.replyTo&&((m=o.current)==null||m.focus())},[c.replyTo]),n.jsxs("div",{className:w("flex items-start gap-4 text-sm",e.className),style:e.style,children:[n.jsx("div",{className:"flex-none",children:a?n.jsx(jn,{user:a,className:"!size-10"}):n.jsx("div",{className:"grid place-content-center size-10 bg-zinc-200 rounded-full",children:n.jsx(bx,{className:"size-6"})})}),n.jsx("div",{className:w("flex-1 -mx-2 rounded-md ring-1 focus-within:outline outline-2 outline-offset-2","focus-within:bg-white ring-zinc-300 focus-within:ring-zinc-300/50 outline-black","dark:focus-within:bg-black dark:ring-zinc-600 dark:focus-within:ring-zinc-600/50 dark:outline-white"),children:a?n.jsxs(n.Fragment,{children:[c.replyTo&&n.jsxs("div",{className:"flex items-start p-2 bg-black/5 dark:bg-white/5 border-b border-zinc-300 dark:border-zinc-600 rounded-t-md",children:[n.jsx(cd,{messageId:c.replyTo,className:"flex-1"}),n.jsx("button",{className:"flex-none p-1 -m-1 ml-0 hover:bg-black/5 dark:hover:bg-white/5 rounded",onClick:()=>{d(m=>{m.replyTo=void 0})},children:n.jsx(px,{className:"size-5"})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:Za({className:"invisible"}),children:[s,"‍"]}),n.jsx(Bu,{ref:o,value:s,placeholder:t("comment:send-message-placeholder"),className:Za({className:"absolute inset-0 h-full resize-none"}),onChange:m=>i(m.target.value)})]})]}):n.jsx("button",{className:Za({className:"w-full"}),onClick:()=>{T("login_comment_click"),la({fromPath:"comment"}).catch(Au)},children:n.jsx(P,{i18nKey:"comment:login-to-comment"})})}),n.jsx(W,{variant:"ghost",size:"large",busy:"auto",disabled:!s.trim(),icon:n.jsx(vx,{className:"size-6"}),className:"flex-none grid-cols-1 place-items-center size-10",onPress:async()=>{if(s.trim())try{await r(s,c.replyTo),i(""),d(m=>{m.replyTo=void 0})}catch{}}})]})}function ni(){Eu("This component should be within a <CommentProvider>")}async function yx(e,t,a){return t=t.trim(),t?(await J.sendMessage({topicId:e,input:{type:"TEXT",content:t,replyToMessageId:a}})).sendMessage:void 0}async function hd(e,t){await J.deleteMessage({messageId:e,topicRefType:t})}const wx=e=>n.jsxs("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:[n.jsx("path",{fill:"currentColor",d:"M18 8h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v11H6V10h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2z"}),n.jsx("path",{fill:"currentColor",d:"M12 16c.55 0 1-.45 1-1V5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.2-.2-.51-.2-.71 0L8.85 4.15a.5.5 0 0 0 .36.85H11v10c0 .55.45 1 1 1z"})]});function kx(e){const{scene:t}=e,{t:a}=D(["artwork","action"]),{data:s}=ra(e.artworkId),i=s??e.artwork,o=Ts(i),{data:l=i==null?void 0:i.videoMedia}=Io(i!=null&&i.videoMedia||i==null?void 0:i.videoMediaId),[{loading:r},c]=Ms(async()=>{if(!(i!=null&&i.media))return;T("share_image_dl_click",{scene:t});const d=Zn({artwork:i,media:i.media}),m=`${hl({artwork:i})}.${d}`,f=Lu(l)||vn(i.media);if(f)try{await F0(f,m,{skipConversion:o}),T("share_image_dl_dialog_show",{scene:t}),G0(a,{type:"download"})}catch(h){G.error(a("artwork:share.watermark-dialog.notice.failed-to-download")+": ",h.message)}},[i]);return i?n.jsxs(n.Fragment,{children:[n.jsx(he,{onClick:()=>{T("copy_link_click",{scene:t,location:"artwork-detail"}),Kn(Fu(Ru(i.id),{utm_source:"copy_web"}))},children:n.jsx(q0,{className:"size-4"})}),n.jsx(he,{disabled:r,onClick:c,children:r?n.jsx(Po,{size:20,className:"text-primary"}):n.jsx(Z0,{className:"size-5"})}),n.jsx(jx,{artwork:i,scene:t})]}):null}function jx(e){const[t,a]=u.useState(!1),s=u.useRef(null);return n.jsxs(n.Fragment,{children:[n.jsx(he,{ref:s,onClick:()=>{T("share_btn_click",{scene:"artwork-detail"}),a(!0)},children:n.jsx(wx,{className:"size-4"})}),n.jsx(X0,{open:t,onOpenChange:a,triggerRef:s,artwork:e.artwork,scene:e.scene})]})}const Cx="_portrait_y2fet_8",Xe={"artwork-detail-content-container":"_artwork-detail-content-container_y2fet_1","artwork-image-bg":"_artwork-image-bg_y2fet_6",portrait:Cx,"artwork-image-container":"_artwork-image-container_y2fet_12","artwork-image-element":"_artwork-image-element_y2fet_15","show-more-horizontal-gradient":"_show-more-horizontal-gradient_y2fet_45","artwork-main-wrapper":"_artwork-main-wrapper_y2fet_61","single-page":"_single-page_y2fet_74"};function Sx(e){const{artwork:t,isSinglePage:a,className:s}=e,{author:i,id:o,liked:l,likedCount:r}=t,{onClose:c,onLikeClickForRec:d,trackingArgs:m}=u.useContext(Da),{data:f}=de();return n.jsxs("section",{className:w("w-full flex flex-col gap-2",s),children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"font-bold text-2xl truncate",title:$i(t),children:$i(t)}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx(kx,{artwork:t,scene:a?"artwork":"home"}),n.jsx(Xs,{artworkId:o,artwork:t,initialCount:r,initialValue:l,countStyle:{color:"inherit"},afterClick:d,trackingArgs:{...m,scene:"artwork-detail"},oauthReturnOpensDetail:!a})]})]}),n.jsx("div",{className:"flex gap-2 items-center",children:i&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"min-w-0",onClick:h=>{h.stopPropagation(),c==null||c()},children:n.jsx(gl,{size:32,user:i,scene:"image"})}),f&&f.id!==i.id?n.jsx(pl,{user:i,userId:i.id,followProps:{startIcon:null,variant:"outlined",className:"!rounded-full font-medium text-xs min-w-0 !px-2"},followingProps:{startIcon:null,className:"!rounded-full font-base text-xs min-w-0 !px-2",variant:"contained"},className:"shrink-0",scene:"artwork"}):null]})})]})}function Nx(e){const{extra:t,tags:a}=e.artwork,s=t==null?void 0:t.description;return n.jsxs(n.Fragment,{children:[s&&n.jsx($x,{description:s}),a&&a.length>0&&n.jsx(t1,{type:"artwork",tags:a})]})}function $x(e){const{description:t}=e,a=u.useRef(null),[s,i]=u.useState(!1),[o,l]=u.useState(!1),{t:r}=D(["artwork"]);return u.useEffect(()=>{t&&a.current&&l(a.current.scrollHeight>a.current.clientHeight)},[t]),n.jsxs("div",{className:"relative rounded-lg flex flex-col items-start gap-1 w-full",children:[n.jsx("p",{ref:a,className:w(s?"table table-fixed break-words":"line-clamp-2 break-all","w-full","text-sm","text-left","whitespace-pre-line"),children:t}),o&&!s&&n.jsx("button",{className:w(Xe["show-more-horizontal-gradient"],"grid grid-rows-[1fr_auto] grid-cols-[auto] justify-center absolute right-0 bottom-0"),onClick:()=>i(c=>!c),children:n.jsxs("span",{className:"row-span-full col-start-1 pl-2 pr-4 flex items-center",children:[s?n.jsx(Fs,{className:"size-5"}):n.jsx(yl,{className:"size-5"}),n.jsx("span",{className:"text-xs opacity-75",children:r(s?"artwork:show.less":"artwork:show.more")})]})})]})}function Mx(e){return null}function xd(e){Ue.create({dismissable:!0,className:"max-w-sm",heading:e.dialogTitle??n.jsx(P,{i18nKey:"membership:membership-only-feature-dialog.title"}),content:e.dialogBody,footer:({close:t})=>n.jsxs(n.Fragment,{children:[n.jsx(W,{size:"large",className:"w-full text-white bg-gradient-purple-pink border-none",onPress:()=>{t(),ca({defaultMode:"plans",trackingLocation:e.trackingLocation})},children:n.jsx(P,{i18nKey:"membership:membership-only-feature-dialog.action.view-plans"})}),n.jsx(W,{className:"w-full border-0",onPress:()=>t(),children:n.jsx(P,{i18nKey:"artwork:feedback.early-access-dialog.action.may-be-later"})})]}),modalLayerProps:{className:"z-[1400]"}})}const Ix=ht({base:"group relative"});function gs(e){return n.jsxs(Wf,{...e,className:Is(e.className,(t,a)=>Ix({...a,className:t})),children:[e.label,e.children]})}const Px=ht({slots:{root:"group flex",radio:"shrink-0 place-content-center rounded-full me-1 border transition"},variants:{variant:{circle:{root:"items-center gap-1 before:size-[1.2em] before:border-2 before:border-feat-base-black before:rounded-full before:transition-all",radio:"hidden"},"rounded-label-only":{root:"rounded-lg",radio:"hidden"},"rounded-radio":{root:["items-center","disabled:cursor-not-allowed"],radio:["grid items-center border-zinc-400 dark:border-zinc-400 shadow-sm","relative after:absolute after:rounded-full after:size-[10px] after:left-1/2 after:-translate-x-1/2 after:bg-transparent after:transition-colors","group-disabled:border-zinc-200 group-disabled:dark:border-zinc-600"]}},color:{theme:{}},isSelected:{true:""},size:{normal:{radio:"size-4"},small:{radio:"size-3  after:size-[6px]"}}},compoundVariants:[{variant:"circle",isSelected:!0,className:{root:"before:border-feat-brand-100 before:border-[0.4em]"}},{variant:["rounded-radio"],color:"theme",isSelected:!0,className:{radio:["after:bg-purple-600 after:hover:bg-purple-500 group-disabled:after:bg-purple-600/60"]}}]});function ps(e){const{variant:t,size:a,color:s,className:i,radioClassName:o,children:l,...r}=e,c=Px({variant:t,size:a,color:s});return n.jsx(Gf,{...r,className:Is(i,(d,m)=>c.root({...m,variant:t,className:d})),children:d=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:c.radio({...d,className:o})}),l]})})}const Dx=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4L9.55 18Z"})}),Bx=ht({slots:{root:"",button:"text-xs rounded-md border items-center",list:"bg-background w-full rounded-md border-[1px] border-card-border gap-0.5 flex flex-col py-1",selectValue:"flex [&>span]:flex-none"},variants:{variant:{filled:{button:""}}}});function Ax(e){const{children:t,items:a,labelSlot:s,buttonClassName:i,...o}=e,l=Bx({variant:e.variant});return n.jsxs(Zf,{...o,className:l.root({className:e.className}),children:[s,n.jsx(W,{variant:"outlined",size:"small",endIcon:n.jsx("span",{"aria-hidden":"true",children:"▼"}),className:l.button({className:i}),children:n.jsx(Qf,{className:l.selectValue()})}),n.jsx(Do,{children:n.jsx(Lf,{className:l.list(),items:a,children:t})})]})}function Ex({startIcon:e,children:t,...a}){return n.jsx(_f,{...a,className:w("flex items-center outline-none py-1.5 px-2 text-xs gap-1","hover:bg-neutral-50 dark:hover:bg-neutral-600 selected:bg-neutral-200 selected:dark:bg-neutral-700 overflow-hidden cursor-pointer selected:font-medium"),children:Is(t,(s,{isSelected:i})=>n.jsxs(n.Fragment,{children:[e,n.jsx("span",{className:w("flex-1"),children:s}),n.jsx(Dx,{className:w("ml-1",i?"visible":"hidden")})]}))})}const Tx=ht({slots:{select:["appearance-none pl-1.5 pr-3 py-0.5","border outline-2 rounded-lg outline-offset-1 transition duration-75","hover:bg-black/5 border-black/50 focus:border-black/20 outline-black/80","disabled:text-black/40 disabled:border-black/20","dark:hover:bg-white/5 dark:border-neutral-600 dark:focus:border-transparent dark:outline-neutral-400 dark:bg-transparent","col-start-1 row-start-1"],wrapper:["z-1","outline-none border-none",'grid grid-cols-1 grid-rows-1 items-center after:col-start-1 after:row-start-1 after:content-[""] after:w-2 after:h-1.5 after:bg-neutral-600 dark:after:bg-neutral-300 after:[clip-path:polygon(100%_0%,0_0%,50%_100%)] after:justify-self-end after:mr-1']}});function zx(e){const t=Tx();return n.jsx("div",{className:t.wrapper({className:e.className}),children:n.jsx("select",{...e,className:t.select(),children:e.children})})}const Lx=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.41z"})}),ai=Vu(),Ba=$o({}),sb=e=>_u({children:e.children,store:ai});function ib(){return _s(Ba,{store:ai})}function ob(){return co(Ba,{store:ai})}const Fx="unset",Rx="realistic, blur, distortion, disfigurement, low quality, collage, grainy, logos, abstract, warped",Xa={model:"v2.5",mode:"basic",duration:"5",prompts:"",negativePrompts:Rx,cameraMovement:Fx};function _x(e){const{events:t,genArgs:a}=e;return t?t.filter(i=>i.i2vPro==null||i.i2vPro.length===0||i.userType==="member"&&!(e!=null&&e.isMember)?!1:!!i.i2vPro.find(o=>o.model===a.model&&o.mode===a.mode&&o.duration===a.duration))[0]:null}function Vx(e){const{data:t,mutate:a}=Ku(),{beingMember:s,submissionArgs:i}=e,{data:o,isValidating:l}=p1(i),r=_x({events:t,isMember:s,genArgs:i.i2vPro}),c=r!=null&&r.countRemains>0;return{priceInfo:o,priceValidating:l,hasFreeEvent:c,activeFreeEvent:r,mutateMyFreeGenerationEvents:a}}function Ux(e,t){var o,l;const a=gd(e),s=["model","mediaId"],i=[];return a.cameraMovement&&i.push("cameraMovement"),a.prompts&&i.push("prompts"),a.negativePrompts&&i.push("negativePrompts"),(o=a.mode)!=null&&o.enable&&!a.mode.omitted&&i.push("mode"),(l=a.duration)!=null&&l.enable&&!a.duration.omitted&&i.push("duration"),_e(t,[...s,...i])}const Ox=xi({models:Uu(xi({model:Gt(),panelId:Gt(),isNew:gi(Ou()),demoVideo:Hu({id:Gt(),hls:Gt()})})),defaultModel:gi(Gt())});function gd(e){return be(e).with(q.union("1894d698-c87d-4f87-932c-26af20e78562","v2.5"),()=>({prompts:!0,duration:{readonly:!0,enable:!0,omitted:!0,options:[5],default:5}})).with(q.union("79b4c306-bdb8-4700-ab6f-9aaf508b1d39","v1"),()=>({prompts:!0,negativePrompts:!0,duration:{enable:!0},mode:{enable:!0}})).with(q.union("ccdfe579-9433-4a25-b317-77e87f221270","v2","v2.6"),()=>({prompts:!0,negativePrompts:!0,cameraMovement:!0,duration:{enable:!0},mode:{enable:!0,options:["basic","professional"],default:"professional"}})).otherwise(()=>({}))}function Hx(){const{data:e,isLoading:t}=Wu("tools"),{output:a,success:s}=Xt(Ox,e==null?void 0:e.i2vPro);return{models:s?a.models.map(o=>({model:o.model,panelId:o.panelId,panelConfig:gd(o.panelId),isNew:o.isNew,demoVideoId:o.demoVideo.id,isDefault:o.model===a.defaultModel})):[],defaultModel:s?a==null?void 0:a.defaultModel:void 0,isLoading:t}}function Kx(e){const{data:t,isLoading:a}=Gu(e);let s,i;if(t)if(t.estimatedConsumptionTimePerUnit){const o=t.amount*t.estimatedConsumptionTimePerUnit/t.concurrency;s=Math.ceil((o+t.estimatedConsumptionTimePerUnit)/60)}else i=t.amount;return{isLoading:a,data:t,minutes:s,waitingTasks:i}}const fn="unset",Wi={horizontal:"Horizontal","vertical-pan":"Vertical Pan",zoom:"Zoom",pan:"Pan",tilt:"Tilt",roll:"Roll"};let Qa=!1;function Wx(e){Qa||(Ue.create({content:n.jsx(Gx,{videoId:e}),className:"max-w-[calc(100vw-2rem)] w-[1080px] p-0 [&>div]:p-0 rounded-none",dismissable:!0,onClose(){Qa=!1}}),Qa=!0)}function Gx(e){const[t,a]=u.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(da,{slot:"title",className:"hidden",children:"Demo"}),n.jsxs("div",{className:"relative aspect-video",children:[!t&&n.jsx("div",{className:"w-full h-full flex items-center justify-center absolute",children:n.jsx(Oe,{})}),n.jsx(qu,{src:e.videoId,controls:!1,autoplay:!0,onLoadedData:()=>a(!0),muted:!0})]})]})}function lb(e){var s;const t=(s=l1())==null?void 0:s[0],a=t!=null&&t.startsWith("upload")?null:t;return n.jsx(pd,{...e,mediaId:a,showStitchEntries:!0})}function pd(e){const{models:t,defaultModel:a,isLoading:s}=Hx(),[i,o]=Nl(Xa),{beingMember:l,me:r}=ue(),c=u.useRef(null),[{lastResultTask:d},m]=Ps(Ba);u.useEffect(()=>{if(e.skipImportLastTaskResult)return;const y=d,{success:C,output:N}=Xt(Sl,y==null?void 0:y.parameters);o(C?{...Xa,..._e(N.i2vPro,["mode","model","duration","negativePrompts","prompts","cameraMovement"]),...N.i2vPro.model==="v2.5-basic"?{model:"v2.5"}:{}}:Xa)},[d,e.skipImportLastTaskResult]),u.useEffect(()=>{a||i.model==="v2"&&o(y=>{y.mode="professional"})},[i.model,a]),u.useEffect(()=>{a&&o(y=>{y.model=a})},[a]);const{t:f}=D(["generation","common"]),h=u.useMemo(()=>({i2vPro:{...i,mediaId:e.mediaId}}),[e.mediaId,i]),{activeFreeEvent:x,priceInfo:g,priceValidating:v,hasFreeEvent:p,mutateMyFreeGenerationEvents:k}=Vx({beingMember:l,submissionArgs:h}),b=u.useMemo(()=>t.find(y=>y.model===i.model),[t,i.model]),[j,S]=Ms(async()=>{var y;try{const C=Object.fromEntries(new FormData(c.current));if(!l)return xd({dialogBody:f("generation:image-to-video.membership-dialog.description"),trackingLocation:"i2v-pro-generation"});if(!(b==null?void 0:b.panelId))throw new Error("Unknown config");const B=Xx(C),$=Ux(b==null?void 0:b.panelId,{...h.i2vPro,cameraMovement:B});T("image_to_video_generate_click",Bl($,["mediaId","prompts","negativePrompts"]));const M=await J.createGenerationTask({parameters:{i2vPro:$}});k(),m(z=>{var A;return{...z,lastResultTaskId:(A=M.createGenerationTask)==null?void 0:A.id,lastResultTask:M.createGenerationTask}});const I=document.getElementById("i2v-task-result-scroll-into-view");I&&requestAnimationFrame(()=>{I.scrollIntoView({block:"start"})}),M.createGenerationTask&&((y=e.afterSubmission)==null||y.call(e,M.createGenerationTask))}catch(C){G.error(C.message)}},[h,l,e.afterSubmission,b==null?void 0:b.panelId]);return s?n.jsx(je,{}):n.jsxs(Af,{className:w("flex flex-col gap-2",e.className),onSubmit:y=>y.preventDefault(),ref:c,children:[n.jsx(Pl,{type:Dl.Warning,className:"mlg:mb-4",children:f("generation:image-to-video.incompatible-with-nsfw")}),n.jsxs(gs,{className:"flex mlg:flex-col gap-x-4 gap-y-1 mlg:gap-1 mb-2 flex-wrap",value:i.model,onChange:y=>o(C=>{C.model=y}),name:"model",children:[n.jsx(Pe,{children:n.jsx("h3",{className:"font-semibold",children:f("generation:image-to-video.parameters.model.label")})}),t.map(y=>n.jsxs(ps,{variant:"rounded-radio",value:y.model,color:"theme",size:"normal",children:[n.jsx("span",{className:"text-sm",children:f([`generation:image-to-video.parameters.model.${Bo(y.model)}.label`,"common:unknown"])}),y.isNew&&n.jsx("span",{className:"ml-2 rounded px-1 py-[2px] leading-none text-white bg-gradient-purple-pink text-[10px]",children:"New"})]}))]}),b&&n.jsx(qx,{modelItem:b,mediaId:e.mediaId,formState:i,setFormState:o,submitArea:n.jsxs(W,{type:"submit",variant:"filled",color:"theme",className:"w-full mt-2 shrink-0",labelClassName:"flex justify-center items-center gap-2",disabled:!e.mediaId,onPress:S,busy:j.loading,children:[n.jsx(ua,{className:"size-4"}),f("generation:image-to-video.action.submit"),r&&!p&&n.jsx(pi,{children:n.jsx(c1,{value:(g==null?void 0:g.actualPrice)??0,loading:v,className:"!text-inherit font-normal",iconClassName:"hidden",valueClassName:"text-xs"})}),r&&p&&n.jsxs(pi,{children:[n.jsx("span",{className:"font-bold",children:x==null?void 0:x.countRemains}),"/",n.jsx("span",{className:"text-xs",children:f("generation:submit.free-generation.remaining-times",{remaining:x==null?void 0:x.countTotal})})]})]})}),n.jsxs("section",{className:"pt-2 pb-4",children:[n.jsx(da,{children:n.jsx("h3",{className:"font-semibold",children:n.jsx(P,{i18nKey:"generation:image-to-video.action-presets.label"})})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(ie,{className:"rounded size-16 flex items-center bg-cover justify-center text-black border font-bold",to:"/generator/stitching/kiss",style:{backgroundImage:`linear-gradient(to right, #FFF8, #FFF8),
            url("https://images-ng.pixai.art/images/thumb/b65f7781-60fc-44b3-9a87-19abb4e8091b")`},children:n.jsx(P,{i18nKey:"generation:image-stitching.preset.kiss.label"})}),n.jsx(ie,{className:"rounded size-16 flex items-center bg-cover justify-center text-black border font-bold",to:"/generator/stitching/hug",style:{backgroundImage:`linear-gradient(to right, #FFF8, #FFF8),
            url("https://images-ng.pixai.art/images/thumb/71448d2a-e8c2-4613-a2fa-e67be2231c29")`},children:n.jsx(P,{i18nKey:"generation:image-stitching.preset.hug.label"})})]})]})]})}function qx(e){var x,g,v,p,k,b,j,S;const[{lastResultTaskId:t}]=Ps(Ba),{formState:a,setFormState:s}=e,{isNew:i,demoVideoId:o,panelConfig:l,panelId:r}=e.modelItem,{t:c}=D(["generation"]),d=Kx("i2v-pro"),m=((x=l.duration)==null?void 0:x.options)??[5,10],f=((g=l.mode)==null?void 0:g.options)??["basic","professional"],h=a.cameraMovement??fn;return u.useEffect(()=>{s(y=>{var C,N;(C=l.duration)!=null&&C.default&&(y.duration=l.duration.default.toString()),(N=l.mode)!=null&&N.default&&(y.mode=l.mode.default)})},[(v=l.duration)==null?void 0:v.default,(p=l.mode)==null?void 0:p.default]),n.jsxs(n.Fragment,{children:[n.jsxs(gs,{className:w("flex mlg:flex-col gap-4 mlg:gap-1 mb-2",!((k=l.mode)!=null&&k.enable)&&"hidden"),value:a.mode,onChange:y=>s(C=>{C.mode=y}),isDisabled:(b=l.mode)==null?void 0:b.readonly,name:"mode",children:[n.jsx(Pe,{className:"font-semibold",children:c("generation:image-to-video.parameters.mode.label")}),f.map(y=>n.jsx(ps,{variant:"rounded-radio",value:y,color:"theme",size:"normal",children:n.jsx("span",{className:"text-sm",children:c(`generation:image-to-video.parameters.mode.${y}`)})},y))]}),n.jsxs(gs,{className:w("flex mlg:flex-col gap-4 mlg:gap-1 mb-2",!((j=l.duration)!=null&&j.enable)&&"hidden"),value:a.duration,onChange:y=>s(C=>{C.duration=y}),name:"duration",isDisabled:(S=l.duration)==null?void 0:S.readonly,children:[n.jsx(Pe,{className:"font-semibold",children:c("generation:image-to-video.parameters.duration.label")}),m.map(y=>n.jsx(ps,{variant:"rounded-radio",value:y.toString(),color:"theme",size:"normal",children:n.jsx("span",{className:"text-sm",children:c(`generation:image-to-video.parameters.duration.${y}`)})},y))]}),n.jsxs(fs,{value:a.prompts,onChange:y=>s(C=>{C.prompts=y}),className:"flex flex-col gap-1",name:"prompts",children:[n.jsx(Pe,{children:n.jsx("h3",{className:"font-semibold",children:c("generation:image-to-video.parameters.prompts.label")})}),n.jsx(bi,{variant:"rounded-normal",className:"w-full h-full rounded-md p-2 resize-none",inputMode:"text",autoCapitalize:"off",spellCheck:"false",autoCorrect:"off",placeholder:c("generation:image-to-video.parameters.prompts.placeholder")})]}),n.jsxs(i1,{defaultExpanded:h!==fn,className:w("group",!l.cameraMovement&&"hidden"),children:[n.jsx(da,{children:n.jsx(W,{icon:n.jsx(Lx,{className:"group-data-[expanded]:rotate-90"}),slot:"trigger",variant:"ghost",className:"font-semibold pr-1.5",children:c("generation:image-to-video.parameters.camera.label")})}),n.jsx(o1,{children:n.jsx(Zx,{defaultMovement:h})})]},h),n.jsxs(fs,{value:a.negativePrompts,onChange:y=>s(C=>{C.negativePrompts=y}),className:w("flex flex-col gap-1",!l.negativePrompts&&"hidden"),children:[n.jsxs(Pe,{className:"inline-flex gap-2",children:[n.jsx("h3",{className:"font-semibold",children:c("generation:negative-prompts.label")}),n.jsx(ma,{TooltipProps:{placement:"start",UNSTABLE_portalContainer:document.getElementById("workbench-layout-overlays")},variant:"normal",children:n.jsx("p",{className:"max-w-[36em]",children:c("generation:image-to-video.parameters.negative-propmpts.placeholder")})})]}),n.jsx(bi,{variant:"rounded-normal",className:"min-h-20 rounded-md p-2 resize-none",placeholder:c("generation:image-to-video.parameters.negative-propmpts.placeholder"),name:"negativePrompts",inputMode:"text",autoCapitalize:"off",spellCheck:"false",autoCorrect:"off"})]}),(!e.mediaId||!!t)&&d.data&&n.jsxs("span",{className:"text-neutral-600 dark:text-neutral-300 text-xs",children:[d.minutes!=null&&c("generation:image-to-video.estimated-time-minutes",{minutes:d.minutes}),d.waitingTasks&&c("generation:image-to-video.waiting-tasks",{amount:d.waitingTasks})]}),n.jsx("div",{className:"sticky bottom-0 bg-background pb-2",children:e.submitArea}),o&&n.jsxs(W,{className:"shrink-0",labelClassName:"flex items-center justify-center gap-1",variant:"outlined",onPress:()=>Wx(o),children:[n.jsx(zs,{}),c("generation:image-to-video.action.show-demo-video"),i&&n.jsx("span",{className:"rounded px-1 py-[2px] leading-none text-white bg-gradient-purple-pink text-[10px]",children:"New"})]})]})}function Zx(e){return n.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-x-3 gap-y-2 px-2 pb-2 pt-1",children:[n.jsx(Pe,{children:n.jsx("h4",{className:"font-medium text-sm",children:n.jsx(P,{i18nKey:"generation:image-to-video.parameters.movement.label"})})}),n.jsxs(zx,{name:"movement","aria-label":"movement",defaultValue:e.defaultMovement,className:"max-w-40",children:[n.jsx("option",{id:fn,value:fn,children:n.jsx(P,{i18nKey:"generation:image-to-video.parameters.movement.option.unset"})}),Object.keys(Wi).map(t=>n.jsx("option",{id:t,value:Wi[t],children:n.jsx(P,{i18nKey:`generation:image-to-video.parameters.movement.option.${t}`})},t))]})]})}function Xx(e){const{movement:t}=e;if(!(!t||t===fn))return t}function Qx(e){const{afterSubmission:t,type:a,...s}=e;return Ue.create({dismissable:!0,className:"max-w-sm",heading:n.jsx(P,{i18nKey:"generation:generate.tab.image-to-video.label"}),type:a,content:n.jsx(pd,{afterSubmission:i=>{t==null||t(i)},skipImportLastTaskResult:!0,...s})})}const bd=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M4 5c0-1.007.875-1.755 1.904-2.223C6.978 2.289 8.427 2 10 2s3.022.289 4.096.777C15.125 3.245 16 3.993 16 5v4.758a4.5 4.5 0 0 0-1-.502V6.698a5 5 0 0 1-.904.525C13.022 7.711 11.573 8 10 8s-3.022-.289-4.096-.777A5 5 0 0 1 5 6.698V15c0 .374.356.875 1.318 1.313c.916.416 2.218.687 3.682.687q.33 0 .65-.018c.447.367.966.65 1.534.822c-.68.127-1.417.196-2.184.196c-1.573 0-3.022-.289-4.096-.777C4.875 16.755 4 16.007 4 15zm1 0c0 .374.356.875 1.318 1.313C7.234 6.729 8.536 7 10 7s2.766-.27 3.682-.687C14.644 5.875 15 5.373 15 5c0-.374-.356-.875-1.318-1.313C12.766 3.271 11.464 3 10 3s-2.766.27-3.682.687C5.356 4.125 5 4.627 5 5m8.5 12c.786 0 1.512-.26 2.096-.697l2.55 2.55a.5.5 0 1 0 .708-.707l-2.55-2.55A3.5 3.5 0 1 0 13.5 17m0-1a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5"})}),vd=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M6.5 6a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1zM6 9.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5m.5 2.5a.5.5 0 0 0 0 1h2.707q.149-.524.393-1zm-1 4h3.707q.149.524.393 1H5.5A2.5 2.5 0 0 1 3 14.5v-9A2.5 2.5 0 0 1 5.5 3h9A2.5 2.5 0 0 1 17 5.5v4.1a5.5 5.5 0 0 0-1-.393V5.5A1.5 1.5 0 0 0 14.5 4h-9A1.5 1.5 0 0 0 4 5.5v9A1.5 1.5 0 0 0 5.5 16m6.565-4.558a2 2 0 0 1-1.43 2.478l-.461.118a4.7 4.7 0 0 0 .01 1.016l.35.083a2 2 0 0 1 1.455 2.519l-.126.423q.387.306.835.517l.325-.344a2 2 0 0 1 2.909.002l.337.358q.44-.203.822-.498l-.156-.556a2 2 0 0 1 1.43-2.478l.461-.118a4.7 4.7 0 0 0-.01-1.017l-.349-.082a2 2 0 0 1-1.456-2.52l.126-.421a4.3 4.3 0 0 0-.835-.519l-.324.344a2 2 0 0 1-2.91-.001l-.337-.358a4.3 4.3 0 0 0-.822.497zM14.5 15.5a1 1 0 1 1 0-2a1 1 0 0 1 0 2"})}),Gi=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m14.4 6l-.24-1.2c-.09-.46-.5-.8-.98-.8H6c-.55 0-1 .45-1 1v15c0 .55.45 1 1 1s1-.45 1-1v-6h5.6l.24 1.2c.09.47.5.8.98.8H19c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1h-4.6z"})}),Yx=({close:e,artwork:t,...a})=>{var i;const{t:s}=D(["artwork"]);return n.jsxs(u.Suspense,{fallback:n.jsx(je,{}),children:[n.jsx(Ao,{heading:n.jsxs("span",{className:"inline-flex w-full items-center justify-between",children:[s("artwork:edit-artwork-form-title"),n.jsx(he,{edge:"end",onClick:e,children:n.jsx(He,{})})]})}),n.jsx(k1,{onSuccess:e,onClose:e,artworkId:t.id,initialValues:{...t,tags:(i=t.tags)==null?void 0:i.map(({name:o})=>o)},allowEditImage:!1,showDescription:!0,...a})]})},Jx=async(e,t)=>Ue.create({dismissable:!0,children:({close:a})=>n.jsx(Yx,{artwork:e,close:a,...t}),className:"max-w-screen-mlg"}),eg=()=>n.jsxs("span",{className:"inline-flex items-center gap-2",children:["Admin Actions",n.jsx(ma,{variant:"normal",children:n.jsx("p",{className:"text-sm w-80",children:"You are not the author of this artwork. But you are admin so that you can manage this item. Operate with caution."})})]}),tg=async(e,t)=>{try{if(!await Ue.confirm({confirmProps:{color:"danger"},heading:`Set artwork archived state to ${t}`,content:"The artwork wont be shown in home page if the artwork marked as archived. But it still can be seen in detail page and user personal page."}))return;await J.upsertArtwork({id:e,input:{extra:{archived:t}}}),G.success("success")}catch(a){G.error(a==null?void 0:a.message)}},ng=({artwork:e,taskParameters:t,className:a})=>{var p;const{t:s}=D(["artwork","common"]),{data:i}=de(),o=At(),l=Na();if(!e)return null;const r=e.authorId===(i==null?void 0:i.id),c=i==null?void 0:i.isAdmin,d=i&&r&&k0(e),m=async()=>{cl(te.Artwork,e.id)},f=async()=>{I0(te.Artwork,e.id)},h=async()=>{Jx(e)},x=async()=>{dl({refIds:[e.id],refType:te.Artwork,values:{..._e(e.flag,["isRealistic","isSensitive","isMinors","isSexyPic","isSexyText"])},mutate:()=>Zu(e.id)})},g=async()=>{v1({...e,task:t})},v=[!l.enableExplore&&{id:"explore",onAction:async()=>{ze("explore_this_style_btn_click",e),o(`/artwork/${e.id}/relevant`)},children:s("artwork:explore-this-style")},i&&!r&&{id:"report",onAction:m,children:s("artwork:action.report"),icon:n.jsx(Gi,{})},d&&{id:"appeal",onAction:f,icon:n.jsx(Gi,{}),children:s("common:appeal.action-label")},...!r&&c?[n.jsx(Ii,{},"admin-override-actions-separator"),n.jsx(Pi,{className:"flex items-center gap-4 font-bold",children:n.jsx("span",{children:"Admin (override) Actions"})},"subheader-admin-override-actions")]:[],...r||c?[{id:"edit",onAction:h,children:s("artwork:action.edit"),icon:n.jsx(vd,{className:"size-5"})},{id:"delete",onAction:async()=>{T("delete_click"),await sh(e.id)},color:"danger",children:s("artwork:action.delete")}]:[],...c?[n.jsx(Ii,{},"admin-actions-separator"),n.jsx(Pi,{className:"flex items-center gap-4 font-bold text-orange-600 dark:text-orange-500",children:n.jsx(eg,{})},"subheader-admin-moderation")]:[],...c?[{id:"mark-moderation-sfw",color:"admin",onAction:x,children:"Adjsut Artwork Moderation"},{id:"inspect",color:"admin",onAction:g,children:"Inspect",icon:n.jsx(bd,{})},{id:"archive",onAction:()=>{var k;tg(e.id,!((k=e.extra)!=null&&k.archived))},color:"admin",children:n.jsx("span",{children:(p=e.extra)!=null&&p.archived?"Unarchive artwork":"Archive artwork"})}]:[]].filter(k=>!!k);return n.jsxs(ja,{children:[n.jsx(W,{variant:"ghost",className:a,children:n.jsx("span",{className:"w-full text-center",children:n.jsx(ad,{className:w("inline-block size-5")})})}),n.jsx(dn,{placement:"bottom end",items:v,children:k=>{if("id"in k)return n.jsx(Ca,{...k});if(u.isValidElement(k))return k}})]})},ag=e=>n.jsx("svg",{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M11.78 3.53L8.53 6.78a.75.75 0 0 1-1.06 0L4.22 3.53a.75.75 0 0 1 1.06-1.06L8 5.19l2.72-2.72a.75.75 0 1 1 1.06 1.06M8.53 9.22a.75.75 0 0 0-1.06 0l-3.25 3.25a.75.75 0 1 0 1.06 1.06L8 10.81l2.72 2.72a.75.75 0 1 0 1.06-1.06z"})}),sg=e=>n.jsx("svg",{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M4.22 6.53a.75.75 0 0 0 1.06 0L8 3.81l2.72 2.72a.75.75 0 1 0 1.06-1.06L8.53 2.22a.75.75 0 0 0-1.06 0L4.22 5.47a.75.75 0 0 0 0 1.06m0 2.94a.75.75 0 0 1 1.06 0L8 12.19l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 0 1 0-1.06"})});function ig(e){const{toggle:t,...a}=e,[s,i]=u.useState(null),o=u.useRef(null),l=oa(o,{root:s}),r=Number(l==null?void 0:l.intersectionRatio)<1,[c,d]=u.useState(!1),m=g=>{let v;d(p=>(v=typeof g=="function"?g(p):g,v)),setTimeout(()=>{s==null||s.scrollIntoView({behavior:"smooth"})},0)},f=c||r,[h,x]=u.useState(Math.random());return u.useEffect(()=>{d(!1),x(Math.random())},[e.children]),n.jsxs("div",{...a,"data-expandable":f?"":null,"data-expanded":c?"":null,className:w("flex flex-col",e.className),children:[n.jsx("div",{ref:i,className:w("flex-1 overflow-hidden",f&&!c&&"[mask:linear-gradient(to_top,#0000,#3333_10px,#fff_20px)]"),children:n.jsx("div",{ref:o,children:e.children},h)}),f&&n.jsx("div",{className:"flex-none",children:t?t({expanded:c,setExpanded:m}):n.jsx("button",{className:w("flex items-center gap-0.5 h-7 px-2 text-sm rounded-full","hover:bg-white ring-1 ring-black/15","dark:hover:text-white dark:hover:bg-white/20 dark:ring-white/15"),onClick:()=>m(g=>!g),children:c?n.jsxs(n.Fragment,{children:[n.jsx(ag,{className:"size-4 -ml-1"}),n.jsx(P,{i18nKey:"artwork:show.less"})]}):n.jsxs(n.Fragment,{children:[n.jsx(sg,{className:"size-4 -ml-1"}),n.jsx(P,{i18nKey:"artwork:show.more"})]})})})]})}function si(e,t,a){const[s,i]=u.useState(e),[o,l]=u.useState(!a);e!==s&&(i(e),l(!a));const{data:r,mutate:c}=ra(t===te.Artwork?e:void 0,{revalidateOnMount:o}),{data:d,mutate:m}=fa(t===te.Model?e:void 0),f=(t===te.Artwork?r==null?void 0:r.liked:d==null?void 0:d.liked)??(a==null?void 0:a.liked),h=(t===te.Artwork?r==null?void 0:r.likedCount:d==null?void 0:d.likedCount)??(a==null?void 0:a.likedCount),x=t===te.Artwork?c:m,[g,v]=u.useState(!1),p=f!=null&&g?!f:f,k=h!=null&&g?h+(p?1:-1):h;async function b(j=!f){if(!(!e||!t)){switch(l(!0),v(!0),t){case te.Artwork:await J.markArtwork({artworkId:e,type:ia.Like,target:j});break;case te.Model:await J.markGenerationModel({modelId:e,type:Ve.Like,target:j});break}await x(),v(!1)}}return[{liked:p,count:k,optimistic:g},b]}const og=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M4 4.5A2.5 2.5 0 0 1 6.5 2h7A2.5 2.5 0 0 1 16 4.5v13a.5.5 0 0 1-.794.404L10 14.118l-5.206 3.786A.5.5 0 0 1 4 17.5z"})}),lg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 5.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m-4-2a.5.5 0 0 0-1 0V5h-1.5a.5.5 0 0 0 0 1H14v1.5a.5.5 0 0 0 1 0V6h1.5a.5.5 0 0 0 0-1H15zm-.5 7.5a5.5 5.5 0 0 0 1.5-.207V17.5a.5.5 0 0 1-.794.404L10 14.118l-5.206 3.786A.5.5 0 0 1 4 17.5v-13A2.5 2.5 0 0 1 6.5 2h3.757a5.5 5.5 0 0 0 4.243 9"})}),rg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M12.269 15.794a.75.75 0 0 1-1.06-.026l-5.002-5.25a.75.75 0 0 1 0-1.035l5.001-5.25a.75.75 0 1 1 1.086 1.034l-4.508 4.734l4.508 4.733a.75.75 0 0 1-.025 1.06"})}),cg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M7.733 4.207a.75.75 0 0 1 1.06.026l5.001 5.25a.75.75 0 0 1 0 1.035l-5 5.25a.75.75 0 1 1-1.087-1.034L12.216 10l-4.51-4.734a.75.75 0 0 1 .027-1.06"})}),dg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M5 13h11.5a.5.5 0 0 0 .416-.777L14.101 8l2.815-4.223A.5.5 0 0 0 16.5 3h-12a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 1 0zm0-1V4h10.566l-2.482 3.723a.5.5 0 0 0 0 .554L15.566 12z"})}),ug=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M5.5 10a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9m.896-6.396l.897.896H5.75A2.75 2.75 0 0 0 3 7.25v.25a.5.5 0 0 0 1 0v-.25c0-.966.784-1.75 1.75-1.75h1.543l-.897.896a.5.5 0 1 0 .708.708L8.856 5.35a.5.5 0 0 0-.002-.705l-1.75-1.75a.5.5 0 1 0-.708.708M3 10.4q.476.244 1 .393V14c0 .373.102.722.28 1.02l4.669-4.588a1.5 1.5 0 0 1 2.102 0l4.67 4.588A2 2 0 0 0 16 14V6a2 2 0 0 0-2-2h-3.207a5.5 5.5 0 0 0-.393-1H14a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm11-2.9a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0m-8.012 8.226A2 2 0 0 0 6 16h8c.37 0 .715-.1 1.012-.274l-4.662-4.58a.5.5 0 0 0-.7 0z"})}),mg=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 9h-4V3H9v6H5l7 7l7-7zM5 18v2h14v-2H5z"})}),fg=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"})}),hg=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92c1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})}),xg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M8.681 2.785c.568-1.047 2.071-1.047 2.638 0l6.5 12.002A1.5 1.5 0 0 1 16.502 17H3.498a1.5 1.5 0 0 1-1.319-2.215zM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0zm.25 6.25a.75.75 0 1 0-1.5 0a.75.75 0 0 0 1.5 0"})});function gg(e){const[t,a]=u.useState("info"),s=x=>{T("edit_model_tab_click",{tab:x}),a(x)},{t:i}=D(["action","market","artwork"]),{values:o,handleChange:l,submit:r,loading:c}=j1(),d=!!o.modelId,m=Et(o.type),[f,h]=u.useState(!1);return n.jsx("div",{className:"p-4 mmd:p-8 overflow-y-auto",children:n.jsxs(jl,{selectedKey:t,onSelectionChange:s,orientation:"horizontal",children:[n.jsx(z1,{sx:{borderBottom:1,borderColor:"divider"},children:n.jsxs(Cl,{variant:"underlined",children:[n.jsx(cs,{id:"info",variant:"underlined",className:"px-4",children:i("market:submit.info-tab.label")}),!m&&n.jsx(cs,{id:"version",variant:"underlined",className:"px-4",children:i("market:submit.version-tab.label")})]})}),n.jsxs(ds,{id:"info",children:[n.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-64px-128px-32px-50px-44px)] p-4",children:n.jsx(m1,{className:"pt-2 h-full",isEditing:d,values:o,handleChange:l,hidePrivateOption:m,appendComp:e.appendCompForInfo,highlightId:e.highlightId})}),as(o)&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsxs("div",{className:"flex items-start gap-2 px-3 py-2 text-sm bg-amber-100 dark:bg-yellow-500/20 rounded outline outline-1 -outline-offset-1 outline-black/10 dark:outline-white/10",children:[n.jsx(xg,{className:"size-5 text-amber-500"}),n.jsx("p",{children:n.jsx(P,{i18nKey:"market:submit.messages.category-not-set"})})]})}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx("span",{className:"m-auto"}),m&&o.isPrivate&&n.jsx(Eo,{control:n.jsx(To,{checked:f,onChange:x=>h(x.target.checked)}),label:i("artwork:generation.auto-publish")}),n.jsx(W,{busy:c,disabled:as(o),onPress:async()=>{var x,g;if(!(f&&!await bn({title:i("market:model.auto-publish-lora.dialog.title"),description:i("market:model.auto-publish-lora.dialog.content")}).then(()=>!0,p=>p===Tt?!1:Promise.reject(p))))try{await r(),f&&o.modelId&&await Al(o.modelId),G.success(i("market:submit.notice.model-info-updated")),(x=e.mutate)==null||x.call(e),(g=e.onClose)==null||g.call(e)}catch(v){G.error(v.message)}},variant:"filled",children:n.jsx("span",{children:i(f?"action:save-and-publish":"action:save")})})]})]}),!m&&n.jsx(ds,{id:"version",className:"overflow-y-auto max-h-[calc(100vh-64px-128px-32px-50px)] py-4",children:n.jsx(x1,{isEditing:d,values:o,handleChange:l})})]})})}const pg=({onClose:e,model:t,...a})=>{var r,c,d;const{t:s}=D(["market"]),{mediaId:i,extra:o,...l}=t;return n.jsxs(u.Suspense,{fallback:n.jsx(je,{}),children:[n.jsxs("section",{className:"px-8 pt-6 text-2xl flex justify-between items-center",children:[n.jsx("h2",{className:"font-bold",children:s("market:edit-model-form.dialog-title")}),n.jsx(he,{edge:"end",onClick:e,children:n.jsx(He,{className:"size-6"})})]}),n.jsx(C1,{initialValues:{...l,extra:S1(o),modelId:t.id,tags:(r=t.tags)==null?void 0:r.map(({name:m})=>m),media:t.media,editFilename:(d=(c=t.latestAvailableVersion)==null?void 0:c.fileUploadRecord)==null?void 0:d.filename},children:n.jsx(gg,{onClose:e,...a})})]})},yd=e=>{Ue.create({children:({close:t})=>n.jsx(pg,{onClose:()=>t(),...e}),dismissable:!0,className:"w-[calc(100vw-64px)] max-w-screen-mlg"})},bg=(e,t,a)=>{const s=ha({children:n.jsx($l,{modelProps:{...e},versionData:t,onClose:()=>{var i;return(i=s.current)==null?void 0:i.close()},mutate:a==null?void 0:a.mutate}),fullWidth:!0,maxWidth:"lg",responsive:!0})},vg=(e,t)=>{const a=ha({children:n.jsx($l,{modelProps:{...e},onClose:()=>{var s;return(s=a.current)==null?void 0:s.close()},mutate:t==null?void 0:t.mutate}),fullWidth:!0,maxWidth:"lg",responsive:!0})},yg=["pixai","AIイラスト","AIart","stableDiffusion"],qi=(e,t)=>{var s,i;const a=((s=e.tags)==null?void 0:s.map(({name:o})=>o).slice(0,5))??[];return{link:em(e.id),image:vn(e.media),text:t("market:model.social-share-text",{authorName:`${((i=e.author)==null?void 0:i.username)||tt(e.author)||"anonymous"}`}),tags:[...yg,...a]}};function wg(){const{t:e}=D();return u.useCallback(Xu(t=>{var a,s;ha({children:n.jsxs("div",{className:"p-5 pb-6 flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xl leading-none pb-1 font-sans",children:"Share"}),((a=t.author)==null?void 0:a.username)&&n.jsxs("div",{className:"text-xs",children:["Model by @",(s=t.author)==null?void 0:s.username]})]}),!!navigator.share&&n.jsx(Qu,{...qi(t,e)})]}),n.jsx(Yu,{...qi(t,e)})]}),fullWidth:!0,maxWidth:"xs",classes:{paper:"rounded-xl"},TransitionComponent:Ju})},100),[e])}const fe=u.createContext(void 0),wd={"header-layout":"_header-layout_in5sa_1","content-layout":"_content-layout_in5sa_18"};async function kg(e,t){if(await Ue.confirm({heading:n.jsx(P,{i18nKey:"market:model.action.publish-lora.confirm-dialog.title"}),content:n.jsx(P,{i18nKey:"market:model.action.publish-lora.confirm-dialog.content"})}))try{return await Al(e),!0}catch(s){G.error(String(s))}}function jg(e){const{model:t,className:a,mutate:s}=e,{t:i}=D(["market","action"]);if(!Et(t.type))return null;const l=!as(t),r=t.isPrivate&&l;return n.jsx(le,{variant:"contained",className:a,onClick:async c=>{c.preventDefault(),c.stopPropagation(),r?await kg(t.id)&&(s==null||s()):yd({model:t,mutate:s,appendCompForInfo:n.jsx(Cg,{}),highlightId:l?void 0:"category-field"})},children:i(r?"action:publish":"action:edit")})}function Cg(){const{t:e}=D(["growth"]);return n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:e("growth:train-lora.share-modal.bg-image")})})}function Sg(e){const{t}=D(["market"]),{model:a,version:s,mutate:i}=e,o=(s==null?void 0:s.media)??a.media,l=zo(a),r=tm(a);return n.jsxs(xl,{ratio:xa(o),className:w("size-full",e.className),style:e.style,children:[l?n.jsxs("div",{className:"grid place-content-center place-items-center size-full",children:[n.jsx(rl,{overlayType:l?"model-cover-warned":void 0,type:"standalone"}),r&&n.jsx(P0,{className:"mt-4",refType:te.Model,refId:a.id})]}):n.jsx(El,{scene:"model",imgClassName:"rounded-md",id:o==null?void 0:o.id,mediaId:o==null?void 0:o.id,fileName:`pixai-model-cover_${a.id}.${Zn({media:o})}`,originalUrl:vn(o),thumbnailUrl:xt(o),width:o==null?void 0:o.width,height:o==null?void 0:o.height,author:a.author,alt:D0(t,a)}),n.jsx(Ng,{model:a,mutate:i})]})}function Ng(e){const{model:t,mutate:a}=e,{trainingTask:s}=t,{t:i}=D(["market"]);if(!s||!t.isPrivate)return null;if(s.status===Yt.completed)return n.jsx("div",{className:"absolute text-white w-full h-full top-0 left-0 bg-black/20 backdrop-blur-sm items-center justify-center flex flex-col",children:n.jsx(jg,{model:e.model,className:"text-black bg-white font-medium text-xl px-4",mutate:a})});const{status:o,extra:{estimatedTotalTime:l=0,progress:r=0}}=s,c=r>0&&n.jsxs("p",{className:"text-3xl font-bold",children:[r,"%"]}),d=l>0&&n.jsx("p",{className:"text-3xl",children:o===Yt.running?`${i("market:train-lora.model.estimated-time")}: ${ut.duration(l??0,"ms").humanize()}`:null});return n.jsxs("div",{className:"absolute text-white w-full h-full top-0 left-0 bg-black/20 backdrop-blur-sm items-center justify-center flex flex-col",children:[c,d,n.jsx("p",{className:"text-xl",children:(r==null||l==null)&&o===Yt.running?i("market:train-lora.model.waiting"):i(`market:train-lora.model.${o}`)})]})}const Rn=new Map;async function $g(e,{rating:t}){return Rn.has(e)||Rn.set(e,J.submitReview({input:{modelId:e,rating:t}}).finally(()=>{Rn.delete(e)})),(await Rn.get(e)).review}function Mg(e){return Object.fromEntries(e.map(({rating:t,count:a})=>[t,a]))}const Ig=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M12.483 18.296c-.799.837-2.092.387-2.431-.59c-.28-.807-.644-1.772-.998-2.483c-1.06-2.126-1.678-3.336-3.384-4.85a2.8 2.8 0 0 0-.841-.49c-1.13-.446-2.19-1.615-1.913-3.004l.353-1.765a2.5 2.5 0 0 1 1.794-1.922l5.6-1.527a4.5 4.5 0 0 1 5.61 3.536l.685 3.762a3 3 0 0 1-2.952 3.537h-.883l.01.052c.08.408.176.97.24 1.583c.065.61.1 1.284.049 1.912c-.05.617-.184 1.25-.504 1.73a4 4 0 0 1-.435.519"})}),Pg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M12.483 1.704c-.799-.837-2.092-.387-2.431.59c-.28.806-.644 1.772-.998 2.483c-1.06 2.126-1.678 3.335-3.384 4.849a2.8 2.8 0 0 1-.841.49c-1.13.446-2.19 1.616-1.913 3.005l.353 1.765a2.5 2.5 0 0 0 1.794 1.922l5.6 1.527a4.5 4.5 0 0 0 5.61-3.537l.685-3.761A3 3 0 0 0 14.006 7.5h-.883l.01-.052c.08-.409.176-.97.24-1.583c.065-.61.1-1.285.049-1.913c-.05-.616-.184-1.249-.504-1.73a4 4 0 0 0-.435-.518"})});function Dg(e){const{t}=D(["common"]);return n.jsx("span",{className:w("inline-flex flex-col",e.className),style:e.style,children:t("common:review.rating-score.label",{context:e.value??0})},e.value)}function Bg(e){const{mutate:t}=Lo(e.itemId),[a,s]=u.useState(!1),[i,o]=u.useState();!a&&i!==e.value&&o(e.value);async function l(c){var f;const d=e.value===c;T("model_review_click",{value:c,modelId:e.itemId,isCancel:d}),s(!0),o(d?void 0:c);const m=await $g(e.itemId,{rating:d?St.Cancel:c});await((f=e.onSubmit)==null?void 0:f.call(e,m)),s(!1),await t()}const r={button:"flex justify-center items-center gap-1 px-2 py-0.5 text-base disabled:opacity-50 transition"};return n.jsxs("span",{className:w("overflow-hidden inline-grid grid-cols-2 bg-white/50 dark:bg-black/40 ring-1 ring-black/20 dark:ring-black/50 divide-x divide-black/20 dark:divide-black/50 rounded-md",e.className),style:e.style,children:[n.jsxs("button",{type:"button",disabled:a,className:w(r.button,i===St.Like?"text-white bg-green-600":"text-green-600"),onClick:()=>l(St.Like),children:[n.jsx(Pg,{className:"my-0.5 size-5"}),Number(e.positiveCount)>0&&De(e.positiveCount)]}),n.jsxs("button",{type:"button",disabled:a,className:w(r.button,i===St.Dislike?"text-white bg-red-600":"text-red-600"),onClick:()=>l(St.Dislike),children:[n.jsx(Ig,{className:"my-0.5 size-5"}),Number(e.negativeCount)>0&&De(e.negativeCount)]})]})}const Ag=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M10 18a8 8 0 1 0 0-16a8 8 0 0 0 0 16m0-15c.657 0 1.407.59 2.022 1.908c.217.466.406 1.002.559 1.592H7.419c.153-.59.342-1.126.56-1.592C8.592 3.59 9.342 3 10 3M7.072 4.485A10.5 10.5 0 0 0 6.389 6.5H3.936a7.02 7.02 0 0 1 3.778-3.118c-.241.33-.456.704-.642 1.103M6.192 7.5A16 16 0 0 0 6 10c0 .87.067 1.712.193 2.5H3.46A7 7 0 0 1 3 10c0-.88.163-1.724.46-2.5zm.197 6c.176.743.407 1.422.683 2.015c.186.399.401.773.642 1.103A7.02 7.02 0 0 1 3.936 13.5zm1.03 0h5.162a9.3 9.3 0 0 1-.56 1.592C11.408 16.41 10.658 17 10 17s-1.407-.59-2.022-1.908A9.3 9.3 0 0 1 7.42 13.5m5.375-1H7.206A15 15 0 0 1 7 10c0-.883.073-1.725.206-2.5h5.588c.133.775.206 1.617.206 2.5s-.073 1.725-.206 2.5m.817 1h2.453a7.02 7.02 0 0 1-3.778 3.118c.241-.33.456-.704.642-1.103c.276-.593.507-1.272.683-2.015m2.93-1h-2.734c.126-.788.193-1.63.193-2.5s-.067-1.712-.193-2.5h2.733c.297.776.46 1.62.46 2.5s-.163 1.724-.46 2.5m-4.255-9.118A7.02 7.02 0 0 1 16.064 6.5H13.61a10.5 10.5 0 0 0-.683-2.015a6.6 6.6 0 0 0-.642-1.103"})}),Eg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M4 4.708L2.147 2.854a.5.5 0 1 1 .708-.708l15 15a.5.5 0 0 1-.708.708l-1.854-1.855A8 8 0 0 1 4 4.707M14.585 15.29l-1.145-1.145a10 10 0 0 1-.511 1.369a6.6 6.6 0 0 1-.642 1.103a7 7 0 0 0 2.298-1.327m-2.792-2.79L7.15 7.857A15 15 0 0 0 7 10c0 .883.073 1.725.206 2.5zm-6-6L4.709 5.416A7 7 0 0 0 3.936 6.5zM6 10c0-.87.067-1.712.193-2.5H3.46A7 7 0 0 0 3 10c0 .88.163 1.724.46 2.5h2.733A16 16 0 0 1 6 10m1.072 5.515a10.5 10.5 0 0 1-.683-2.015H3.936a7.02 7.02 0 0 0 3.778 3.118a6.6 6.6 0 0 1-.642-1.103m4.95-.423a9.3 9.3 0 0 0 .559-1.592H7.419c.153.59.342 1.126.56 1.592C8.592 16.41 9.342 17 10 17s1.407-.59 2.022-1.908M7.072 4.485a9 9 0 0 0-.143.323l.773.772q.129-.356.276-.672C8.593 3.59 9.343 3 10 3s1.407.59 2.022 1.908c.217.466.406 1.002.559 1.592H8.62l1 1h3.173c.133.775.206 1.617.206 2.5q0 .435-.023.855l.927.927a16.3 16.3 0 0 0-.097-4.282h2.733c.297.776.46 1.62.46 2.5s-.163 1.724-.46 2.5H14.62l1.997 1.996A8 8 0 0 0 5.504 3.382l.721.722c.462-.297.962-.54 1.49-.722a6.6 6.6 0 0 0-.643 1.103M16.064 6.5H13.61a10.5 10.5 0 0 0-.683-2.015a6.6 6.6 0 0 0-.642-1.103A7.02 7.02 0 0 1 16.064 6.5"})}),Tg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M14 7.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0M3 6a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-2a2 2 0 0 0-2 2v8c0 .373.102.722.28 1.02l4.669-4.588a1.5 1.5 0 0 1 2.102 0l4.67 4.588A2 2 0 0 0 16 14V6a2 2 0 0 0-2-2zm0 12h8c.37 0 .715-.1 1.012-.274l-4.662-4.58a.5.5 0 0 0-.7 0l-4.662 4.58A2 2 0 0 0 6 16"})}),zg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M2.854 2.146a.5.5 0 1 0-.708.708l1.409 1.408A2.98 2.98 0 0 0 3 6v8a3 3 0 0 0 3 3h8a2.98 2.98 0 0 0 1.738-.555l1.408 1.409a.5.5 0 0 0 .708-.708zm6.56 7.975a1.5 1.5 0 0 0-.465.311l-4.67 4.588A2 2 0 0 1 4 14V6c0-.37.101-.718.277-1.016zM6 16c-.37 0-.715-.1-1.012-.274l4.662-4.58a.5.5 0 0 1 .7 0l4.662 4.58A2 2 0 0 1 14 16zM16 6v7.879l.898.898Q17 14.404 17 14V6a3 3 0 0 0-3-3H6q-.405 0-.777.102L6.12 4H14a2 2 0 0 1 2 2m-2 1.5a1.5 1.5 0 1 0-3 0a1.5 1.5 0 0 0 3 0m-1 0a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0"})}),Lg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M7 9a2 2 0 1 1 4 0a2 2 0 0 1-4 0m2-1a1 1 0 1 0 0 2a1 1 0 0 0 0-2M3.5 4A1.5 1.5 0 0 0 2 5.5v7A1.5 1.5 0 0 0 3.5 14h11a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 14.5 4zM3 5.5a.5.5 0 0 1 .5-.5H5v1a1 1 0 0 1-1 1H3zM3 8h1a2 2 0 0 0 2-2V5h6v1a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v1H6v-1a2 2 0 0 0-2-2H3zm10-3h1.5a.5.5 0 0 1 .5.5V7h-1a1 1 0 0 1-1-1zm2 6v1.5a.5.5 0 0 1-.5.5H13v-1a1 1 0 0 1 1-1zM5 13H3.5a.5.5 0 0 1-.5-.5V11h1a1 1 0 0 1 1 1zm12-.5a2.5 2.5 0 0 1-2.5 2.5H4.085A1.5 1.5 0 0 0 5.5 16h9a3.5 3.5 0 0 0 3.5-3.5v-5a1.5 1.5 0 0 0-1-1.415z"})}),Fg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M2.854 2.146a.5.5 0 1 0-.708.708l1.16 1.159A1.5 1.5 0 0 0 2 5.5v7A1.5 1.5 0 0 0 3.5 14h9.793l1 1H4.085A1.5 1.5 0 0 0 5.5 16h9q.37 0 .719-.074l1.927 1.928a.5.5 0 0 0 .708-.708zM12 12.707V13H6v-1a2 2 0 0 0-2-2H3V8h1a2 2 0 0 0 1.905-1.388l1.372 1.372a2 2 0 0 0 2.74 2.74zM4.293 5L5 5.707V6a1 1 0 0 1-1 1H3V5.5a.5.5 0 0 1 .5-.5zm3.74 3.741L9.26 9.966a1 1 0 0 1-1.225-1.225M3.5 13a.5.5 0 0 1-.5-.5V11h1a1 1 0 0 1 1 1v1zM14 10c-.523 0-.998.2-1.354.528l.708.709A1 1 0 0 1 14 11h1v1.5a.5.5 0 0 1-.093.29l.71.71c.238-.265.383-.616.383-1v-7A1.5 1.5 0 0 0 14.5 4H6.117l1 1H12v1a2 2 0 0 0 2 2h1v2zm.5-5a.5.5 0 0 1 .5.5V7h-1a1 1 0 0 1-1-1V5zm1.826 9.208l.707.708c.6-.629.967-1.48.967-2.416v-5a1.5 1.5 0 0 0-1-1.415V12.5c0 .66-.256 1.261-.674 1.708"})}),Rg=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M7.996 6.996a2 2 0 1 1 4 0a2 2 0 0 1-4 0m-.5 3h5a1.5 1.5 0 0 1 1.5 1.5c0 1.116-.46 2.01-1.212 2.614c-.742.596-1.735.886-2.788.886s-2.047-.29-2.788-.886c-.753-.604-1.212-1.498-1.212-2.614a1.5 1.5 0 0 1 1.5-1.5m3.94-7.07c-.56-1.235-2.313-1.235-2.871 0a.575.575 0 0 1-.86.23c-1.1-.79-2.619.087-2.485 1.435a.575.575 0 0 1-.629.63c-1.348-.135-2.225 1.384-1.435 2.485c.212.295.1.71-.23.859c-1.235.558-1.235 2.312 0 2.87c.33.15.442.564.23.86c-.79 1.1.087 2.619 1.435 2.485a.575.575 0 0 1 .63.629c-.135 1.348 1.384 2.225 2.485 1.435c.295-.212.71-.1.859.23c.558 1.235 2.312 1.235 2.87 0a.575.575 0 0 1 .86-.23c1.1.79 2.619-.087 2.485-1.435a.575.575 0 0 1 .629-.63c1.348.135 2.225-1.384 1.435-2.485a.575.575 0 0 1 .23-.859c1.235-.558 1.235-2.312 0-2.87a.575.575 0 0 1-.23-.86c.79-1.1-.087-2.619-1.435-2.485a.575.575 0 0 1-.63-.629c.135-1.348-1.384-2.225-2.485-1.435a.575.575 0 0 1-.859-.23m-1.96.412a.575.575 0 0 1 1.048 0a1.575 1.575 0 0 0 2.353.63a.575.575 0 0 1 .908.525a1.575 1.575 0 0 0 1.723 1.722a.575.575 0 0 1 .523.908a1.575 1.575 0 0 0 .63 2.353a.574.574 0 0 1 0 1.048a1.575 1.575 0 0 0-.63 2.353a.575.575 0 0 1-.523.908a1.575 1.575 0 0 0-1.723 1.723a.575.575 0 0 1-.908.523a1.575 1.575 0 0 0-2.353.63a.575.575 0 0 1-1.048 0a1.575 1.575 0 0 0-2.353-.63a.575.575 0 0 1-.908-.523a1.575 1.575 0 0 0-1.722-1.723a.575.575 0 0 1-.524-.908a1.575 1.575 0 0 0-.63-2.353a.575.575 0 0 1 0-1.048a1.575 1.575 0 0 0 .63-2.353a.575.575 0 0 1 .524-.908a1.575 1.575 0 0 0 1.722-1.722a.575.575 0 0 1 .908-.524c.807.58 1.944.275 2.353-.63"})}),_g=e=>n.jsx("svg",{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M9.58 1.052c-.75-.209-1.336.35-1.545.871c-.24.6-.453 1.021-.706 1.524a45 45 0 0 0-.533 1.09c-.475 1.01-.948 1.656-1.293 2.045a4 4 0 0 1-.405.402a2 2 0 0 1-.101.081l-.016.012L3.109 8.18a2 2 0 0 0-.856 2.426l.52 1.384a2 2 0 0 0 1.273 1.205l5.356 1.682a2.5 2.5 0 0 0 3.148-1.68l1.364-4.647a2 2 0 0 0-1.92-2.563H10.61c.066-.227.133-.479.195-.74c.131-.562.243-1.203.232-1.738c-.009-.497-.06-1.019-.264-1.462c-.219-.475-.602-.832-1.192-.996M4.978 7.08l-.002.001Z"})}),Vg=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M7 16c.55 0 1 .45 1 1c0 1.1-.9 2-2 2c-.17 0-.33-.02-.5-.05c.31-.55.5-1.21.5-1.95c0-.55.45-1 1-1M18.67 3c-.26 0-.51.1-.71.29L9 12.25L11.75 15l8.96-8.96a.996.996 0 0 0 0-1.41l-1.34-1.34c-.2-.2-.45-.29-.7-.29zM7 14c-1.66 0-3 1.34-3 3c0 1.31-1.16 2-2 2c.92 1.22 2.49 2 4 2c2.21 0 4-1.79 4-4c0-1.66-1.34-3-3-3z"})}),Ug={"info-table":"_info-table_vxeu6_1"},Og=["triggerWords"],Hg=["samplingSteps","samplingMethod","cfgScale","negativePrompts"];function Kg(e,t){if(!e||!t)return!1;const a=Object.entries(e.extra??{});return yn(t)?a.some(([s,i])=>Og.includes(s)&&i):a.some(([s,i])=>Hg.includes(s)&&i)}function Wg(e){const{t}=D(["market","generation","action"]),{version:a,modelType:s,contentClassName:i,trainBaseModel:o}=e;return Kg(a,s)?(()=>{if(!a)return null;if(yn(s))return n.jsxs(n.Fragment,{children:[n.jsx(Ct,{title:t("market:model.trigger-words"),value:a.extra.triggerWords}),Et(s)&&o?n.jsx(Ct,{title:t("market:model.trained-based-on-model"),value:o.title}):null]});const{samplingSteps:c,samplingMethod:d,negativePrompts:m,cfgScale:f}=a.extra;return n.jsxs(n.Fragment,{children:[n.jsx(Ct,{title:t("generation:sampling-steps.label"),value:c}),n.jsx(Ct,{title:t("generation:sampling-method.label"),value:d}),n.jsx(Ct,{title:t("generation:cfg-scale.label"),value:f}),n.jsx(Ct,{title:t("generation:negative-prompts.label"),value:m,className:"col-span-3"})]})})():null}function Ct(e){const{title:t,value:a,className:s}=e;return a?n.jsxs("div",{children:[n.jsx("dt",{children:t}),n.jsx("dd",{children:a})]}):null}const Gg=["samplingMethod","samplingSteps","cfgScale","negativePrompts"];function qg(e){const{extra:t}=e;return Object.fromEntries(Object.entries(t).filter(([a,s])=>Gg.includes(a)&&s!=null))}function Zg(e){const{model:t,version:a=t==null?void 0:t.latestAvailableVersion,loadingVersion:s}=u.useContext(fe);return t?n.jsxs("div",{className:w("flex-1 flex-shrink min-w-0 flex flex-col gap-3"),children:[n.jsx(Xg,{model:t,version:a}),n.jsx(Qg,{model:t}),n.jsxs("dl",{className:w(Ug["info-table"],s&&"opacity-50"),children:[n.jsxs("div",{children:[n.jsx("dt",{children:n.jsx(P,{i18nKey:"market:model.uploaded-at.label"})}),n.jsx("dd",{children:a&&ut(a.createdAt).format("lll")})]}),!t.isPrivate&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("dt",{children:n.jsx(P,{i18nKey:"market:model.lora-used-times"})}),n.jsx("dd",{children:De(t.refCount)??0})]}),Et(t.type)&&t.rebateAmount!=null&&n.jsxs("div",{children:[n.jsx("dt",{children:n.jsx(P,{i18nKey:"market:train-lora.model-rebate.earned"})}),n.jsxs("dd",{className:"flex items-center gap-1 text-theme-primary",children:[n.jsx(nm,{className:"size-[1em]"}),t.rebateAmount.toLocaleString()]})]}),t.reviewSummary&&n.jsx(Yg,{})]}),n.jsx(Wg,{contentClassName:"pl-2",version:a,modelType:t.type,trainBaseModel:e.trainBaseModel}),n.jsx(e2,{})]})]}):null}function Xg(e){const{t}=D(["market","user","common","action","artwork"]),{onClose:a}=u.useContext(fe),{data:s}=de(),i=At(),{model:o,version:l}=e,r=l??o.latestAvailableVersion,c=r==null?void 0:r.id,d=async()=>{if(T("use_lora_click",{type:o.type}),!s){Re(void 0,{fromPath:"use-lora"});return}try{await J.markGenerationModel({modelId:o.id,target:!0,type:Ve.Bookmark}),G.info(t("market:model.notice.bookmark-success")),Je("generate_source"),i(Qe("/generator/image",c?{initialValues:Yn({lora:{[c]:.7},prompts:r.extra.triggerWords})}:{})),a==null||a()}catch(x){G.error("Failed to bookmark model",x.message)}},m=async()=>{if(T("use_model_click",{type:o.type}),!s){Re(void 0,{fromPath:"use-model"});return}try{await J.markGenerationModel({modelId:o.id,target:!0,type:Ve.Bookmark}),G.info(t("market:model.notice.bookmark-success")),Je("generate_source"),i(Qe("/generator/image",c?{initialValues:Yn({modelId:c,...qg(r)})}:{})),a==null||a()}catch(x){G.error("Failed to bookmark model",x.message)}},f=be({model:o,currentVersion:r}).returnType().with({model:q.when(x=>yn(x.type))},()=>({onClick:d,label:t("market:model.use-this-lora")})).with({model:q.when(x=>Fo(x.type))},()=>({onClick:m,label:t("market:model.use-this-model")})).otherwise(()=>({label:t("market:model.model-unavailable")})),h=!(r!=null&&r.id)||(r==null?void 0:r.status)!==g1.available;return n.jsx(n.Fragment,{children:(r==null?void 0:r.status)==="invalid"?n.jsx("div",{className:"w-full flex items-center justify-center font-bold bg-orange-700 text-white p-2 rounded-xl",children:t("market:model.conversion-failed")}):n.jsxs("div",{className:"flex gap-x-4 gap-y-2 flex-wrap",children:[n.jsx(W,{variant:"filled",className:"flex-1 text-sm whitespace-nowrap",size:"large",icon:n.jsx(Vg,{className:"size-6"}),endIcon:n.jsx(n.Fragment,{}),onPress:f.onClick,disabled:h,children:f.label}),h&&n.jsx("p",{className:"text-sm italic text-opacity-80",children:t("market:model.use-another-version")})]})})}function Qg(e){const{model:t,className:a}=e,{t:s}=D(["market"]),{data:i}=de(),{data:o=t.author,mutate:l}=am(t.authorId);if(!t.extra)return null;const r=Et(t.type),{claimed:c}=t.extra,d=i&&(o==null?void 0:o.id)===i.id,m=(()=>{if(c||r)return o;if(!c&&d)return i})(),f="border border-solid border-black/15 dark:border-white/15 rounded-lg";if(!m)return null;const h=!r&&d?s("market:model.model-by-self"):tt(m);return n.jsxs("div",{className:w(f,a),children:[(o==null?void 0:o.coverMedia)&&n.jsx("div",{className:"aspect-[1311/232] bg-center bg-cover rounded-t-lg",style:{backgroundImage:`url(${xt(o.coverMedia)})`}}),n.jsxs("div",{className:"flex items-center gap-2 p-1.5 pl-2",children:[n.jsx("span",{className:"text-sm whitespace-nowrap",children:s(r||c?"market:model.trained-by":"market:model.post-by")}),n.jsx(gl,{user:m,name:h,linkClassName:"min-w-0"}),!i||!o||d?null:n.jsx(W,{variant:o.followedByMe?"outlined":"filled",busy:"auto",className:"ml-auto whitespace-nowrap",onPress:async()=>{const x=o.id,g=!o.followedByMe;T("follow_btn_click",{userId:x,target:g,scene:"model"}),await J.setFollowState({userId:x,target:g}),l()},children:o.followedByMe?n.jsx(P,{i18nKey:"user:following"}):n.jsx(P,{i18nKey:"user:follow"})})]}),r&&!d&&n.jsx("div",{className:"grid p-0.5 border-t border-black/15 dark:border-white/15",children:n.jsx(It,{href:"/train-lora",variant:"filled",color:"theme",icon:n.jsx(L1,{className:"size-6"}),endIcon:n.jsx(n.Fragment,{}),className:"text-center rounded-md",onPress:()=>{T("lora_train_click",{location:"trained-lora"})},children:n.jsx(P,{i18nKey:"growth:train-lora.credit-banner.title"})})})]})}function Yg(){var l;const{model:e,mutateModel:t}=u.useContext(fe),{data:a}=Lo(e==null?void 0:e.id),s=a??(e==null?void 0:e.reviewSummary),i=(s==null?void 0:s.ratingDetail)&&Mg(s.ratingDetail)[St.Like],{data:o}=de();return n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("dt",{children:n.jsx(P,{i18nKey:"common:review.label"})}),n.jsxs("dd",{className:"flex items-center",children:[n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(Dg,{value:s==null?void 0:s.score}),Number(i)>0&&n.jsxs(n.Fragment,{children:["  (",n.jsx(Jg,{children:De(i)}),")"]})]}),o&&e&&n.jsx("span",{className:"ml-auto -my-1 flex",children:n.jsx(Bg,{itemId:e.id,value:(l=e.myReview)==null?void 0:l.rating,className:"",onSubmit:async()=>{await(t==null?void 0:t())}})})]})]})})}function Jg({children:e}){return n.jsxs(n.Fragment,{children:[n.jsx(_g,{className:"mr-0.5 size-4 text-green-600"}),e]})}function e2(){const{t:e}=D(["market"]),{model:t}=u.useContext(fe),[a,s]=u.useState(!1),i=u.useRef(null);if(!t)return null;const o=N1.map(l=>{var r,c,d,m;return{permission:l,allowed:!!((c=(r=t.extra)==null?void 0:r.permissions)!=null&&c[l])||!!((m=(d=t.extra)==null?void 0:d.permissions)!=null&&m[vi(l)])}});return n.jsxs("div",{className:"cursor-pointer",onClick:()=>{i.current&&(i.current.open=!i.current.open)},children:[n.jsxs("dt",{children:[n.jsx(P,{i18nKey:"market:model.permissions.title"}),n.jsx(sm,{className:w("ml-auto size-5",a&&"rotate-90")})]}),n.jsx("dd",{children:n.jsxs("details",{ref:i,className:"group",onToggle:l=>s(l.currentTarget.open),children:[n.jsx("summary",{className:"flex gap-1 [.group[open]_&]:hidden",onClick:l=>l.stopPropagation(),children:o.map(l=>u.createElement(Zi,{...l,key:l.permission,className:"flex-none"}))}),n.jsx("ul",{className:"space-y-0.5",children:o.map(l=>n.jsxs("li",{className:"flex gap-1 items-start",children:[n.jsx(Zi,{...l,className:"flex-none"}),n.jsx("span",{className:w(!l.allowed&&"opacity-50"),children:n.jsx(P,{i18nKey:`market:model.permissions.${vi(l.permission)}`,defaults:e("market:model.permissions.unknown")})})]},l.permission))})]})})]})}const t2=ht({base:"size-5",variants:{allowed:{true:"text-green-600",false:"text-zinc-400"}}});function Zi(e){const t=t2({allowed:e.allowed,className:e.className});return be(e).with({permission:"shareImagesOnline",allowed:!0},()=>n.jsx(Ag,{className:t})).with({permission:"shareImagesOnline",allowed:!1},()=>n.jsx(Eg,{className:t})).with({permission:"personalUses",allowed:!0},()=>n.jsx(Tg,{className:t})).with({permission:"personalUses",allowed:!1},()=>n.jsx(zg,{className:t})).with({permission:"commercialUses",allowed:!0},()=>n.jsx(Lg,{className:t})).with({permission:"commercialUses",allowed:!1},()=>n.jsx(Fg,{className:t})).with({permission:"shouldCreditAuthor"},()=>n.jsx(Rg,{className:t})).with({allowed:!0},()=>n.jsx(Tl,{className:t})).with({allowed:!1},()=>n.jsx(He,{className:t})).exhaustive()}const n2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3l3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z"})}),a2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),s2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3C4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5C22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1l-.1-.1C7.14 14.24 4 11.39 4 8.5C4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5c0 2.89-3.14 5.74-7.9 10.05z"})}),i2=e=>n.jsxs("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:[n.jsx("path",{fill:"currentColor",d:"m12 12.9l-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"}),n.jsx("path",{fill:"currentColor",d:"m16 6l-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86c-.56-.79-.89-1.76-.89-2.8c0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5c0 1.02-.31 1.96-.85 2.75c1.89-1.15 3.29-3.06 3.71-5.3c.66-3.55-1.07-6.9-3.86-8.52z"})]}),o2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05c1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),l2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M16.5 13c-1.2 0-3.07.34-4.5 1c-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22c.88-.3 1.96-.53 3.02-.53c2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5S4 6.57 4 8.5S5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5S13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2z"})}),r2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3zM7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5zM16 17H8v-2h8v2zm-1-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13z"})}),Xi=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m16 6l2.29 2.29l-4.88 4.88l-4-4L2 16.59L3.41 18l6-6l4 4l6.3-6.29L22 12V6z"})}),c2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73c-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14c0-1.62 1.05-2.76 2.81-3.12c1.77-.36 3.6-1.21 4.62-2.58c.39 1.29.59 2.65.59 4.04c0 2.65-2.15 4.8-4.8 4.8z"})}),d2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 17h3l-4 4l-4-4h3V3h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"})}),u2=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 7h3l-4-4l-4 4h3v14h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"})}),kd=ve(im)(({theme:e})=>({flexWrap:"wrap","& .MuiToggleButtonGroup-grouped":{border:0,padding:"8px 16px","&.Mui-disabled":{border:0},"&:not(:first-of-type)":{borderRadius:"9999px"},"&:first-of-type":{borderRadius:"9999px"}}})),m2=ve(ga)(({theme:e})=>({backgroundColor:"#eee",borderRadius:"9999px","& .MuiSelect-select":{display:"flex",alignItems:"center",padding:"0.5rem 1rem",gap:"4px",fontWeight:600},"& .Mui-selected":{fontWeight:700},"& .MuiOutlinedInput-notchedOutline":{border:0}})),f2=[E.recommended,E.random,E.dailyRanking,E.followingNews,E.mostLiked,E.newest],h2=[E.dailyRanking,E.recommended,E.random,E.followingNews,E.mostLiked,E.newest],x2=[E.random,E.dailyRanking,E.followingNews,E.mostLiked,E.newest],bs={[E.dailyRanking]:({active:e,className:t,...a})=>n.jsx(c2,{className:w(t,{"text-orange-600":e}),...a}),[E.followingNews]:({active:e,className:t,...a})=>e?n.jsx(o2,{className:w("text-blue-600",t),...a}):n.jsx(l2,{className:t,...a}),[E.mostLiked]:({active:e,className:t,...a})=>e?n.jsx(a2,{className:w("text-red-500",t),...a}):n.jsx(s2,{className:t,...a}),[E.random]:({active:e,className:t,...a})=>n.jsx(Xi,{className:w(t,{"text-purple-500":e}),...a}),[E.newest]:({active:e,className:t,...a})=>n.jsx(d2,{className:w(t,{"text-emerald-500":e}),...a}),[E.oldest]:({active:e,className:t,...a})=>n.jsx(u2,{className:w(t,{"text-emerald-500":e}),...a}),[E.mostUsed]:({active:e,className:t,...a})=>n.jsx(i2,{className:w(t,{"text-orange-300":e}),...a}),[R.Lora]:({active:e,className:t,...a})=>n.jsx(a1,{className:w(t,{"text-purple-600":e}),...a}),[R.SdV1Model]:({active:e,className:t,...a})=>n.jsx(r2,{className:w(t,{"text-purple-600":e}),...a}),[E.trending]:({active:e,className:t,...a})=>n.jsx(Xi,{className:w(t,{"text-purple-500":e}),...a}),[E.recommended]:({active:e,className:t,...a})=>n.jsx(n2,{className:w(t,{"text-purple-500":e}),...a})},g2=(e=x2)=>{const t=e[0],[{sort:a=t},s]=Ne();return[a,o=>s({sort:o})]},ii=({choices:e,value:t,onChange:a=()=>{},alwaysCollapse:s=!1,expandFollowingNews:i=!1,className:o,disabled:l})=>{const[{tag:r}]=Ne(),c=Ro(),{t:d}=D(["common"]),{selectedContestTag:m}=s3(),f=u.useMemo(()=>{const g=e.filter(({value:v})=>{const p=r==="all"||!r;return!(c.pathname==="/"&&p&&v===E.oldest||m&&([E.followingNews].includes(v)||m.isEnded&&![E.mostLiked,E.mostUsed,E.newest,E.oldest].includes(v)))});return(!t||t&&!g.find(v=>v.value===t)&&t!==g[0].value)&&a(g[0].value),g},[r,c,m,t,a,e,i]),h=(g,v)=>{a(v)},x=i&&f.find(g=>g.value===E.followingNews)&&n.jsx(p2,{value:t,onChange:h});return s?n.jsxs("div",{className:w("flex-none flex items-center gap-1 md:gap-2 overflow-x-auto",o),children:[n.jsxs(m2,{disabled:l,size:"small",className:w("bg-background-light rounded-lg hover:opacity-100",t===E.followingNews?"opacity-70 ":""),value:t,onChange:g=>{h(void 0,g.target.value)},children:[i&&f.find(g=>g.value===E.followingNews)&&n.jsx(Pt,{value:E.followingNews,className:"px-4",disabled:!0,children:n.jsx("span",{className:"normal-case",children:d("common:order-option.sort")})}),f.filter(g=>i?g.value!==E.followingNews:!0).map(g=>{const v=t===g.value,p=bs[g.value];return n.jsxs(Pt,{value:g.value,className:"px-4 flex items-center gap-1.5 min-h-[36px]",children:[p&&p({active:v,className:"size-6"}),n.jsx("div",{className:"normal-case leading-tight text-[0.8125rem] text-primary",children:g.label})]},g.value)})]}),x]}):n.jsx(kd,{disabled:l,size:"small",value:t,exclusive:!0,onChange:h,className:o,children:f.map(g=>{const v=t===g.value,p=bs[g.value];return n.jsxs(_o,{value:g.value,className:"rounded-full flex items-center gap-1",children:[p&&p({active:v,className:"size-6"}),n.jsx("span",{className:"normal-case",children:g.label})]},g.value)})})},p2=e=>{const{t}=D(["common"]),a=e.value===E.followingNews;return n.jsx(kd,{size:"small",value:e.value,exclusive:!0,onChange:e.onChange,id:"main-artwork-list-top",children:n.jsxs(_o,{value:E.followingNews,className:"rounded-lg",disableRipple:!0,children:[bs[E.followingNews]({active:a}),n.jsx("span",{className:"normal-case font-normal whitespace-nowrap ml-1",children:t("common:order-option.following-news")})]},E.followingNews)})},b2=[{label:n.jsx(P,{i18nKey:"common:order-option.random"}),value:E.random},{label:n.jsx(P,{i18nKey:"common:order-option.most-liked"}),value:E.mostLiked},{label:n.jsx(P,{i18nKey:"common:order-option.newest"}),value:E.newest}];function v2(e){const{model:t}=u.useContext(fe),[a,s]=u.useState(E.mostLiked);return n.jsx(oi,{...e,heading:n.jsx(P,{i18nKey:"market:model.artwork-by-model"}),slots:{heading:n.jsx(ii,{choices:b2,value:a,alwaysCollapse:!0,className:"ml-auto max-msm:mt-2",onChange:i=>(T("order_click",{value:i,scene:"model-content"}),s(i))})},children:n.jsx(Mn,{order:a,extraArgs:{...yn(t==null?void 0:t.type)?{loraId:t==null?void 0:t.id}:Fo(t==null?void 0:t.type)?{modelId:t==null?void 0:t.id}:{}},trackingArgs:{scene:"model-content"}},t==null?void 0:t.id)})}function y2(e){const{amount:t=3}=e;return n.jsx(n.Fragment,{children:wl(t).map(a=>n.jsx("div",{"data-skeleton":"","data-skeleton-index":a,"data-skeleton-first":a===0?"":null,"data-skeleton-last":a===t-1?"":null,className:e.className,style:{opacity:.5-.5/t*a,...e.style},children:typeof e.children=="function"?e.children(a):e.children},a))})}const Qi=wl(3).map(()=>Q1(60,80));function w2(e){const{data:t}=de(),{t:a}=D(["market"]),s=e.model.authorId===(t==null?void 0:t.id),{items:i,hasMore:o,loading:l,loadMore:r,reset:c}=R1({fetcher:J.listGenerationModelVersions,getArgs:m=>{var f;return{modelId:e.model.id,first:20,after:(f=m==null?void 0:m.generationModelVersions)==null?void 0:f.pageInfo.endCursor}},getItems:m=>ce(m.generationModelVersions),getHasMore:m=>{var f;return((f=m.generationModelVersions)==null?void 0:f.pageInfo.hasNextPage)??!1}}),d=u.useCallback(()=>{c(),r()},[]);return u.useEffect(()=>{r()},[]),i.length<1&&!s?null:n.jsxs("div",{className:w("flex gap-2 py-1 -my-1 overflow-x-auto","px-[3px] -mx-[3px]",e.className),style:e.style,children:[s&&n.jsx(W,{icon:n.jsx(_1,{className:"size-5"}),disabled:Et(e.model.type),className:"flex-none",onPress:()=>{T("add_version_click",{location:"model-detail"}),vg(e.model,{mutate:d})},children:a("market:submit.add-version")}),i.map(m=>{var f;return n.jsx(j2,{version:m,modelType:e.model.type,modelTags:e.model.tags,current:m.id===((f=e.currentVersion)==null?void 0:f.id),className:"flex-none"},m.id)}),o&&(i.length===0?n.jsx(y2,{amount:Qi.length,children:m=>n.jsx("span",{className:"block h-8 bg-black/20 dark:bg-white/20 rounded-md animate-pulse",style:{width:Qi[m]}})}):n.jsx(W,{icon:n.jsx(om,{className:"size-6"}),busy:l,onPress:()=>void r()}))]})}const k2=ht({base:"flex items-center h-8 px-2 py-1 bg-black/5 dark:bg-white/5",variants:{current:{true:"outline outline-2 outline-offset-1 outline-purple-600",false:"hover:bg-black/10 dark:hover:bg-white/10"}}});function j2(e){const{version:t,modelType:a,modelTags:s}=e,{t:i}=D(["market"]),o=Ml(i,{type:a,tags:s,version:t},{hideIfAvailable:!0});return n.jsx(le,{component:ie,to:`/model/${t.modelId}/${t.id}`,"data-current":e.current?"":null,className:k2({current:e.current,className:["group",e.className]}),style:e.style,children:n.jsxs("span",{className:"leading-5 font-semibold",children:[t.name,o&&n.jsx("span",{className:w("ml-1 px-1.5 text-xs text-black/60 rounded-full",o.className),children:o.label})]})})}function jd(e){var m;const{isSinglePage:t,onClose:a}=e,{data:s=e.model,isValidating:i,mutate:o}=fa(e.model.id),{data:l=e.version,isValidating:r,mutate:c}=zt((m=e.version)==null?void 0:m.id),d=u.useMemo(()=>({model:s,loadingModel:i,mutateModel:o,version:l,loadingVersion:r,mutateVersion:c,isSinglePage:t,onClose:a}),[s,i,o,l,r,c,t,a]);return s?n.jsx(fe.Provider,{value:d,children:n.jsxs("div",{className:w("flex flex-col gap-4 text-sm",t?"py-4 msm:py-6 mlg:py-8":"p-4",e.className),children:[n.jsx(C2,{}),t&&n.jsx(w2,{model:s,currentVersion:l}),n.jsxs("div",{className:w(wd["content-layout"]),children:[n.jsx(I2,{style:{gridArea:"cover"}}),n.jsx(B2,{style:{gridArea:"info"}}),n.jsxs("div",{className:"flex flex-col gap-4",style:{gridArea:"description"},children:[n.jsx(A2,{}),n.jsx(T2,{})]})]}),t&&n.jsx(v2,{className:"mt-4 pt-7 px-1 -mx-1 border-t border-zinc-300 dark:border-zinc-600"})]})}):null}function C2(e){const{model:t,version:a,isSinglePage:s}=u.useContext(fe),{data:{discountModelIds:i={}}={}}=Lt(),o=Be("md");return t?n.jsxs("header",{...e,className:w(wd["header-layout"],e.className),children:[n.jsxs("div",{className:"flex",style:{gridArea:"badge"},children:[n.jsx(Il,{model:t,className:"!py-0.5"}),yn(t.type)&&t.category&&n.jsx(It,{href:`/market?type=ANY_LORA&category=${t.category}`,className:w("inline-flex items-center px-2 py-0.5  rounded-full outline outline-1 -outline-offset-1","ml-0.5 msm:ml-1 max-msm:text-xs","bg-zinc-100 dark:bg-zinc-700 outline-black/5 dark:outline-white/5"),children:n.jsx(P,{i18nKey:`market:lora-categories.${t.category}.label`})})]}),n.jsxs("div",{className:"flex items-center gap-2 *:flex-none",style:{gridArea:"action"},children:[n.jsx(S2,{}),n.jsx(N2,{}),n.jsx(M2,{}),!s&&n.jsx(n.Fragment,{children:n.jsx(It,{href:lm(t,a),target:"_blank",variant:"outlined",size:o?"small":"large",icon:n.jsx(Zs,{className:"size-5"}),className:"rounded-md"})})]}),n.jsx("h1",{className:"text-xl mmd:text-2xl font-semibold",style:{gridArea:"title"},children:t.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-1",style:{gridArea:"tag"},children:[(t==null?void 0:t.id)in i&&n.jsxs("span",{className:"px-2 md:px-3 text-xs mmd:text-base leading-6 mmd:leading-7 text-white bg-green-700 rounded-full",children:[i[t.id]-100,"%"]}),t.tags&&t.tags.length>0&&n.jsx(n1,{type:"model",tags:t.tags,className:"!contents"})]})]}):null}function S2(){const e=Be("md"),{model:t}=u.useContext(fe),[{liked:a,count:s,optimistic:i},o]=si(t==null?void 0:t.id,te.Model,{liked:t==null?void 0:t.liked,likedCount:t==null?void 0:t.likedCount});return n.jsx(W,{size:e?"small":"large",icon:n.jsx(kn,{liked:!!a,className:"size-5"}),className:w(i&&"opacity-50"),onPress:async()=>{await la({fromPath:"like"}).then(()=>!0,()=>!1)&&await o()},children:De(s)})}function N2(e){const t=Be("md"),{model:a,mutateModel:s}=u.useContext(fe),i=a==null?void 0:a.id,o=a==null?void 0:a.bookmarked;async function l(){try{if(!i||!await la({fromPath:"bookmark"}).then(()=>!0,()=>!1))return;const c=!o;T(c?"bookmark_click":"delete_bookmark_click",{scene:"model-content",modelId:i}),await J.markGenerationModel({modelId:i,target:c,type:Ve.Bookmark}),s==null||s(d=>d&&(d.bookmarked=c,d))}catch(r){G.error(`Failed to bookmark (${String(r)})`)}}return n.jsx(W,{variant:"outlined",size:t?"small":"large",busy:"auto",icon:o?n.jsx(og,{className:"size-5"}):n.jsx(lg,{className:"size-5"}),className:w(o&&"text-purple-600 dark:text-purple-500",e.className),style:e.style,onPress:l})}const $2=[Yt.waiting,Yt.running];function M2(){var v,p;const e=Be("md"),{model:t,mutateModel:a,version:s,mutateVersion:i,isSinglePage:o}=u.useContext(fe),{me:l,beingAdmin:r}=ue(),c=l!=null&&(t==null?void 0:t.authorId)===l.id,d=(v=s??(t==null?void 0:t.latestAvailableVersion))==null?void 0:v.downloadUrl,m=(t==null?void 0:t.isDownloadable)&&j0(d),f=$2.includes(((p=t==null?void 0:t.trainingTask)==null?void 0:p.status)??""),h=wg();if(!t)return null;function x(){return la({fromPath:"more-btn"}).then(()=>!0,()=>!1)}const g=Vo([{id:"share",icon:n.jsx(hg,{className:"size-5"}),onAction:()=>{T("share_btn_click",{scene:"model"}),h(t)},children:n.jsx(P,{i18nKey:"common:share.label"})},{id:"download",icon:n.jsx(mg,{className:"size-5"}),disabled:!m,onAction:async()=>{await x()&&(T("download_model_click",{type:t.type}),window.open(d,"_blank"))},children:m?n.jsx(P,{i18nKey:"market:model.download"}):n.jsx(P,{i18nKey:"market:model.not-downloadable"})},rt,l&&!c&&{id:"request-edit",icon:n.jsx(fg,{className:"size-5"}),onAction:()=>A1(t.id),children:n.jsx(P,{i18nKey:"artwork:action.request-edit"})},(c||r)&&[{id:"edit-model",icon:n.jsx(vd,{className:"size-5"}),color:r&&!c?"admin":void 0,onAction:async()=>{T("edit_model_click"),yd({model:t,mutate:a})},children:n.jsx(P,{i18nKey:"market:model.action.edit-model"})},(s||t.latestAvailableVersion)&&{id:"edit-version",color:r&&!c?"admin":void 0,onAction:async()=>{T("edit_version_click",{location:"more-btn"}),bg(t,s??t.latestAvailableVersion,{mutate:i})},children:n.jsx(P,{i18nKey:"market:model.action.edit-version",context:s?void 0:"latest"})}],(c&&!f||r)&&{id:"delete-model",color:"danger",onAction:async()=>{T("delete_click"),await $1(t)},children:n.jsx(P,{i18nKey:"market:model.action.delete-model"})},rt,!c&&{id:"claim",icon:n.jsx(E1,{className:"size-5"}),onAction:async()=>{await x()&&(T("claim_click"),T1(t.id))},children:n.jsx(P,{i18nKey:"market:model.claim.claim-model"})},l&&!c&&{id:"report",icon:n.jsx(dg,{className:"size-5"}),onAction:async()=>{T("report_click"),cl(te.Model,t.id)},children:n.jsx(P,{i18nKey:"artwork:action.report"})},r&&[rt,{id:"inspect",icon:n.jsx(bd,{className:"size-5"}),color:"admin",onAction:()=>{y1({model:t})},children:"Inspect"},{id:"moderation",color:"admin",onAction:async()=>{dl({refIds:[t.id],refType:te.Model,values:{..._e(t.flag,["isRealistic","isSensitive","isMinors","isSexyPic","isSexyText"])},mutate:()=>{a(),i()}})},children:"Adjust Model Moderation"}]].flat()).reduce((k,b,j,S)=>(b===rt&&(j===0||j===S.length-1||k.at(-1)===rt)||k.push(b),k),[]);return g.length?n.jsxs(ja,{children:[n.jsx(W,{size:e?"small":"large",icon:n.jsx(ul,{className:"size-5"})}),n.jsx(dn,{placement:"bottom end",items:g,children:k=>n.jsx(Ca,{...k})})]}):null}function I2(e){var S;const{model:t,mutateModel:a,version:s,loadingVersion:i,mutateVersion:o,isSinglePage:l}=u.useContext(fe),r=Vo((S=s??(t==null?void 0:t.latestAvailableVersion))==null?void 0:S.previewArtworks),c=1+((r==null?void 0:r.length)??0),m=Be("md")?1:2,f=Math.ceil(c/m)-1,h=u.useRef(null),[x,g]=Nl(()=>new Set),v=Math.floor(Math.min(...x)/m);function p(y){var N;const C=(N=h.current)==null?void 0:N.children[y];C&&h.current.scrollTo({left:C.offsetLeft})}const[k,b]=u.useState();if(!t)return null;const j={pageButton:"absolute inset-y-0 my-auto grid place-content-center size-10 text-black bg-white/80 hover:bg-white backdrop-blur rounded-full ring-1 ring-black/20"};return n.jsxs(n.Fragment,{children:[n.jsxs("section",{className:w("relative flex flex-col bg-zinc-100 dark:bg-zinc-700 py-1 -mx-1 rounded-[10px]",e.className),style:e.style,children:[n.jsx("div",{ref:h,className:"flex w-full overflow-hidden scroll-smooth",style:{height:"calc(100vh - var(--app-header-height) - 100px - 200px)",maxHeight:600},children:R0([n.jsxs("div",{className:"relative size-full",children:[n.jsx(Sg,{model:t,version:s,isSinglePage:l,mutate:()=>s?o():a(),className:w(i&&"opacity-50")}),n.jsx(Oe,{inline:!0,className:w("absolute inset-0 m-auto",!i&&"invisible")})]},"cover"),...(r==null?void 0:r.map(y=>n.jsx(D2,{artwork:y,onClick:b},y.id)))??[]].map((y,C)=>n.jsx(P2,{scroller:h.current,onEnter:()=>g(N=>{N.add(C)}),onExit:()=>g(N=>{N.delete(C)}),children:y},C)),m).map((y,C)=>n.jsx("div",{className:"flex-none grid gap-2 size-full px-1 snap-start snap-always",style:{gridTemplateColumns:`repeat(${c>1?m:1}, 1fr)`},children:y},C))}),n.jsx("button",{className:w(j.pageButton,"-left-2",v===0&&"invisible"),onClick:()=>p(v-1),children:n.jsx(rg,{className:"size-5"})}),n.jsx("button",{className:w(j.pageButton,"-right-2",v===f&&"invisible"),onClick:()=>p(v+1),children:n.jsx(cg,{className:"size-5"})}),n.jsx("div",{className:w("mt-1 flex justify-center gap-1",c<=m&&"!hidden"),children:Array.from({length:c}).map((y,C)=>n.jsx("div",{className:w("size-3 rounded",x.has(C)?"bg-black dark:bg-white":"bg-black/30 dark:bg-white/50"),onClick:()=>p(Math.floor(C/m))},C))})]}),n.jsx(Ad,{open:k!=null,artwork:k,onClose:()=>b(void 0)})]})}function P2(e){const t=u.useRef(null),a=oa(t,{root:e.scroller,threshold:.5});return u.useEffect(()=>{var s,i;a!=null&&a.isIntersecting?(s=e.onEnter)==null||s.call(e):(i=e.onExit)==null||i.call(e)},[a==null?void 0:a.isIntersecting,e]),n.jsx("div",{ref:t,children:e.children})}function D2(e){const{data:t=typeof e.artwork=="string"?void 0:e.artwork}=ra(typeof e.artwork=="string"?e.artwork:void 0),[{liked:a=!1,count:s,optimistic:i},o]=si(t==null?void 0:t.id,te.Artwork,t),{me:l}=ue(),r=At(),c=async()=>{if(ze("use_as_refer_btn_click",t),!l){Re(void 0,{fromPath:"refer"});return}if(t)try{await bn({title:n.jsx(P,{i18nKey:"artwork:use-as-reference-confirm.title"}),description:n.jsx(P,{i18nKey:"artwork:use-as-reference-confirm.desc"})});const m=await J.getArtworkWithTaskDetail({id:t.id}).then(f=>{var h;return(h=f.artwork)==null?void 0:h.taskParameters});ze("use_as_refer",t),J.markArtwork({artworkId:t.id,type:ia.Inspire,target:!0}),Je("generate_source"),r(`/generator/image?${Mt({importType:"use_as_reference",artwork:ti(t),task:mn(m)})}`)}catch(m){if(m===Tt)return}},d=Na();return n.jsxs(xl,{ratio:xa(t==null?void 0:t.media),className:"size-full",children:[n.jsx(Sa,{media:t==null?void 0:t.media,thumbnail:!0,className:"rounded-md",onClick:()=>t&&e.onClick(t)}),n.jsxs("div",{className:"absolute bottom-0 right-0 flex gap-1 p-1",children:[n.jsx(W,{size:"small",disabled:i,icon:n.jsx(kn,{liked:a,className:"size-5"}),className:"!bg-white/80 dark:!bg-black/80 backdrop-blur",onPress:()=>o(),children:De(s)}),n.jsxs(ja,{children:[n.jsx(W,{size:"small",icon:n.jsx(ul,{className:"size-5"}),className:"!bg-white/80 dark:!bg-black/80 backdrop-blur"}),n.jsx(dn,{placement:"top end",children:n.jsx(Ca,{icon:n.jsx(ug,{className:"size-5"}),onAction:c,children:n.jsx(P,{i18nKey:"artwork:use-as-reference",context:d.enableUseAsRefHover?"hoverexp":void 0})})})]})]})]})}function B2(e){var i;const{model:t,version:a,isSinglePage:s}=u.useContext(fe);return t?n.jsx("section",{...e,children:n.jsx(Zg,{model:t,isSinglePage:s,version:a,trainBaseModel:(i=t.baseModelVersion)==null?void 0:i.model})}):null}function A2(e){var a;const{model:t}=u.useContext(fe);return(a=t==null?void 0:t.extra)!=null&&a.description?n.jsx(oi,{...e,heading:n.jsx(P,{i18nKey:"market:model.description.title"}),children:n.jsx(E2,{children:t.extra.description})}):null}const E2=u.memo(function(t){return n.jsx(ig,{className:"grid grid-rows-1 grid-cols-1 max-h-[320px] data-[expanded]:max-h-fit",children:n.jsx(Uo,{className:"prose prose-sm prose-neutral dark:prose-invert max-w-full prose-h1:text-xl",children:t.children})})});function T2(e){const{model:t}=u.useContext(fe),{me:a}=ue();if(!t)return null;const s=(a==null?void 0:a.id)===t.authorId;return n.jsx(oi,{...e,heading:n.jsx(P,{i18nKey:"artwork:comment"}),children:n.jsxs(rd,{topicId:t.id,refType:te.Model,initLoadSize:3,canDeleteMessage:()=>s,children:[n.jsx(fd,{className:"mb-4"}),n.jsx(ud,{})]})})}function oi(e){const{heading:t,slots:a,...s}=e;return n.jsxs("section",{...s,children:[n.jsxs("div",{className:"mb-2 flex items-center",children:[t&&n.jsx("h2",{className:"text-base mmd:text-xl",children:t}),(a==null?void 0:a.heading)&&n.jsx("div",{className:"ml-auto",children:a.heading})]}),e.children]})}function z2(e){const{modelId:t,...a}=e,{data:s,isValidating:i}=fa(e.modelId);return!s&&i?n.jsx(Oe,{}):s?n.jsx(jd,{model:s,...a}):n.jsx(Cn,{})}const Yi=(e,t)=>{const a=ha({children:n.jsx(u.Suspense,{fallback:n.jsx(je,{}),children:e?n.jsx(jd,{model:e,onClose:()=>{var s;return(s=a.current)==null?void 0:s.close()}}):t?n.jsx(z2,{modelId:t,onClose:()=>{var s;return(s=a.current)==null?void 0:s.close()}}):null}),scroll:"body",fullWidth:!0,maxWidth:"lg"})},L2=({modelId:e,model:t,initialValue:a=(t==null?void 0:t.liked)??!1,initialCount:s=(t==null?void 0:t.likedCount)??0,countStyle:i,countClassName:o,numOnTop:l,hideValueOnZero:r,scene:c="market"})=>e?n.jsx(ll,{id:e,initialCount:s,initialValue:a,onBtnClick:d=>{d&&T("like_click",{scene:c,type:t==null?void 0:t.type})},handler:async(d,m)=>{await J.markGenerationModel({modelId:d,type:Ve.Like,target:m})},render:({value:d,count:m,onClick:f})=>n.jsx(ft,{component:"div",role:"button",className:"cursor-pointer outline transition -m-2 p-2 rounded-md",onClick:f,children:n.jsxs("div",{className:w("flex gap-1 items-center",{"flex-col-reverse":l}),children:[n.jsx(kn,{liked:d,className:"size-5"}),r&&!m?null:n.jsx("span",{className:w(o,"text-sm tabular-nums"),style:{...i},children:De(m||0)})]})})}):null;function F2(e){const{modelId:t,loras:a=[void 0,void 0]}=e,{data:{model:s}={},isValidating:i}=zt(t),{t:o}=D(["artwork"]),l=(s||i)&&n.jsx(Ya,{model:s}),r=a.length?a.map((c,d)=>n.jsx(Ya,{model:c,loraId:c==null?void 0:c.id},(c==null?void 0:c.id)||d)):null;return n.jsxs("div",{className:"flex flex-col gap-2",children:[l,r,!l&&!r&&n.jsxs(n.Fragment,{children:[n.jsx(Ya,{className:"row-start-1 col-start-1 invisible"}),n.jsx("div",{className:"row-start-1 col-span-full grid place-content-center text-sm bg-background-light text-primary-light rounded-xl",children:o("artwork:messages.no-model-info")})]})]})}function Ya(e){const{model:t,loraId:a}=e,s=zo(t);return n.jsxs("button",{title:t==null?void 0:t.title,disabled:!t||(t==null?void 0:t.isPrivate),className:w("flex items-center gap-2 p-1 -m-1 text-left rounded-xl","[&:not(&:has([data-capture-hover]:hover))]:hover:bg-black/10","dark:[&:not(&:has([data-capture-hover]:hover))]:hover:bg-white/10",e.className),style:e.style,onClick:()=>(T("lora_click",{path:"image"}),a?Yi(void 0,a):Yi(t)),children:[n.jsx("div",{className:"flex-none grid size-16 overflow-hidden bg-zinc-300 dark:bg-zinc-600 rounded-lg ring-1 ring-black/10 dark:ring-white/10",children:s?n.jsx(B0,{className:"row-start-1 col-start-1 place-self-center text-2xl"}):n.jsxs(n.Fragment,{children:[n.jsx(Sa,{media:t==null?void 0:t.media,className:"row-start-1 col-start-1"}),(t==null?void 0:t.isPrivate)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"row-start-1 col-start-1 relative bg-black/70"}),n.jsx(rm,{className:"row-start-1 col-start-1 place-self-center relative text-xl text-white"})]})]})}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[t&&n.jsx(Il,{model:t,className:w("!w-fit !h-auto !rounded !px-1.5 !py-0 !mr-0","[&>p]:md:!text-xs","[&>div]:!w-4","[&>div>svg]:!text-sm"),ignoreVersionStatus:!0}),n.jsxs("div",{className:"flex items-center gap-2",children:[t?n.jsx("span",{className:"flex-1 w-full truncate text-sm font-medium",children:t.title}):n.jsx(Di,{variant:"text",className:"self-center w-[4em]"}),n.jsx("span",{"data-capture-hover":"",className:"flex-none pl-0.5 pr-1 hover:bg-black/10 dark:hover:bg-white/10 rounded",children:t?n.jsx(L2,{modelId:t.id,model:t,countClassName:"text-sm",scene:"artwork-detail"}):n.jsx(Di,{variant:"rounded",className:"mx-auto w-[3em] h-6"})})]})]})]})}function R2(e){return ba("MuiTab",e)}const ot=pa("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),_2=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],V2=e=>{const{classes:t,textColor:a,fullWidth:s,wrapped:i,icon:o,label:l,selected:r,disabled:c}=e,d={root:["root",o&&l&&"labelIcon",`textColor${on(a)}`,s&&"fullWidth",i&&"wrapped",r&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]};return ya(d,R2,t)},U2=ve(ft,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.label&&a.icon&&t.labelIcon,t[`textColor${on(a.textColor)}`],a.fullWidth&&t.fullWidth,a.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>ee({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ot.iconWrapper}`]:ee({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ot.selected}`]:{opacity:1},[`&.${ot.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ot.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ot.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ot.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ot.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),O2=u.forwardRef(function(t,a){const s=va({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:l=!1,fullWidth:r,icon:c,iconPosition:d="top",indicator:m,label:f,onChange:h,onClick:x,onFocus:g,selected:v,selectionFollowsFocus:p,textColor:k="inherit",value:b,wrapped:j=!1}=s,S=wn(s,_2),y=ee({},s,{disabled:o,disableFocusRipple:l,selected:v,icon:!!c,iconPosition:d,label:!!f,fullWidth:r,textColor:k,wrapped:j}),C=V2(y),N=c&&f&&u.isValidElement(c)?u.cloneElement(c,{className:Ie(C.iconWrapper,c.props.className)}):c,B=M=>{!v&&h&&h(M,b),x&&x(M)},$=M=>{p&&!v&&h&&h(M,b),g&&g(M)};return n.jsxs(U2,ee({focusRipple:!l,className:Ie(C.root,i),ref:a,role:"tab","aria-selected":v,disabled:o,onClick:B,onFocus:$,ownerState:y,tabIndex:v?0:-1},S,{children:[d==="top"||d==="start"?n.jsxs(u.Fragment,{children:[N,f]}):n.jsxs(u.Fragment,{children:[f,N]}),m]}))});function H2(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function K2(e,t,a,s={},i=()=>{}){const{ease:o=H2,duration:l=300}=s;let r=null;const c=t[e];let d=!1;const m=()=>{d=!0},f=h=>{if(d){i(new Error("Animation cancelled"));return}r===null&&(r=h);const x=Math.min(1,(h-r)/l);if(t[e]=o(x)*(a-c)+c,x>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return c===a?(i(new Error("Element already at target position")),m):(requestAnimationFrame(f),m)}const W2=["onChange"],G2={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function q2(e){const{onChange:t}=e,a=wn(e,W2),s=u.useRef(),i=u.useRef(null),o=()=>{s.current=i.current.offsetHeight-i.current.clientHeight};return cm(()=>{const l=Oo(()=>{const c=s.current;o(),c!==s.current&&t(s.current)}),r=Ho(i.current);return r.addEventListener("resize",l),()=>{l.clear(),r.removeEventListener("resize",l)}},[t]),u.useEffect(()=>{o(),t(s.current)},[t]),n.jsx("div",ee({style:G2,ref:i},a))}const Z2=Ko(n.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),X2=Ko(n.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Q2(e){return ba("MuiTabScrollButton",e)}const Y2=pa("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),J2=["className","slots","slotProps","direction","orientation","disabled"],ep=e=>{const{classes:t,orientation:a,disabled:s}=e;return ya({root:["root",a,s&&"disabled"]},Q2,t)},tp=ve(ft,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.orientation&&t[a.orientation]]}})(({ownerState:e})=>ee({width:40,flexShrink:0,opacity:.8,[`&.${Y2.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),np=u.forwardRef(function(t,a){var s,i;const o=va({props:t,name:"MuiTabScrollButton"}),{className:l,slots:r={},slotProps:c={},direction:d}=o,m=wn(o,J2),h=Wo().direction==="rtl",x=ee({isRtl:h},o),g=ep(x),v=(s=r.StartScrollButtonIcon)!=null?s:Z2,p=(i=r.EndScrollButtonIcon)!=null?i:X2,k=Wn({elementType:v,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x}),b=Wn({elementType:p,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x});return n.jsx(tp,ee({component:"div",className:Ie(g.root,l),ref:a,role:null,ownerState:x,tabIndex:null},m,{children:d==="left"?n.jsx(v,ee({},k)):n.jsx(p,ee({},b))}))});function ap(e){return ba("MuiTabs",e)}const Ja=pa("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),sp=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ji=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,eo=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,_n=(e,t,a)=>{let s=!1,i=a(e,t);for(;i;){if(i===e.firstChild){if(s)return;s=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=a(e,i);else{i.focus();return}}},ip=e=>{const{vertical:t,fixed:a,hideScrollbar:s,scrollableX:i,scrollableY:o,centered:l,scrollButtonsHideMobile:r,classes:c}=e;return ya({root:["root",t&&"vertical"],scroller:["scroller",a&&"fixed",s&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",r&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},ap,c)},op=ve("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{[`& .${Ja.scrollButtons}`]:t.scrollButtons},{[`& .${Ja.scrollButtons}`]:a.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,a.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>ee({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Ja.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),lp=ve("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.scroller,a.fixed&&t.fixed,a.hideScrollbar&&t.hideScrollbar,a.scrollableX&&t.scrollableX,a.scrollableY&&t.scrollableY]}})(({ownerState:e})=>ee({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),rp=ve("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.flexContainer,a.vertical&&t.flexContainerVertical,a.centered&&t.centered]}})(({ownerState:e})=>ee({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),cp=ve("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>ee({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),dp=ve(q2)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),to={},up=u.forwardRef(function(t,a){const s=va({props:t,name:"MuiTabs"}),i=Wo(),o=i.direction==="rtl",{"aria-label":l,"aria-labelledby":r,action:c,centered:d=!1,children:m,className:f,component:h="div",allowScrollButtonsMobile:x=!1,indicatorColor:g="primary",onChange:v,orientation:p="horizontal",ScrollButtonComponent:k=np,scrollButtons:b="auto",selectionFollowsFocus:j,slots:S={},slotProps:y={},TabIndicatorProps:C={},TabScrollButtonProps:N={},textColor:B="primary",value:$,variant:M="standard",visibleScrollbar:I=!1}=s,z=wn(s,sp),A=M==="scrollable",V=p==="vertical",Z=V?"scrollTop":"scrollLeft",L=V?"top":"left",O=V?"bottom":"right",Q=V?"clientHeight":"clientWidth",K=V?"height":"width",H=ee({},s,{component:h,allowScrollButtonsMobile:x,indicatorColor:g,orientation:p,vertical:V,scrollButtons:b,textColor:B,variant:M,visibleScrollbar:I,fixed:!A,hideScrollbar:A&&!I,scrollableX:A&&!V,scrollableY:A&&V,centered:d&&!A,scrollButtonsHideMobile:!x}),me=ip(H),xe=Wn({elementType:S.StartScrollButtonIcon,externalSlotProps:y.startScrollButtonIcon,ownerState:H}),pt=Wn({elementType:S.EndScrollButtonIcon,externalSlotProps:y.endScrollButtonIcon,ownerState:H}),[bt,_t]=u.useState(!1),[ge,nt]=u.useState(to),[Pn,Ta]=u.useState(!1),[Vt,za]=u.useState(!1),[at,Ae]=u.useState(!1),[vt,Dn]=u.useState({overflow:"hidden",scrollbarWidth:0}),Ut=new Map,ye=u.useRef(null),pe=u.useRef(null),Ot=()=>{const F=ye.current;let U;if(F){const X=F.getBoundingClientRect();U={clientWidth:F.clientWidth,scrollLeft:F.scrollLeft,scrollTop:F.scrollTop,scrollLeftNormalized:H1(F,i.direction),scrollWidth:F.scrollWidth,top:X.top,bottom:X.bottom,left:X.left,right:X.right}}let Y;if(F&&$!==!1){const X=pe.current.children;if(X.length>0){const ae=X[Ut.get($)];Y=ae?ae.getBoundingClientRect():null}}return{tabsMeta:U,tabMeta:Y}},st=Va(()=>{const{tabsMeta:F,tabMeta:U}=Ot();let Y=0,X;if(V)X="top",U&&F&&(Y=U.top-F.top+F.scrollTop);else if(X=o?"right":"left",U&&F){const re=o?F.scrollLeftNormalized+F.clientWidth-F.scrollWidth:F.scrollLeft;Y=(o?-1:1)*(U[X]-F[X]+re)}const ae={[X]:Y,[K]:U?U[K]:0};if(isNaN(ge[X])||isNaN(ge[K]))nt(ae);else{const re=Math.abs(ge[X]-ae[X]),$e=Math.abs(ge[K]-ae[K]);(re>=1||$e>=1)&&nt(ae)}}),Ht=(F,{animation:U=!0}={})=>{U?K2(Z,ye.current,F,{duration:i.transitions.duration.standard}):ye.current[Z]=F},se=F=>{let U=ye.current[Z];V?U+=F:(U+=F*(o?-1:1),U*=o&&_l()==="reverse"?-1:1),Ht(U)},yt=()=>{const F=ye.current[Q];let U=0;const Y=Array.from(pe.current.children);for(let X=0;X<Y.length;X+=1){const ae=Y[X];if(U+ae[Q]>F){X===0&&(U=F);break}U+=ae[Q]}return U},Ee=()=>{se(-1*yt())},Bn=()=>{se(yt())},La=u.useCallback(F=>{Dn({overflow:null,scrollbarWidth:F})},[]),Kt=()=>{const F={};F.scrollbarSizeListener=A?n.jsx(dp,{onChange:La,className:Ie(me.scrollableX,me.hideScrollbar)}):null;const Y=A&&(b==="auto"&&(Pn||Vt)||b===!0);return F.scrollButtonStart=Y?n.jsx(k,ee({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:xe},orientation:p,direction:o?"right":"left",onClick:Ee,disabled:!Pn},N,{className:Ie(me.scrollButtons,N.className)})):null,F.scrollButtonEnd=Y?n.jsx(k,ee({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:pt},orientation:p,direction:o?"left":"right",onClick:Bn,disabled:!Vt},N,{className:Ie(me.scrollButtons,N.className)})):null,F},ci=Va(F=>{const{tabsMeta:U,tabMeta:Y}=Ot();if(!(!Y||!U)){if(Y[L]<U[L]){const X=U[Z]+(Y[L]-U[L]);Ht(X,{animation:F})}else if(Y[O]>U[O]){const X=U[Z]+(Y[O]-U[O]);Ht(X,{animation:F})}}}),An=Va(()=>{A&&b!==!1&&Ae(!at)});u.useEffect(()=>{const F=Oo(()=>{ye.current&&st()});let U;const Y=re=>{re.forEach($e=>{$e.removedNodes.forEach(Wt=>{var Ge;(Ge=U)==null||Ge.unobserve(Wt)}),$e.addedNodes.forEach(Wt=>{var Ge;(Ge=U)==null||Ge.observe(Wt)})}),F(),An()},X=Ho(ye.current);X.addEventListener("resize",F);let ae;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(F),Array.from(pe.current.children).forEach(re=>{U.observe(re)})),typeof MutationObserver<"u"&&(ae=new MutationObserver(Y),ae.observe(pe.current,{childList:!0})),()=>{var re,$e;F.clear(),X.removeEventListener("resize",F),(re=ae)==null||re.disconnect(),($e=U)==null||$e.disconnect()}},[st,An]),u.useEffect(()=>{const F=Array.from(pe.current.children),U=F.length;if(typeof IntersectionObserver<"u"&&U>0&&A&&b!==!1){const Y=F[0],X=F[U-1],ae={root:ye.current,threshold:.99},re=Ra=>{Ta(!Ra[0].isIntersecting)},$e=new IntersectionObserver(re,ae);$e.observe(Y);const Wt=Ra=>{za(!Ra[0].isIntersecting)},Ge=new IntersectionObserver(Wt,ae);return Ge.observe(X),()=>{$e.disconnect(),Ge.disconnect()}}},[A,b,at,m==null?void 0:m.length]),u.useEffect(()=>{_t(!0)},[]),u.useEffect(()=>{st()}),u.useEffect(()=>{ci(to!==ge)},[ci,ge]),u.useImperativeHandle(c,()=>({updateIndicator:st,updateScrollButtons:An}),[st,An]);const di=n.jsx(cp,ee({},C,{className:Ie(me.indicator,C.className),ownerState:H,style:ee({},ge,C.style)}));let En=0;const _d=u.Children.map(m,F=>{if(!u.isValidElement(F))return null;const U=F.props.value===void 0?En:F.props.value;Ut.set(U,En);const Y=U===$;return En+=1,u.cloneElement(F,ee({fullWidth:M==="fullWidth",indicator:Y&&!bt&&di,selected:Y,selectionFollowsFocus:j,onChange:v,textColor:B,value:U},En===1&&$===!1&&!F.props.tabIndex?{tabIndex:0}:{}))}),Vd=F=>{const U=pe.current,Y=dm(U).activeElement;if(Y.getAttribute("role")!=="tab")return;let ae=p==="horizontal"?"ArrowLeft":"ArrowUp",re=p==="horizontal"?"ArrowRight":"ArrowDown";switch(p==="horizontal"&&o&&(ae="ArrowRight",re="ArrowLeft"),F.key){case ae:F.preventDefault(),_n(U,Y,eo);break;case re:F.preventDefault(),_n(U,Y,Ji);break;case"Home":F.preventDefault(),_n(U,null,Ji);break;case"End":F.preventDefault(),_n(U,null,eo);break}},Fa=Kt();return n.jsxs(op,ee({className:Ie(me.root,f),ownerState:H,ref:a,as:h},z,{children:[Fa.scrollButtonStart,Fa.scrollbarSizeListener,n.jsxs(lp,{className:me.scroller,ownerState:H,style:{overflow:vt.overflow,[V?`margin${o?"Left":"Right"}`:"marginBottom"]:I?void 0:-vt.scrollbarWidth},ref:ye,children:[n.jsx(rp,{"aria-label":l,"aria-labelledby":r,"aria-orientation":p==="vertical"?"vertical":null,className:me.flexContainer,ownerState:H,onKeyDown:Vd,ref:pe,role:"tablist",children:_d}),bt&&di]}),Fa.scrollButtonEnd]}))}),mp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h4v2h-4v2h4v2H9V7h6v2z"})});function fp(e){var t;return n.jsx("div",{className:w("absolute w-full h-full bg-black/40 top-0 left-0 backdrop-blur-md flex items-center justify-center",e.className),children:n.jsx(mp,{className:w("opacity-50",(t=e.iconProps)==null?void 0:t.className)})})}const hp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m7 10l5 5l5-5z"})});function xp(e){function t(a,s){var i;(i=e.onChange)==null||i.call(e,an(e.value??{},o=>{const l=new Proxy(o,vp);s?l[a]=s:delete l[a]}))}return n.jsx(Nn.Provider,{value:{...e,updateValue:t},children:n.jsx(gp,{...e})})}const Nn=u.createContext({});function gp(e){var l,r,c;const{updateValue:t}=u.useContext(Nn),a=Object.values(e.value??{}).filter(Boolean).length,[s,i]=u.useState(!1),o=u.useRef(null);return n.jsxs(um,{isOpen:s,onOpenChange:i,children:[n.jsxs(le,{ref:o,className:w("px-3 bg-background-light",e.className),style:e.style,onClick:()=>i(!0),children:[n.jsxs("span",{className:"capitalize",children:[n.jsx(P,{i18nKey:"artwork:recipes.categories.filters",defaults:"Filters"}),a>0&&n.jsx("span",{className:"ml-1 px-1.5 py-px text-xs text-white dark:text-black bg-black dark:bg-white rounded-full",children:a})]}),n.jsx(hp,{className:ss("-mr-2 size-6 text-black/50 dark:text-white",s&&"rotate-180")})]}),n.jsx(Do,{triggerRef:o,placement:"bottom start",offset:4,className:ss("flex flex-col","entering:animate-in entering:fade-in entering:slide-in-from-top-1","exiting:animate-out exiting:fade-out exiting:slide-out-to-top-1"),children:n.jsxs(mm,{className:"flex-1 overflow-auto bg-white dark:bg-zinc-800 rounded-lg ring-1 ring-black/15 dark:ring-white/10 shadow-lg shadow-black/40 dark:shadow-black/60 divide-y divide-black/10 dark:divide-white/10",style:{maxWidth:320},children:[n.jsx(tn,{value:((l=e.value)==null?void 0:l.type)??"",onChange:d=>t("type",d),label:n.jsx(P,{i18nKey:"market:submit.model-type"}),options:M1,disabled:en(e.disabled,"type")}),n.jsx(pp,{}),n.jsx(tn,{value:((r=e.value)==null?void 0:r.source)??"",onChange:d=>t("source",d),label:n.jsx(P,{i18nKey:"common:source.label"}),options:I1,disabled:en(e.disabled,"source")}),n.jsx(bp,{}),n.jsx(tn,{value:((c=e.value)==null?void 0:c.time)??"",onChange:d=>t("time",d),label:n.jsx(P,{i18nKey:"market:model.posted-at"}),options:P1,disabled:en(e.disabled,"time")})]})})]})}function pp(){const{value:e,updateValue:t,disabled:a}=u.useContext(Nn),s=Go();return n.jsx(tn,{value:(e==null?void 0:e.base)??"",onChange:i=>t("base",i),label:n.jsx(P,{i18nKey:"market:model.trained-based-on-model"}),options:[...D1,...s],disabled:en(a,"base")})}function bp(){const{value:e,updateValue:t,disabled:a}=u.useContext(Nn),s=fm();return n.jsx(tn,{value:(e==null?void 0:e.category)??"",onChange:i=>t("category",i),label:n.jsx(P,{i18nKey:"common:category.label_lora"}),options:[{value:"",label:"common:visibility.all"},...s],disabled:en(a,"category")})}const vp={set(e,t,a,s){switch(Reflect.set(e,t,a,s),t){case"type":a!=="lora"&&(/^\d+$/.test(e.base??"")&&(s.base=""),e.source&&(s.source=""),e.category&&(s.category=""));break;case"base":/^\d+$/.test(a)&&e.type!=="lora"&&(s.type="lora");break;case"source":a&&e.type!=="lora"&&(s.type="lora");break;case"category":a&&e.type!=="lora"&&(s.type="lora");break}return!0}};function en(e,t){return typeof e=="boolean"||e==null?e:e[t]}const yp=()=>ss("min-w-12 px-2 py-1 text-center rounded-md ring-1 ring-inset cursor-default","ring-black/15","group-selected:text-white group-selected:bg-black","dark:ring-white/15","dark:group-selected:text-black dark:group-selected:bg-white","group-disabled:opacity-60");function tn(e){var s,i;const{hideDisabled:t}=u.useContext(Nn),a=new Set([e.value||""]);return!((s=e.options)!=null&&s.length)||t&&e.disabled===!0?null:n.jsxs(Jf,{selectionMode:"single",disallowEmptySelection:!0,selectedKeys:a,onSelectionChange:o=>{var l;o!=="all"&&((l=e.onChange)==null||l.call(e,o.values().next().value))},disabledKeys:e.disabled===!0?(i=e.options)==null?void 0:i.map(o=>o.value):e.disabled||void 0,className:"p-3 text-sm",children:[n.jsx(Pe,{className:"-my-1",children:e.label}),n.jsx(th,{items:e.options,className:"mt-2 flex flex-wrap gap-2",children:o=>n.jsx(ah,{id:o.value,className:"group disabled:-ml-2",children:({isDisabled:l})=>t&&l?null:n.jsx("div",{className:yp(),children:n.jsx(P,{i18nKey:o.label,defaults:o.label})})})})]})}function rb(e){const t=new Set(Array.isArray(e)?e:[e]);return{type:be(t).with(q.set(q.union(R.AnyModel,R.SdV1Model,R.SdxlModel,R.Sd3MediumModel)),()=>"model").with(q.set(q.union(R.AnyLora,R.AnyUserLora,R.AnyNonUserLora,R.AnySdxlLora,R.AnyNonSdxlLora,R.Lora,R.SdxlLora,R.UserLora,R.UserSdxlLora)),()=>"lora").otherwise(()=>""),base:be(t).with(q.set(q.union(R.SdV1Model,R.AnyNonSdxlLora,R.Lora,R.UserLora)),()=>"sdv1").with(q.set(q.union(R.SdxlModel,R.AnySdxlLora,R.SdxlLora,R.UserSdxlLora)),()=>"sdxl").with(q.set(q.union(R.Sd3MediumModel)),()=>"sd3").otherwise(()=>""),source:be(t).with(q.set(q.union(R.AnyUserLora,R.UserLora,R.UserSdxlLora)),()=>"pixai").with(q.set(R.AnyNonUserLora),()=>"external").otherwise(()=>"")}}function wp(e){const t=q.optional(""),a=q.optional(q.union("",q.string.regex(/^\d+&/)));return be(e).returnType().with({type:t,base:a,source:t},()=>"").with({type:"model",base:a,source:t},()=>R.AnyModel).with({type:"lora",base:a,source:t},()=>R.AnyLora).with({type:"lora",base:"sdv1",source:t},()=>R.AnyNonSdxlLora).with({type:"lora",base:"sdxl",source:t},()=>R.AnySdxlLora).with({type:"lora",base:a,source:"pixai"},()=>R.AnyUserLora).with({type:"lora",base:a,source:"external"},()=>R.AnyNonUserLora).otherwise(()=>{const s=new Set([R.SdV1Model,R.SdxlModel,R.Sd3MediumModel]),i=new Set([R.Lora,R.SdxlLora,R.UserLora,R.UserSdxlLora]),o=new Set([R.SdV1Model,R.Lora,R.UserLora]),l=new Set([R.SdxlModel,R.SdxlLora,R.UserSdxlLora]),r=new Set([R.Sd3MediumModel]),c=new Set([R.UserLora,R.UserSdxlLora]),d=new Set([R.Lora,R.SdxlLora]);let m=new Set([...s,...i]);switch(e.type){case"model":m=m.difference(i);break;case"lora":m=m.difference(s);break}switch(e.base){case"sdv1":m=m.difference(l).difference(r);break;case"sdxl":m=m.difference(o).difference(r);break;case"sd3":m=m.difference(o).difference(l);break}switch(e.source){case"pixai":m=m.difference(d);break;case"external":m=m.difference(c);break}return Array.from(m)})}const kp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M14.06 9.94L12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5l1.09-2.41L12 5.5L9.59 4.41L8.5 2L7.41 4.41L5 5.5l2.41 1.09L8.5 9zm-4 11.5l6-6.01l4 4L23 8.93l-1.41-1.41l-7.09 7.97l-4-4L3 19l1.5 1.5z"})});function jp(e){return n.jsxs("p",{className:"absolute bottom-0 left-0 px-1 mlg:px-2 py-0.5 mlg:py-1 text-xs rounded-tr-lg rounded-bl-[0.69rem] text-white/70 bg-black/70",children:[n.jsx(kp,{className:"mr-1 inline-block"}),De(e.refCount)]})}function Dt(e){const{t}=D(["generation"]);return n.jsxs("div",{className:w("flex flex-col items-center justify-center gap-4 mx-auto",e.className),children:[e.showDescription&&n.jsx("h1",{children:t("generation:lora.list.empty-placeholder")}),n.jsx(le,{component:ie,to:"/market",target:"_blank",className:"bg-theme-primary font-bold",variant:"contained",onClick:a=>{T("go_to_market_click",{fromPath:e.scene}),e.onGotoClick&&(a.preventDefault(),e.onGotoClick())},children:e.actionType==="go"?t("generation:lora.list.go-to-market"):t("generation:lora.list.search-in-market")})]})}function Cp(e){const{t}=D(["generation"]);return n.jsx("div",{className:w("flex flex-col items-center justify-center gap-4 mx-auto",e.className),children:n.jsx("p",{children:t(`generation:model.list.sidebar-empty-placeholder.${e.mode}`)})})}const li=ve("div")(()=>({display:"grid",width:"calc(100% - 16px)",gridTemplateColumns:"repeat(auto-fill,minmax(120px,1fr))","@media (max-width: 600px)":{gridTemplateColumns:"repeat(auto-fill,minmax(80px,1fr))"},gap:"0.75rem",marginTop:"1rem"})),Sp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83l3.75 3.75l1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})}),Np=({size:e,actionButtonName:t,primaryButtonName:a,primaryButtonAfterClick:s,deleteItem:i,afterDelete:o,dialogTitle:l,dialogContent:r,onActionButtonClick:c,beforeDelete:d})=>{const{t:m}=D(["artwork","action"]),[f,h]=u.useState(!1),[x,g]=u.useState([]),[v,p]=u.useState(!1),k=i,b=$=>{h($)},j=$=>{const M=x.includes($)?x.filter(I=>I!==$):[...x,$];g(M)},S=()=>{g([])},y=()=>{g([]),h(!1)},[C,N]=et(async()=>{if(k)try{const $=await Fl(g);d==null||d($);for(const M of $)await k(M);o==null||o(),S(),G.success("Delete successfully."),p(!1)}catch{G.error("Delete failed.")}},[k]),B=n.jsxs("div",{className:"flex gap-4 min-w-fit",children:[!f&&n.jsx(le,{variant:"outlined",size:e,startIcon:n.jsx(Sp,{className:"size-5"}),className:"capitalize",onClick:()=>{c==null||c(),b(!0)},children:t}),f&&n.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[n.jsx(le,{variant:"outlined",size:e,onClick:y,children:m("action:cancel")}),n.jsxs("span",{className:w(e!=="small"&&"text-lg"),children:[x.length," ","selected"]}),k&&n.jsx(le,{color:"error",variant:"outlined",size:e,disabled:x.length===0,onClick:()=>{p(!0),s==null||s()},children:m(a!==void 0?a:"artwork:action.delete")})]}),n.jsxs(Ds,{open:v,onClose:()=>{C||p(!1)},PaperProps:{sx:{minWidth:400}},children:[l&&n.jsx(Bs,{children:l}),r&&n.jsx(qo,{children:n.jsx(hm,{children:r})}),n.jsxs(Zo,{children:[n.jsx(W,{variant:"outlined",onPress:()=>p(!1),children:m("action:cancel")}),n.jsx(W,{busy:C,onPress:N,variant:"filled",children:m("action:confirm")})]})]})]});return{editing:f,selectedItems:x,editItemsAction:B,toggleEditing:b,toggleSelected:j,clearSelected:S,cancelSelected:y,deleteItemAction:k,setSelectedItems:g}},Cd=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1l1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"})}),$p=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"})}),Mp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0l-6.59 6.59a.996.996 0 0 0 0 1.41l6.59 6.59a.996.996 0 1 0 1.41-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"})}),[Sd,Ip]=Ft({openSearch:!1});function Pp(e){const[t]=u.useContext(Sd),a=u.useCallback(l=>{var r;(r=e.onTabChange)==null||r.call(e,l)},[]),s=e.preview===void 0,i=e.showModalSheet?e.openDetail:!0,o=e.showModalSheet?!e.openDetail:!0;return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"mlg:grid flex flex-col grid-cols-[1fr_288px] grid-rows-[56px_1fr] h-full",style:{"--list-height":e.showModalSheet?"100%":"calc(min(100vh - 64px, 620px) - 56px - 52px)"},children:[n.jsx("div",{className:w("hidden mlg:flex items-center gap-x-2 mlg:gap-x-6","mlg:pl-4 mlg:pr-2 h-14","border-b border-background-light","col-span-2"),children:n.jsx(Dp,{...e})}),n.jsxs(jl,{selectedKey:e.tabVal,onSelectionChange:l=>a(l),orientation:"horizontal",className:w("relative h-full flex-1 flex flex-col pt-0 px-0 pb-30 mlg:pb-0",s&&"col-span-2"),children:[n.jsxs("div",{className:w("flex px-4 flex-col py-2 mlg:flex-row mlg:pt-1 gap-y-2"),children:[n.jsxs("div",{className:w("border-b border-background-light flex mlg:hidden items-center gap-2 h-14"),children:[n.jsx(no,{tabs:e.tabs,className:w("flex mr-auto",(e.openDetail||t.openSearch||!e.showModalSheet)&&"hidden")}),n.jsx(Bp,{...e})]}),n.jsx(no,{tabs:e.tabs,className:"hidden mlg:flex mr-auto"}),o&&e.tabsSuffix]}),e.tabs.map(l=>n.jsx(ds,{id:l.id,className:w("overflow-y-auto h-full pl-4",e.openDetail&&"max-mlg:hidden"),children:l.content},l.id))]}),!e.openDetail&&e.detailActionArea,i&&e.preview]})})}function Dp(e){return n.jsxs(n.Fragment,{children:[n.jsx(da,{slot:"title",className:"pl-2 text-lg font-semibold",children:e.title}),e.searchInput,n.jsxs("div",{className:"flex ml-auto gap-x-2",children:[e.action,n.jsx(he,{color:"primary",onClick:e.onClose,children:n.jsx(He,{className:"size-6"})})]})]})}function Bp(e){var s;const[t,a]=u.useContext(Sd);return e.openDetail?n.jsx(W,{className:"w-full justify-start h-14",size:"large",variant:"ghost",icon:n.jsx(Mp,{}),onPress:()=>{var i;(i=e.onOpenDetailChange)==null||i.call(e,!1)},children:n.jsx("span",{className:"pl-1 inline-block w-full text-start",children:(s=e.tabs.find(i=>i.id===e.tabVal))==null?void 0:s.label})}):t.openSearch?n.jsxs(n.Fragment,{children:[e.searchInput,n.jsx(he,{className:"text-primary-light",onClick:()=>{a(i=>({...i,openSearch:!1}))},children:n.jsx(He,{className:"size-6"})})]}):n.jsx(he,{className:"ml-auto text-primary-light",onClick:()=>{a(i=>({...i,openSearch:!0}))},children:n.jsx(Q0,{className:"size-6"})})}function no(e){const{tabs:t,...a}=e;return n.jsx(Cl,{variant:"underlined",...a,children:t.map(s=>n.jsx(cs,{variant:"underlined",id:s.id,className:"mlg:px-8 px-4",children:s.label},s.id))})}const Ap=ve(Qt)(({theme:e})=>({'[type="search"]::-webkit-search-decoration':{appearance:"none"},'[type="search"]::-webkit-search-cancel-button':{appearance:"none"}}));function Ep(e){return n.jsx("div",{className:e.className,children:n.jsx(Ap,{fullWidth:!0,size:"small",endAdornment:e.inputProps.value?n.jsx(xm,{position:"end",children:n.jsx(he,{edge:"end",onClick:t=>{var a;(a=e.onClear)==null||a.call(e)},children:n.jsx(r1,{className:"text-sm"})})}):null,type:"search",...e.inputProps})})}const Tp=u.forwardRef(function(t,a){const{tabVal:s,placeholder:i,searchKeyword:o,onInputChange:l,onClear:r,...c}=t,[d,m]=u.useState(o),f=u.useCallback(x=>{l(x)},[l]),[,h]=gm(()=>{f(d)},1500,[s,d]);return u.useImperativeHandle(a,()=>({cancelDebounce:h}),[h]),u.useEffect(()=>{h(),f(d)},[s]),n.jsx(Ep,{...c,className:w("flex-auto",t.className),onClear:()=>{r(),h()},inputProps:{value:d,onChange:x=>m(x.target.value),placeholder:i}})});function zp(e){return[{value:E.trending,label:e("common:order-option.trending")},{value:E.mostLiked,label:e("common:order-option.most-liked")},{value:E.mostUsed,label:e("common:order-option.most-used")},{value:E.newest,label:e("common:order-option.newest")}]}function Lp(e){return[{label:e("common:order-option.oldest"),value:E.oldest},{label:e("common:order-option.newest"),value:E.newest}]}const[Ce,Nd]=Ft({type:null,versionId:null,modelId:null,searchKeyword:"",openDetail:!1,marketOrder:E.trending,bookmarkListOrder:E.newest,tab:"preset"}),Fp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m19 21l-7-3l-7 3V5c0-1.1.9-2 2-2h7a5.002 5.002 0 0 0 5 7.9V21zM17.83 9L15 6.17l1.41-1.41l1.41 1.41l3.54-3.54l1.41 1.41L17.83 9z"})}),Rp=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M17 11v6.97l-5-2.14l-5 2.14V5h6V3H7c-1.1 0-2 .9-2 2v16l7-3l7 3V11h-2zm4-4h-2v2h-2V7h-2V5h2V3h2v2h2v2z"})}),_p=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})});function Vp({description:e}){const{t}=D(["market"]),a=u.useRef(null),[s,i]=u.useState(!1),[o,l]=u.useState(!1);return u.useEffect(()=>{a.current&&l(a.current.scrollHeight>a.current.clientHeight)},[]),n.jsxs("section",{children:[n.jsx("h4",{className:"pb-1 font-medium",children:t("market:model.description.title")}),n.jsxs("div",{children:[n.jsx("p",{ref:a,className:w(s?"table table-fixed break-words w-full":"line-clamp-4 break-all","text-sm whitespace-pre-line"),children:e}),o&&n.jsxs("button",{className:"flex items-center",onClick:()=>i(r=>!r),children:[s?n.jsx(Fs,{}):n.jsx(yl,{}),n.jsx("div",{className:"text-sm opacity-75",children:t(s?"artwork:show.less":"artwork:show.more")})]})]})]})}function Up({version:e}){const{t}=D(["market","generation"]);if(!(e!=null&&e.extra))return null;const a=[[t("generation:sampling-steps.label"),e.extra.samplingSteps],[t("generation:sampling-method.label"),e.extra.samplingMethod],[t("generation:cfg-scale.label"),e.extra.cfgScale],[t("generation:negative-prompts.label"),e.extra.negativePrompts]].filter(([,s])=>s!=null);return a.length===0?null:n.jsxs("section",{children:[n.jsx("h4",{className:"pb-1 font-medium",children:t("market:model.parameters.title")}),n.jsx("ul",{className:"flex flex-col gap-2 text-sm",children:a.map(([s,i],o)=>n.jsxs("li",{children:[n.jsx("h5",{children:s}),n.jsx("span",{className:"text-primary-light",children:i})]},o))})]})}function Op({model:e}){var i;const{t}=D(["market"]),a=((i=e.extra)==null?void 0:i.permissions)??{},s=[[t("market:model.permissions.share-images-online"),a.shareImagesOnline??a["share-images-online"]??!1],[t("market:model.permissions.personal-uses"),a.personalUses??a["personal-uses"]??!1],[t("market:model.permissions.commercial-uses"),a.commercialUses??a["commercial-uses"]??!1],[t("market:model.permissions.should-credit-author"),a.shouldCreditAuthor??a["should-credit-author"]??!1]];return n.jsxs("section",{children:[n.jsx("h4",{className:"pb-1 font-medium",children:t("market:model.permissions.title")}),n.jsx("ul",{className:"flex flex-col gap-.5",children:s.map(([o,l],r)=>n.jsxs("li",{className:"flex gap-1 items-center text-sm",children:[l?n.jsx(Tl,{className:"text-green-600 size-6 shrink-0"}):n.jsx(He,{className:"text-rose-600 size-6 shrink-0"}),n.jsx("span",{children:o})]},r))})]})}function Hp({model:e,mutate:t}){const{t:a}=D(["market","generation"]),s=e.bookmarked,[i,o]=et(async()=>{try{const l=!s;T(l?"bookmark_click":"delete_bookmark_click",{scene:"model-select-preview",modelId:e.id}),await J.markGenerationModel({modelId:e.id,target:l,type:Ve.Bookmark}),t==null||t(),G.info(a(l?"market:model.notice.bookmark-success":"market:model.notice.unbookmark-success"))}catch(l){if(l===Tt)return;G.error(`Failed to bookmark. ${l==null?void 0:l.message}`)}},[s,e.id]);return n.jsx(W,{variant:"filled",size:"small",className:"rounded-full",color:"normal",colorScheme:"dark",busy:i,endIcon:s?n.jsx(Fp,{className:"text-theme-primary size-4"}):n.jsx(Rp,{className:"size-4"}),onPress:o,children:a(s?"generation:model.preview.bookmarked":"market:model.action.bookmark")})}function Kp({model:e,mutate:t}){const{t:a}=D(["market"]),s=e.bookmarked,[i,o]=et(async()=>{T("model-select-preview-pin-to-top",{modelId:e.id});try{await J.markGenerationModel({modelId:e.id,target:!1,type:Ve.Bookmark}),await J.markGenerationModel({modelId:e.id,target:!0,type:Ve.Bookmark}),G.info(a("generation:model.preview.notice.pin-to-top-success")),t==null||t()}catch(l){if(l===Tt)return;G.error(`Failed to pin. ${l==null?void 0:l.message}`)}},[e.id]);return s?n.jsx(W,{variant:"filled",size:"small",color:"normal",colorScheme:"dark",className:"rounded-full",busy:i,endIcon:n.jsx(Cd,{className:"text-theme-primary size-4"}),onPress:o,children:a("generation:model.preview.action.pin-to-top")}):null}function ao({version:e}){return e!=null&&e.media?n.jsx("img",{loading:"lazy",decoding:"async",className:"inline-block align-bottom mr-2 w-[1.4em] h-[1.4em] rounded object-cover",src:xt(e.media)}):null}function Wp({versionId:e,versions:t,onChange:a}){const{t:s}=D(["market"]);return n.jsxs(Te,{className:"mt-2",fullWidth:!0,size:"small",children:[n.jsx(Nt,{id:"model-select-version-select-label",children:s("market:submit.version-form.version-string")}),n.jsx(ga,{labelId:"model-select-version-select-label",label:s("market:submit.version-form.version-string"),value:e,renderValue:i=>{const o=t.find(l=>l.id===i);return n.jsxs(n.Fragment,{children:[n.jsx(ao,{version:o}),o==null?void 0:o.name]})},onChange:a,children:t.map(i=>n.jsx(Pt,{value:i.id,children:n.jsxs("div",{children:[n.jsx(ao,{version:i}),i.name,n.jsx("div",{className:"mt-1 text-xs",children:ut(i.updatedAt).format("lll")})]})},i.id))})]})}function Gp({modelId:e,onClose:t,onConfirm:a,showPinToTop:s,mutateAfterPin:i,...o}){var S,y;const{t:l}=D(["market","generation"]),[r,c]=u.useContext(Ce),{data:d,isValidating:m,mutate:f}=fa(e),h=xt(d==null?void 0:d.media),{data:x,isValidating:g}=pm({modelId:e,first:40}),v=ce(x),p=r.versionId,k=u.useCallback(C=>{c(N=>({...N,versionId:C.target.value}))},[c]),b=u.useMemo(()=>v==null?void 0:v.find(C=>C.id===p),[v,p]),j=()=>(!r.type||!p||m||g||(T("model_selected",{location:r.type}),a({id:p,...b,model:d})),t());return!d||!x?n.jsx("div",{...o,children:n.jsx(Oe,{})}):n.jsxs("div",{...o,className:w("flex flex-col",o.className),children:[n.jsxs("div",{className:"flex-1 flex flex-col p-4 gap-3 overflow-auto",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{loading:"lazy",decoding:"async",className:"w-full aspect-1 rounded-[0.96rem] object-cover",src:h}),n.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1 items-end",children:[n.jsx(Hp,{model:d,mutate:f}),s&&n.jsx(Kp,{model:d,mutate:i})]})]}),n.jsx(ie,{to:`/model/${d.id}`,target:"_blank",children:n.jsx("h3",{className:"text-xl break-all font-semibold",children:d==null?void 0:d.title})}),((y=(S=d.extra)==null?void 0:S.description)==null?void 0:y.trim())&&n.jsx(Vp,{description:d.extra.description},d.extra.description),n.jsx(Up,{version:b}),n.jsx(Op,{model:d})]}),n.jsxs("div",{className:"flex flex-col gap-3 p-4",children:[v.length&&p?v.length>1?n.jsx(Wp,{versionId:p,versions:v,onChange:k}):null:n.jsx(bm,{severity:"warning",className:"px-3 py-0",icon:n.jsx(_p,{}),children:l("generation:model.preview.no-version")}),n.jsx(W,{busy:m||g,disabled:!b,variant:"filled",onPress:j,children:l("market:model.use-this-model")})]})]})}function qp(e){const{t}=D(["generation"]),[a]=u.useContext(Ce),s=a.modelId;return s?n.jsx(Gp,{...e,modelId:s}):n.jsx("div",{...e,className:w("grid place-items-center text-neutral-400",e.className),children:t("generation:model.preview.no-selection")})}function $d(e){return n.jsx(vm,{open:e.open,onClose:e.onClose,dialogProps:{maxWidth:!1,PaperProps:{style:{maxWidth:"1000px",maxHeight:"min(calc(100vh - 64px), 800px)"}}},breakpoint:"lg",disableScrollLock:!1,children:n.jsx(Nd,{defaultValue:e.initState,children:n.jsx(u.Suspense,{fallback:n.jsx(Oe,{}),children:n.jsx(Zp,{onClose:e.onClose,onVersionSelected:e.onVersionSelected})})})})}function Zp(e){const{beingMember:t}=ue(),a=u.useRef(null),s=Be("lg"),[i,o]=u.useContext(Ce),{t:l}=D(["generation","action","market"]),r=i.tab,c=u.useCallback(f=>{o(h=>({...h,tab:f}))},[]),d=u.useCallback(f=>{T("model_switch_click",{value:f}),c(f)},[r]),m=u.useMemo(()=>[{id:"preset",label:l("generation:model.type.preset"),content:n.jsx(Jp,{type:"preset",setTabVal:c})},{id:"market",label:l("generation:model.type.market"),content:n.jsx(e5,{})},{id:"bookmark",label:l("generation:model.type.bookmark"),content:n.jsx(Yp,{setTabVal:c,ref:a})}],[]);return n.jsx(Ip,{children:n.jsx(Pp,{onClose:e.onClose,title:l("generation:model.list.title"),showModalSheet:s,tabVal:r,tabs:m,onTabChange:d,tabsSuffix:n.jsx(Xp,{}),onOpenDetailChange:f=>o(h=>({...h,openDetail:f})),openDetail:i.openDetail,preview:n.jsx(qp,{className:w("w-full h-[calc(var(--list-height)-68px)] mlg:h-[calc(var(--list-height)+56px)]","mlg:w-72 mlg:border-l mlg:border-background-light",s&&!i.openDetail&&"hidden"),onClose:e.onClose,onConfirm:e.onVersionSelected,showPinToTop:t&&r==="bookmark",mutateAfterPin:a.current??void 0},i.modelId),searchInput:n.jsx(Qp,{tabVal:r}),action:n.jsx(le,{color:"primary",href:"/market",target:"_blank",size:"large",startIcon:n.jsx($p,{}),onClick:()=>{T("browse_mkt_click",{location:"more-model"})},children:l("generation:model.list.market")})})})}function Xp(){const{t:e}=D(["common"]),t=zp(e),a=Lp(e),[s,i]=u.useContext(Ce),o=s.tab,l=Go().map(({value:c})=>c),r=u.useMemo(()=>uo(()=>n.jsx(xp,{value:{...s.marketFilters,type:"model",source:""},onChange:c=>i(an(d=>{d.marketFilters=c})),disabled:{type:!0,base:l,source:!0,category:!0},hideDisabled:!0,className:"h-10"})),[l,s.marketFilters]);return n.jsxs("div",{className:"flex items-center gap-2",children:[o!=="preset"&&n.jsx(ii,{choices:o==="market"?t:a,onChange:c=>{T("order_click",{value:c,scene:"market"}),i(o==="market"?d=>({...d,marketOrder:c}):d=>({...d,bookmarkListOrder:c}))},value:o==="market"?s.marketOrder:s.bookmarkListOrder,alwaysCollapse:!0}),o==="market"&&n.jsx(r,{})]})}function Qp({tabVal:e,...t}){const{t:a}=D(["generation"]),[{searchKeyword:s},i]=u.useContext(Ce),o=l=>{T("panel_model_search",{fromPath:"model",location:e,value:l}),i(r=>({...r,searchKeyword:l}))};return n.jsx(Tp,{...t,tabVal:e,onInputChange:o,className:w("flex-auto",t.className),onClear:()=>{i(l=>({...l,searchKeyword:""}))},searchKeyword:s,placeholder:a("generation:model.list.search-placeholder")})}const Yp=u.forwardRef(function(t,a){const{t:s}=D(["generation"]),[i,o]=u.useContext(Ce),{searchKeyword:l,bookmarkListOrder:r}=i,{beingMember:c,me:d}=ue(),[m,f]=u.useState(!0),[h,x]=u.useState([]),[g,v]=u.useState(),p=u.useRef(),k=30,[b,j]=et(async($=k,M,I)=>{var z,A,V,Z,L;if(d!=null&&d.id)try{const O=ym(I),Q=Rl({before:O?void 0:p.current,after:O?p.current:void 0,pageSize:$,isPosSeq:O}),K=await J.listMyBookmarkedGenerationModels({modelType:R.AnyModel,keyword:M||void 0,...Q}),H=(z=K==null?void 0:K.me)==null?void 0:z.bookmarkedGenerationModels,me=O?ce(H):ce(H).reverse();x(xe=>Rs([...xe,...me],"id")),v(H==null?void 0:H.totalCount),f(O?!!((A=H==null?void 0:H.pageInfo)!=null&&A.hasNextPage):!!((V=H==null?void 0:H.pageInfo)!=null&&V.hasPreviousPage)),p.current=O?(Z=H==null?void 0:H.pageInfo)==null?void 0:Z.endCursor:(L=H==null?void 0:H.pageInfo)==null?void 0:L.startCursor}catch(O){console.error("bookmarked model list",O)}},[d==null?void 0:d.id]),S=u.useCallback(($,M)=>{x([]),v(void 0),f(!0),p.current=void 0,j(void 0,$,M)},[j]);u.useImperativeHandle(a,()=>()=>S(l,r),[j,l,r]),u.useEffect(()=>{S(l,r)},[d==null?void 0:d.id,l,r]);const y=u.useCallback(()=>{m&&j(void 0,l,r)},[m,l,r]),C=u.useCallback(()=>b?n.jsx(Oe,{className:"!my-1"}):i.searchKeyword.length>0?n.jsx(Dt,{scene:"model",className:"pb-20",actionType:"search",onGotoClick:()=>t.setTabVal("market")}):null,[b,i.searchKeyword]),N=Np({size:"small",actionButtonName:s("generation:model.manage-bookmarks.label"),deleteItem:async $=>{await J.markGenerationModel({modelId:$,target:!1,type:Ve.Bookmark}),wm($)},beforeDelete:$=>{T("delete_bookmark_click",{type:"model",number:$.length})},afterDelete:S,dialogTitle:s("generation:model.manage-bookmarks.confirm-title"),dialogContent:s("generation:model.manage-bookmarks.confirm-content"),onActionButtonClick:()=>{T("manage_bookmark_click",{type:"model"})}});if(h.length===0)return b?n.jsx("div",{className:"w-full min-h-[360px] h-[var(--list-height)]",children:n.jsx(je,{fullHeight:!0})}):n.jsx(Dt,{actionType:"search",scene:"model",className:"h-[var(--list-height)]",onGotoClick:()=>t.setTabVal("market")});const B=c&&i.bookmarkListOrder===E.newest;return n.jsxs(wa,{value:i.modelId,className:"relative flex-nowrap",style:{height:"var(--list-height)"},children:[n.jsx("div",{className:w("z-20 sticky top-0 left-0 right-0 px-1 py-3","mlg:absolute mlg:top-auto mlg:bottom-0"),children:N.editItemsAction}),n.jsx(vl,{className:"-mt-2 mlg:mt-0 mlg:mb-14 w-full min-h-[140px]",totalCount:g,data:h,endReached:y,itemContent:($,M)=>{const{title:I,type:z,media:A,id:V,refCount:Z,isPrivate:L,latestAvailableVersion:O}=M,Q=B&&$<=5;return n.jsx(Aa,{control:N.editing?n.jsx(To,{className:w("z-10 absolute top-2 right-2 p-0 rounded text-primary","bg-background translate-x-1/2 -translate-y-1/2"),checked:N.selectedItems.includes(V),onChange:()=>{N.toggleSelected(V)},sx:{borderRadius:"3px"}}):n.jsx(ln,{className:"sr-only",onChange:()=>{o(K=>({...K,type:"bookmark",versionId:(O==null?void 0:O.id)||null,modelId:V,name:I,openDetail:!0}))}}),selected:!N.editing&&i.modelId===V,modelId:V,modelType:z,title:I,media:A,badge:n.jsx(Ea,{model:M}),showRefCount:!L,refCount:Z,onClick:()=>{N.editing||i.modelId!==V||o(K=>({...K,type:"bookmark",openDetail:!0}))},extraComp:n.jsx(n5,{className:"absolute right-0 top-0 translate-y-[3px] -translate-x-[3px]",pinned:Q})},V)},overscan:200,components:{Footer:C,List:li}})]})});function Jp(e){const[t,a]=u.useContext(Ce),[s]=u.useContext(Ce),{data:i,isValidating:o}=Xo({feed:"preset",type:R.AnyModel}),l=u.useMemo(()=>ce(i).sort((c,d)=>(d.extra.weightOffset??0)-(c.extra.weightOffset??0)),[((i==null?void 0:i.edges)??[]).length]),r=u.useMemo(()=>l.filter(c=>(c.title??"").toLowerCase().includes(t.searchKeyword.toLowerCase())),[l,t.searchKeyword]);return r.length===0?o?n.jsx("div",{className:"w-full min-h-[360px] h-[var(--list-height)]",children:n.jsx(je,{fullHeight:!0})}):n.jsx(Dt,{actionType:"search",scene:"model",className:"h-[var(--list-height)]",onGotoClick:()=>e.setTabVal("market")}):n.jsx(n.Fragment,{children:n.jsxs(wa,{value:s.modelId,style:{height:"var(--list-height)"},children:[n.jsx(li,{children:r.map(c=>{const{title:d,type:m,tags:f,media:h,id:x,refCount:g,latestAvailableVersion:v}=c;return n.jsx(Aa,{control:n.jsx(ln,{className:"sr-only",onChange:()=>{a(p=>({...p,type:"preset",versionId:(v==null?void 0:v.id)||null,modelId:x,name:d,openDetail:!0}))}}),selected:t.modelId===x,modelId:x,modelType:m,modelTags:f,title:d,media:h,badge:n.jsx(Ea,{model:c}),showRefCount:!0,refCount:g,onClick:()=>{t.modelId===x&&a(p=>({...p,type:"preset",openDetail:!0}))}},x)})}),t.searchKeyword.length>0&&n.jsx(Dt,{actionType:"search",scene:"model",onGotoClick:()=>e.setTabVal("market")})]})})}function e5(){const[{marketOrder:e}]=u.useContext(Ce),[t,a]=u.useContext(Ce),[s,i]=u.useState([]),o=u.useRef(),[l,r]=u.useState(0),[c,d]=u.useState(!1),[m]=Qo(),[f]=$s(),h=36,[x,g]=et(async(k=h,b,j,S)=>{var y,C,N,B;try{const $=Yo(j),M=Rl({before:$?void 0:o.current,after:$?o.current:void 0,pageSize:k,isPosSeq:$}),I=S&&wp(S),z=await J.listGenerationModels({...Array.isArray(I)?{types:I}:{type:I||R.AnyModel},baseModelId:/^\d+$/.test((S==null?void 0:S.base)??"")?S.base:void 0,feed:km(j),orderBy:jm(j),timeRange:S!=null&&S.time?Cm(S.time):void 0,keyword:b||void 0,isNsfw:m?void 0:!1,...M}),A=z==null?void 0:z.generationModels,V=$?ce(A):ce(A).reverse();i(Z=>Rs([...Z,...V],"id")),r((A==null?void 0:A.totalCount)??0),d($?!!((y=A==null?void 0:A.pageInfo)!=null&&y.hasNextPage):!!((C=A==null?void 0:A.pageInfo)!=null&&C.hasPreviousPage)),o.current=$?(N=A==null?void 0:A.pageInfo)==null?void 0:N.endCursor:(B=A==null?void 0:A.pageInfo)==null?void 0:B.startCursor}catch($){console.error("Error when loading models:",$)}},[m]);u.useEffect(()=>{o.current=void 0,r(0),d(!1),i([]),g(void 0,t.searchKeyword,e,t.marketFilters)},[t.searchKeyword,t.marketFilters,e]);const v=u.useCallback(()=>{c&&g(void 0,t.searchKeyword,e,t.marketFilters)},[t.searchKeyword,t.marketFilters,e,c]),p=u.useCallback(()=>x?n.jsx(Oe,{className:"!my-1"}):t.searchKeyword.length>0?n.jsx(Dt,{actionType:"go",scene:"model",className:"pb-20"}):null,[x,t.searchKeyword]);return s.length===0?x?n.jsx("div",{className:"w-full min-h-[360px] h-[var(--list-height)]",children:n.jsx(je,{fullHeight:!0})}):n.jsx(Dt,{actionType:"go",scene:"model",className:"h-[var(--list-height)]",showDescription:!0}):n.jsx(wa,{value:t.modelId,style:{height:"var(--list-height)"},children:n.jsx(vl,{className:"w-full min-h-[140px]",totalCount:l,data:s,endReached:v,itemContent:(k,b)=>{const{title:j,type:S,tags:y,media:C,id:N,refCount:B,latestAvailableVersion:$}=b;return n.jsx(Aa,{control:n.jsx(ln,{className:"sr-only",onChange:()=>{a(M=>({...M,type:"market",versionId:($==null?void 0:$.id)||null,modelId:N,name:j,openDetail:!0}))}}),selected:t.modelId===N,modelId:N,modelType:S,modelTags:y,title:j,media:C,badge:n.jsx(Ea,{model:b}),blurCover:Sm(b)&&f,showRefCount:!0,refCount:B,onClick:()=>{t.modelId===N&&a(M=>({...M,type:"market",openDetail:!0}))}},N)},overscan:200,components:{Footer:p,List:li}})})}function Aa(e){const{control:t,selected:a,disabled:s,modelId:i,modelType:o,modelTags:l,title:r,media:c,badge:d,preview:m=xt(c),blurCover:f,showRefCount:h,refCount:x,onClick:g,extraComp:v}=e,{data:{discountModelIds:p={}}={}}=Lt(),k=u.useCallback(b=>{var j;b.button!==0||b.ctrlKey||b.metaKey||b.shiftKey||(b.preventDefault(),(j=b.currentTarget.parentElement)==null||j.click())},[]);return i?n.jsx(Eo,{className:"group/label relative m-0 block isolate h-fit",disableTypography:!0,value:i,disabled:s,title:r,control:t,onClick:g,label:n.jsxs("a",{className:"flex flex-col items-center",tabIndex:-1,href:`/model/${i}`,target:"_blank",onClick:k,children:[n.jsxs("div",{className:w("w-full aspect-square relative rounded-xl m-[3px] overflow-hidden","ring-2 ring-offset-1 ring-offset-background-light",a?"ring-purple-400 dark:ring-purple-600":"ring-transparent","group-[&:has(:focus-visible)]/label:ring-purple-600","dark:group-[&:has(:focus-visible)]/label:ring-purple-400"),children:[n.jsx("img",{src:m,alt:"",loading:"lazy",decoding:"async",className:"size-full object-top object-cover"}),f&&n.jsx(fp,{className:"rounded-xl"}),n.jsx(t5,{modelType:o,modelTags:l}),d,i in p&&n.jsxs("span",{className:"absolute top-0 right-0 px-2 text-white text-xs leading-4 tabular-nums rounded-tr-[0.69rem] rounded-bl-[0.69rem] bg-green-700 shadow",children:[p[i]-100,"%"]}),h&&x!=null&&n.jsx(jp,{refCount:x}),v]}),n.jsx("p",{className:w("pt-1 h-10 text-center text-xs leading-5 font-semibold","line-clamp-2 break-all hyphens-auto"),children:r})]})}):n.jsx("div",{className:"aspect-square p-3 grid place-content-center text-center text-primary-light border border-background-light rounded-xl",children:"Model Deleted"})}function t5(e){const{t}=D(["market"]),{modelType:a,modelTags:s}=e,i=a?Ml(t,{type:a,tags:s},{ignoreVersionStatus:!0}):void 0;return i?n.jsx("span",{className:w(i==null?void 0:i.className,"text-black text-xs leading-4","absolute top-0 left-0 translate-x-[3px] translate-y-[3px] px-2 shadow rounded-lg"),children:i==null?void 0:i.label}):null}function n5(e){if(!e.pinned)return null;const t=n.jsx(Cd,{className:"size-3 text-white rotate-45 -translate-x-px translate-y-px"});return n.jsx("span",{className:w("rounded-full p-0.5 bg-purple-400",e.className),children:t})}function Ea(e){return Nm(e.model)?n.jsx("div",{className:"bg-gradient-purple-pink absolute w-full h-4 bottom-[20%] translate-y-[20%] -right-[25%] -rotate-45 flex items-center justify-center text-xs font-semibold text-gray-50 shadow-md",children:"Alpha"}):null}const a5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})}),s5=e=>n.jsxs("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:[n.jsx("path",{fill:"currentColor",d:"M21 5c-1.11-.35-2.33-.5-3.5-.5c-1.95 0-4.05.4-5.5 1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5c.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5c1.35-.85 3.8-1.5 5.5-1.5c1.65 0 3.35.3 4.75 1.05c.1.05.15.05.25.05c.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5c-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5c1.2 0 2.4.15 3.5.5v11.5z"}),n.jsx("path",{fill:"currentColor",d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99c.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24c-1.7 0-3.24.3-4.5.83zm4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99c.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"})]}),i5=e=>n.jsx("svg",{viewBox:"0 0 64 64",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"#fbb11c",d:"M43.4.159L12.06 28.492l24.31 7.538L18.12 64l35.26-33.426l-18.978-8.464z"})}),o5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsxs("g",{fill:"none",children:[n.jsx("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),n.jsx("path",{fill:"currentColor",d:"M20 14a1 1 0 0 1 .117 1.993L20 16H6.414l2.293 2.293a1 1 0 0 1-1.32 1.497l-.094-.083l-3.83-3.83c-.665-.664-.239-1.783.663-1.871L4.241 14H20Zm-4.707-9.707a1 1 0 0 1 1.32-.083l.094.083l3.83 3.83c.665.664.239 1.783-.663 1.871l-.115.006H4a1 1 0 0 1-.117-1.993L4 8h13.586l-2.293-2.293a1 1 0 0 1 0-1.414Z"})]})}),l5="generator::model-select-list-mode";function r5(){return Jo(l5,"preset")}function cb(e){const[t]=r5();return n.jsxs(Nd,{children:[n.jsx(c5,{...e}),n.jsx(d5,{mode:t})]})}function db(e){const{t}=D(["generation"]),{mode:a,setMode:s,className:i}=e,{beingMember:o}=ue(),l=o?n.jsx(o5,{className:"text-feat-brand-100"}):n.jsx(ua,{className:"size-4"}),r=u.useCallback(()=>{o?s(c=>c==="preset"?"bookmark":"preset"):ca({defaultMode:"plans",trackingLocation:"genpage-sidebar-bookmark"})},[o]);return u.useEffect(()=>{!o&&a==="bookmark"&&s("preset")},[o,a]),n.jsx(W,{variant:"ghost",icon:l,onPress:r,className:w(i,"px-1 py-[2px] font-semibold text-xs gap-1 focus:outline-1 focus:outline-purple-400"),children:n.jsx("span",{className:w(a==="preset"&&o&&"text-theme-primary"),children:t(a==="preset"?"generation:model.select.mode.bookmark":"generation:model.select.mode.preset")})})}function c5({modelId:e}){const{data:t,isValidating:a}=zt(e||void 0),s=$m(t==null?void 0:t.extra);return n.jsx(n.Fragment,{children:e&&n.jsx(Md,{modelVersionId:e,modelVersion:t,loading:a,modelSupportsLightning:s})})}function Md(e){var f;const{modelVersion:t,loading:a,modelVersionId:s}=e,{t:i}=D(["generation"]),o=xt(t==null?void 0:t.media),{values:l,setValues:r}=Ke(),{beingMember:c}=ue(),d=l.lightning?"lightning":"quality",m=u.useCallback(h=>{var x,g;if(h==="quality"){const v=el({versionExtra:t==null?void 0:t.extra,modelExtra:(x=t==null?void 0:t.model)==null?void 0:x.extra,modelId:(g=t==null?void 0:t.model)==null?void 0:g.id},{skipEmptyFields:!0,enableLightningMode:!1});r(p=>({...p,..._e(v,["cfgScale","samplingSteps"]),lightning:!1}))}else r(v=>({...v,...Mm}))},[t]);return n.jsxs("div",{className:"flex flex-row items-center justify-start px-4 py-2 bg-background-light rounded-xl gap-4",children:[n.jsx("div",{className:"shrink-0 border border-px rounded-xl w-16 h-16 mb-1",children:o&&n.jsx("img",{src:o,alt:"",loading:"lazy",decoding:"async",className:"rounded-xl w-full h-full object-cover"})}),n.jsx("p",{className:"font-semibold text-sm break-all hyphens-auto",children:t?n.jsxs(n.Fragment,{children:[n.jsx(ie,{to:`/model/${t.modelId}`,target:"_blank",children:(f=t.model)==null?void 0:f.title}),n.jsx(ie,{to:`/model/${t.modelId}/${t.id}`,target:"_blank",className:"block font-semibold font-mono text-xs text-primary-light truncate",children:t.name}),e.modelSupportsLightning&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ax,{className:"min-w-16",items:[{key:"lightning",name:i("generation:model.lightning.mode.lightning"),startIcon:n.jsx(i5,{className:"size-4"})},{key:"quality",name:i("generation:model.lightning.mode.quality"),startIcon:n.jsx(ua,{className:"size-4"})}],selectedKey:d,onSelectionChange:h=>{if(h==="quality"&&!c){xd({dialogBody:n.jsx(P,{i18nKey:"membership:membership-only-feature-dialog.content.lightning-mode-quality"}),trackingLocation:"genpage-sidebar-model"});return}m(h)},children:h=>n.jsx(Ex,{id:h.key,startIcon:h.startIcon,children:h.name})}),n.jsx(ma,{TooltipProps:{placement:"start"},children:n.jsx("p",{className:"p-4 text-sm w-80 whitespace-pre-wrap",children:n.jsx(P,{i18nKey:"generation:model.lightning.help.description",components:{br:n.jsx("br",{}),b:n.jsx("b",{})}})})})]})]}):a?n.jsx(Po,{size:"62px"}):n.jsx("span",{className:"w-full italic",children:i("generation:model.unavailable",{modelName:s})})})]})}function d5(e){const[t,a]=u.useContext(Ce),{values:s,setValues:i}=Ke(),{modelId:o}=s,[l,r]=u.useState(!1),{t:c}=D(["artwork","action","generation"]),{data:d,isLoading:m}=Im(e.mode==="bookmark"?{modelType:R.AnyModel,first:6}:void 0),{data:f}=zt(o??void 0),h=ka(f==null?void 0:f.modelType),{modelList:x,isLoading:g}=B1(),v=ce(d),p=e.mode==="preset"?x:v,k=e.mode==="preset"?g:m;u.useEffect(()=>{f&&o&&o!==t.versionId&&a(y=>({...y,searchKeyword:"",searchKeywordForInput:"",versionId:o,type:"preset",modelId:f.modelId,openDetail:!1}))},[o,t.versionId,f]);const b=tl(s.upscale),j=u.useCallback(y=>{const{id:C,title:N,type:B,latestAvailableVersion:$,extra:M}=y,I=$==null?void 0:$.id;if(!I)return;T("outer_model_click",{modelId:C,location:e.mode}),a(L=>({...L,type:"preset",versionId:($==null?void 0:$.id)||null,modelId:C,name:N,openDetail:!1}));const z=$==null?void 0:$.extra,A=M,{values:V,hasResetHires:Z}=yi({versionId:I,modelId:C,versionExtra:z,modelType:B,modelExtra:A,currentModelType:f==null?void 0:f.modelType},{hiresEnabled:b,skipEmptyFields:!0,enableLightningMode:!0});i(L=>({...L,...V})),Z&&G.info(c("generation:hires.notice.settings-reset-by-model-change"))},[e.mode,b,f==null?void 0:f.modelType]),S=u.useCallback(y=>{var B;const{values:C,hasResetHires:N}=yi({modelId:y.modelId,versionId:y.id,versionExtra:y.extra,modelType:y.modelType,modelExtra:(B=y.model)==null?void 0:B.extra,currentModelType:f==null?void 0:f.modelType},{hiresEnabled:b,skipEmptyFields:!0,enableLightningMode:!0});i($=>({...$,...C})),N&&G.info(c("generation:hires.notice.settings-reset-by-model-change"))},[h,b,f==null?void 0:f.modelType]);return n.jsxs(n.Fragment,{children:[n.jsx(Te,{className:"gap-2",children:p.length<1?k?n.jsx(bl,{}):n.jsx(Cp,{className:"h-[var(--list-height)] py-4 px-1 text-center text-neutral-400 dark:text-neutral-400 text-sm",mode:e.mode}):n.jsxs(wa,{value:o?t.modelId:"uploaded",className:"grid grid-cols-3 gap-3 mt-2 w-full items-start justify-items-stretch",children:[p.slice(0,6).map(y=>{var C;return n.jsx(Aa,{control:n.jsx(ln,{className:"sr-only",onChange:()=>{j(y)}}),selected:o===((C=y.latestAvailableVersion)==null?void 0:C.id),modelId:y.id,modelType:y.type,modelTags:y.tags,title:y.title,media:y.media,badge:n.jsx(Ea,{model:y})},y.id)}),n.jsx(ln,{className:"hidden",value:"uploaded"})]})}),n.jsx(Pm,{variant:"grayish-sidebar",className:"capitalize",onClick:()=>{T("show_more_model_click",{location:e.mode}),r(!0)},children:c("generation:model.select.show-more-model")}),n.jsx($d,{open:l,onClose:()=>r(!1),initState:t,onVersionSelected:y=>{S(y)}})]})}function u5(e){const t=e.help?n.jsx(ma,{TooltipProps:{placement:"start",UNSTABLE_portalContainer:document.getElementById("workbench-layout-overlays")},...e.helpIconProps,children:e.help}):null;return n.jsx(Dm,{initial:!1,children:n.jsxs(Vn.section,{className:w("p-4 flex flex-col text-sm",e.className),style:e.style,layout:!0,transition:{duration:.1},children:[e.title&&n.jsxs(Vn.header,{className:"flex items-center gap-2 relative",layout:!0,transition:{duration:.1},children:[n.jsx("h2",{className:w("flex-none","font-semibold"),children:e.title}),t,e.titleSlot&&e.titleSlot,e.toggle!=null&&n.jsx(nl,{isSelected:e.toggle,onChange:e.onToggle,className:"flex-none ml-auto"})]}),e.children&&e.toggle!==!1&&n.jsx(Vn.div,{className:w("flex flex-col gap-2",e.title&&"mt-2"),layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:e.children})]})})}function ub(){const{t:e}=D(["artwork"]);return n.jsx(u5,{title:e("generation:size.label"),children:n.jsx(m5,{})})}function m5(){var d;const{values:{width:e,height:t,modelId:a},setValues:s}=Ke(),{beingMember:i}=ue(),{availableSidebarSizes:o,presetSizes:l}=As(),r=(d=Es(a))==null?void 0:d.modelType,c=u.useCallback(()=>{if(!r)return;const m=ka(r),{allowed:f}=al({width:e,height:t,usingXLModel:m,isMember:i});if(!f)s(h=>({...h,width:o[0].width,height:o[0].height}));else{const h=Tm(m);s(x=>({...x,width:wi(e||h.width),height:wi(t||h.height)}))}},[o,l,e,t,i,r]);return u.useEffect(()=>{c()},[e,t,r]),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(h5,{})})}function ea(e){const{value:t,onChange:a,label:s,className:i,showMembershipBorder:o,...l}=e,[r,c]=u.useState(String(t));u.useEffect(()=>void c(String(t)),[t]);function d(){const m=Number(r),f=isNaN(m)?512:m;a(f),c(String(f))}return n.jsxs(fs,{value:r,type:"text",className:i,...l,children:[n.jsx(Pe,{children:s}),n.jsx("div",{className:w("w-full py-px px-px rounded-[11px]",o&&"bg-gradient-purple-pink"),children:n.jsx(zm,{variant:"rounded-normal",inputMode:"numeric",onChange:m=>c(m.target.value),onBlur:d,value:r,className:w("w-full rounded-[10px]",o&&"border-transparent")})})]})}function f5(e){const{availablePresetSizes:t}=As(),{t:a}=D(["generation"]);return n.jsxs(n.Fragment,{children:[n.jsx(Pe,{className:"block mb-2",children:a("generation:size.preset-menu.label")}),n.jsx("div",{className:"grid grid-cols-2 gap-[10px] min-h-8 py-1 px-1 overflow-y-auto",children:t.map(s=>{var i,o;return n.jsx(ri,{className:"flex items-center gap-1 py-[10px] px-2 relative rounded-[10px] w-full",width:s.width,height:s.height,memberOnly:(i=s.extraProps)==null?void 0:i.memberOnly,label:(o=s.extraProps)==null?void 0:o.label,selected:e.width===s.width&&e.height===s.height,onPress:()=>e.onChange({width:s.width,height:s.height})},`${s.width}-${s.height}`)})})]})}function h5(){const{t:e}=D(["generation"]),{beingMember:t}=ue(),{setValues:a,values:s}=Ke(),{availableSidebarSizes:i}=As();function o(c){a(d=>({...d,width:c.width,height:c.height})),l()}const l=u.useCallback(()=>{tl(s.upscale)&&(a(c=>({...c,...Bm})),G.info(e("generation:hires.notice.settings-reset-by-size-change")))},[s.upscale]),r=u.useMemo(()=>i.some(c=>c.width===s.width&&c.height===s.height),[i,s.width,s.height]);return n.jsxs("div",{className:"w-full gap-2 grid grid-cols-4 mlg:flex",children:[i.map(c=>{var d,m;return n.jsx(ri,{className:"flex flex-col gap-1 rounded-lg items-center mlg:w-[66px]",label:(d=c.extraProps)==null?void 0:d.label,memberOnly:(m=c.extraProps)==null?void 0:m.memberOnly,width:c.width,height:c.height,onPress:()=>{var f;(f=c.extraProps)!=null&&f.memberOnly&&!t?ca({defaultMode:"plans",trackingLocation:"dimension-size"}):o({width:c.width,height:c.height})},selected:c.width===s.width&&c.height===s.height},`${c.width}-${c.height}`)}),n.jsx(x5,{custom:!0,width:s.width,height:s.height,onConfirm:c=>{o(c)},moreSelected:!r},`${s.width}-${s.height}`)]})}function ri(e){const{width:t=0,height:a=0}=e,s=e.iconType==="more"&&!e.selected?"…":`${t}×${a}`,i=Math.max(t,a);return n.jsxs(Ns,{className:w("py-4 bg-neutral-100 dark:bg-neutral-700 ring-1 relative cursor-pointer hover:shadow-md active:shadow-md",e.selected?"ring-neutral-700 dark:ring-neutral-300":"ring-neutral-50 dark:ring-neutral-900",e.className),style:e.style,onPress:e.onPress,children:[n.jsx("div",{className:"flex-none w-5 h-5 flex justify-center items-center relative",children:e.iconType==="more"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-dashed border-[2px] border-zinc-500 dark:border-zinc-300 rounded-sm",style:{width:"100%",height:"66%"}}),n.jsx("div",{className:"absolute border-[2px] border-zinc-500 dark:border-zinc-300 ring-[1.5px] dark:ring-neutral-700 ring-neutral-100 rounded-sm bg-neutral-100 dark:bg-neutral-700",style:{width:"66%",height:"100%"}})]}):n.jsx("div",{className:"border-2 dark:border-zinc-300 border-zinc-500 rounded-sm",style:{width:t/i*100+"%",height:a/i*100+"%"}})}),n.jsx(Pe,{className:"font-semibold",children:e.label}),n.jsx("span",{className:"text-[11px] leading-3 text-neutral-500 dark:text-neutral-400",children:s}),e.memberOnly&&n.jsx(ua,{className:"absolute top-0 right-0 -translate-x-0.5 translate-y-0.5 size-4"})]})}function x5(e){var k;const{custom:t,onConfirm:a}=e,{beingMember:s}=ue(),{t:i}=D(["generation","action"]),[o,l]=u.useState(e.width??512),[r,c]=u.useState(e.height??512),{values:{modelId:d}}=Ke(),m=(k=Es(d))==null?void 0:k.modelType,f=ka(m),{allowed:h,memberOnly:x}=al({width:o,height:r,usingXLModel:f,isMember:s}),g=u.useCallback(b=>{const j=()=>{a==null||a({width:o,height:r}),b()};x&&!s?(ca({afterPurchaseSuccess:j,defaultMode:"plans",trackingLocation:"dimension-size"}),b()):j()},[s,x,o,r]),[v,p]=u.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(ri,{className:"flex flex-col gap-1 rounded-lg items-center mlg:w-[66px]",label:"More",width:e.width,height:e.height,iconType:"more",selected:e.moreSelected,onPress:()=>p(!0)}),n.jsxs(Ue,{open:v,onClose:()=>p(!1),dismissable:!0,className:"mlg:w-80",children:[n.jsx(Ao,{heading:i("generation:size.dialog.title"),children:({heading:b})=>n.jsxs(n.Fragment,{children:[b,n.jsx("p",{className:"mt-2 text-neutral-500",children:i("generation:size.dialog.subtitle")})]})}),n.jsxs(Am,{className:"flex flex-col gap-2",children:[!h&&!x&&n.jsx(Pl,{type:Dl.Warning,children:i(f?"generation:size.custom-size.size-invalid-sdxl":"generation:size.custom-size.size-invalid-sdv1")}),n.jsxs("section",{className:"flex items-center gap-2",children:[n.jsx(ea,{value:o,onChange:b=>l(b),isDisabled:!t,className:"flex-1 min-w-0",label:i("generation:size.width"),showMembershipBorder:x,name:"width"}),n.jsx("span",{className:"translate-y-2",children:"×"}),n.jsx(ea,{value:r,onChange:b=>c(b),isDisabled:!t,className:"flex-1 min-w-0",label:i("generation:size.height"),showMembershipBorder:x,name:"height"})]}),n.jsx("section",{className:"min-h-0 flex-1 flex flex-col",children:n.jsx(f5,{onChange:b=>{l(b.width),c(b.height)},width:o,height:r})})]}),n.jsx(Em,{children:({close:b})=>n.jsx(W,{variant:"outlined",onPress:()=>g(b),className:w("w-full transition duration-500",x&&"bg-gradient-purple-pink text-white border-white dark:border-modal-background hover:shadow-md active:shadow-md"),disabled:!h&&!x,children:i("action:confirm")})})]})]})}const mb=function(e){return n.jsx(P5,{children:n.jsx(g5,{...e})})},g5=function({iconOnly:e=!1,className:t,style:a,iconProps:s={}}){const{t:i}=D(["artwork"]),[{open:o},l]=u.useContext(Pd);return n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:t,style:a,onClick:()=>{T("notes_click"),l({open:!0})},children:[n.jsx(s5,{...s}),n.jsx("span",{className:w({hidden:e}),children:i("artwork:note.notes")})]}),n.jsx(p5,{open:o,onClose:()=>l({open:!1})})]})};function p5(e){const{data:t,isValidating:a,mutate:s}=Lm({type:is.Note,last:10}),{data:i}=Fm(is.Note),{t:o}=D(["artwork"]),l=u.useMemo(()=>ce(t).reverse(),[t]),r=(t==null?void 0:t.totalCount)??0,d=(i??0)<=r,m=l.length<1?a?n.jsx(Oe,{}):n.jsxs("div",{className:"w-full flex flex-col gap-2 items-center justify-center py-12",children:[n.jsx(Cn,{}),n.jsx("p",{children:o("artwork:note.saved-notes.no-notes")})]}):n.jsx("div",{className:"w-full px-4 flex flex-col gap-1 min-w-[400px] overflow-y-auto",children:l.map(f=>n.jsx(v5,{note:f},f.id))});return n.jsx(n.Fragment,{children:n.jsxs(I5,{children:[n.jsxs(Ds,{open:e.open,onClose:e.onClose,maxWidth:"lg",children:[n.jsxs(Bs,{sx:{m:0,p:2},children:[n.jsx("p",{className:"font-semibold text-xl",children:o("artwork:note.saved-notes.title")}),n.jsx("p",{className:"text-xs",children:o("artwork:note.saved-notes.description")}),n.jsx(he,{"aria-label":"close",onClick:e.onClose,sx:{position:"absolute",right:8,top:8},children:n.jsx(He,{})})]}),m,n.jsx("div",{className:"w-full flex p-4 gap-4 justify-between",children:n.jsx(b5,{limitReached:d})})]}),n.jsx(w5,{refreshList:s})]})})}function b5(e){const{t}=D(["artwork"]),[,a]=u.useContext($n);return e.limitReached?n.jsxs(n.Fragment,{children:[n.jsx(ki,{title:t("artwork:note.notice.max-limit-reached"),placement:"top",children:n.jsx(le,{className:"font-bold cursor-not-allowed opacity-20",variant:"outlined",disableRipple:!0,children:t("artwork:note.add-new-note")})}),n.jsx(ki,{title:t("artwork:note.notice.max-limit-reached"),placement:"top",children:n.jsx(le,{className:"font-bold cursor-not-allowed opacity-20",variant:"contained",disableRipple:!0,children:t("artwork:note.save-current-params")})})]}):n.jsxs(n.Fragment,{children:[n.jsx(le,{className:"font-bold",variant:"outlined",onClick:()=>{T("add_note_click"),a({open:!0,openFrom:"new"})},children:t("artwork:note.add-new-note")}),n.jsx(le,{className:"font-bold",variant:"contained",onClick:()=>{T("save_current_click"),a({open:!0,loadFromTaskForm:!0,openFrom:"generate"})},children:t("artwork:note.save-current-params")})]})}function v5(e){const{t}=D(["artwork","user","common","action"]),a=e.note.data.title||"(Empty Title)",s=e.note.data.prompts||"(Empty Prompts)",[,i]=u.useContext($n),[,o]=u.useContext(Pd),{data:l}=sl(),{setValues:r}=Ke(),{data:{samplingMethods:c}={}}=Lt(),d=async()=>{try{await bn({title:t("artwork:note.apply-note.title"),description:t("artwork:note.apply-note.desc"),cancelLabel:t("action:cancel"),confirmLabel:t("action:confirm")});const{baseImageMediaId:m}=e.note.data,{media:f}=m?await J.getMedia({id:m}):{media:void 0};r({...l,..._0({media:f,noteContent:e.note.data,samplingMethods:c,extraInitialValues:{seed:e.note.data.seed??""}})}),T("prompt_notes_selected"),o({open:!1})}catch(m){if(m===Tt)return}};return n.jsxs("div",{role:"button",className:"flex flex-col items-start rounded-xl hover:bg-neutral-200 px-4 py-2 transition-all group",onClick:d,children:[n.jsx("h5",{className:"font-semibold",children:a}),n.jsxs("div",{className:"inline-flex w-full items-center",children:[n.jsx("p",{className:"text-neutral-400 font-light line-clamp-2 max-w-[400px]",children:s}),n.jsx(he,{className:"shrink-0 w-12 h-12 ml-auto",onClick:m=>{m.stopPropagation(),T("edit_note_click"),i({open:!0,noteId:e.note.id,openFrom:"edit"})},children:n.jsx(U1,{className:"size-5"})})]})]})}const y5=({width:e,height:t,baseImage:a,prompts:s,negativePrompts:i,modelId:o,samplingMethod:l,samplingSteps:r,cfgScale:c,seed:d})=>({width:e,height:t,baseImage:a,prompts:s,negativePrompts:i,modelId:o,samplingMethod:l,samplingSteps:r,cfgScale:c,seed:d});function w5(e){const[{noteId:t,open:a,loadFromTaskForm:s},i]=u.useContext($n),{values:o}=Ke(),l=u.useRef(!1),{data:r,isValidating:c}=Rm(t&&!s?t:void 0);u.useEffect(()=>{if(!l.current)return!c&&r&&(l.current=!0),()=>{l.current=!1}},[c,r,l]);const d=s?y5(o):r==null?void 0:r.data;return n.jsx(Id,{open:a,noteId:t,onClose:()=>i({open:!1}),refreshList:e.refreshList,prefilledData:d,isLoading:!l.current&&c})}function Id(e){const[t]=u.useContext($n),{t:a}=D(["artwork"]),{open:s,noteId:i,isLoading:o,prefilledData:l}=e,r=()=>{var d;(d=e.refreshList)==null||d.call(e),e.onClose()},c=e.openFrom??t.openFrom;return n.jsxs(Ds,{open:s,onClose:r,children:[n.jsxs(Bs,{sx:{m:0,p:2},children:[n.jsx("p",{className:"font-semibold text-xl",children:a(i?"artwork:note.edit-note":"artwork:note.new-note")}),n.jsx(he,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8},children:n.jsx(He,{})})]}),n.jsx(qo,{className:"min-w-[400px]",children:o?n.jsx(Oe,{}):n.jsxs(M5,{defaultValue:l,children:[n.jsx(j5,{}),n.jsx(Zo,{className:"justify-between",children:n.jsx(k5,{noteId:i,onSuccess:r,openFrom:c})})]})})]})}function k5(e){const{t}=D(["action","generation"]),[a,s]=u.useContext(gt),[i,o]=et(async()=>{var d;try{const m=a.baseImage&&await G.promise(a.baseImage.toMedia({onCompressed(h){s(x=>({...x,baseImage:h}))}}),{pending:`${t("generation:submit.notice.uploading-image")}`}),f=await J.upsertMySetting({id:e.noteId,type:is.Note,data:{...a,baseImage:void 0,size:void 0,baseImageMediaId:m==null?void 0:m.id}});T("save_note_click",{page:e.openFrom}),G.success(e.noteId?"Successfully updated":"Successfully created"),(d=e.onSuccess)==null||d.call(e)}catch(m){G.error(t("artwork:note.notice.failed-to-save")+t("common:punctuations.colon")+" "+m.message)}},[a]),[l,r]=et(async()=>{var d;if(e.noteId)try{const m=await J.deleteMySetting({id:e.noteId});G.success("Successfully deleted"),T("delete_note_click"),(d=e.onSuccess)==null||d.call(e)}catch(m){G.error(m.message)}},[a]),c=i||l;return n.jsxs(n.Fragment,{children:[e.noteId&&n.jsx(W,{color:"danger",busy:c,disabled:c,onPress:r,icon:n.jsx(a5,{className:"size-5"}),children:t("action:delete.label")}),n.jsx(W,{busy:c,disabled:c,onPress:o,variant:"filled",className:"ml-auto",children:t("action:save")})]})}function j5(){const{t:e}=D(["artwork","generation"]),[t,a]=u.useContext(gt),s=(i,o)=>{a(l=>({...l,[o]:i.target.value}))};return n.jsxs("form",{noValidate:!0,autoComplete:"off",onSubmit:i=>{i.preventDefault()},className:"py-4 flex flex-col gap-4",children:[n.jsxs(Te,{fullWidth:!0,children:[n.jsx(Nt,{htmlFor:"title-input",children:e("artwork:title")}),n.jsx(Qt,{value:t.title,onChange:i=>s(i,"title"),id:"title-input",label:e("artwork:title")})]}),n.jsxs(Te,{fullWidth:!0,children:[n.jsx(Nt,{htmlFor:"prompts-input",children:e("artwork:prompts.prompts")}),n.jsx(Qt,{placeholder:"Enter prompts",id:"prompts-input",value:t.prompts,onChange:i=>s(i,"prompts"),label:e("artwork:prompts.prompts")})]}),n.jsxs(Te,{fullWidth:!0,children:[n.jsx(Nt,{htmlFor:"negative-prompts-input",children:e("generation:negative-prompts.label")}),n.jsx(Qt,{placeholder:"Enter negative prompts",id:"negative-prompts-input",value:t.negativePrompts,onChange:i=>s(i,"negativePrompts"),label:e("generation:negative-prompts.label")})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 items-center",children:[n.jsx(C5,{}),n.jsx(S5,{}),n.jsx(N5,{})]}),n.jsx("div",{className:"w-[50%]",children:n.jsx($5,{})})]})}function C5(){const[e,t]=u.useState(!1),{t:a}=D(["artwork"]),[s,i]=u.useContext(gt),{modelId:o}=s,{data:l,isValidating:r}=zt(o||void 0),c={type:null,versionId:(l==null?void 0:l.id)||null,modelId:(l==null?void 0:l.modelId)||null,searchKeyword:"",searchKeywordForInput:"",openDetail:!1,tab:"preset"};return n.jsxs("div",{className:"max-w-[500px]",children:[n.jsx("label",{className:"text-stone-500 text-sm mb-1",children:a("artwork:note.change-model.label")}),n.jsx("button",{onClick:d=>{d.target instanceof HTMLAnchorElement||t(!0)},className:"w-full text-start",children:n.jsx(Md,{modelVersion:l,modelVersionId:o,loading:r})}),n.jsx($d,{onClose:()=>t(!1),open:e,initState:c,onVersionSelected:d=>{i(m=>({...m,modelId:d.id}))}})]})}function S5(){const{t:e}=D(["artwork"]),[{width:t,height:a},s]=u.useContext(gt),i=o=>{s(l=>({...l,width:o.width,height:o.height}))};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{value:t,onChange:o=>s(l=>({...l,width:o})),className:"flex-1",label:e("generation:size.width")}),n.jsx("span",{children:"×"}),n.jsx(ea,{value:a,onChange:o=>s(l=>({...l,height:o})),className:"flex-1",label:e("generation:size.height")}),n.jsx(ga,{value:"",displayEmpty:!0,renderValue:()=>e("generation:size.preset-menu.label"),size:"small",className:w("text-center flex-none"),children:_m.map(o=>{const l=Math.max(o.width,o.height);return n.jsxs(Pt,{className:"gap-2",onClick:()=>i(o),children:[n.jsx("div",{className:"flex-none w-5 h-5 flex justify-center items-center",children:n.jsx("div",{className:"bg-zinc-300 dark:bg-zinc-500 rounded-sm",style:{width:o.width/l*100+"%",height:o.height/l*100+"%"}})}),o.width,"×",o.height]},`${o.width}-${o.height}`)})})]})}function N5(){const{t:e}=D(["generation","common"]),[t,a]=u.useContext(gt),{data:{samplingMethods:s=[]}={},isValidating:i}=Lt();return n.jsxs(n.Fragment,{children:[n.jsxs(Te,{children:[n.jsx("label",{htmlFor:"sampling-steps-select",className:"text-sm text-stone-500",children:e("generation:sampling-steps.label")}),n.jsxs("div",{className:"inline-flex gap-4",children:[n.jsx(Bi,{id:"sampling-steps-select",value:t.samplingSteps??1,onChange:(o,l)=>{typeof l=="number"&&a(r=>({...r,samplingSteps:l}))},min:1,max:50,step:1,valueLabelDisplay:"auto"}),n.jsx(ji,{type:"number",className:"w-[60px]",value:t.samplingSteps??1,onChange:o=>{const l=Number(o.target.value);a(r=>({...r,samplingSteps:Ci(l,1,50)}))},inputProps:{min:1,max:50}})]})]}),n.jsxs(Te,{children:[n.jsx(Nt,{id:"sampling-method-select",children:e("generation:sampling-method.label")}),n.jsxs(ga,{className:"w-[200px]",labelId:"sampling-method-select",value:t.samplingMethod??"",onChange:o=>{a(l=>({...l,samplingMethod:o.target.value}))},label:e("generation:sampling-method.label"),children:[n.jsx(Pt,{value:"",children:n.jsx("em",{children:e("common:none")})}),s.map(o=>n.jsx(Pt,{value:o,children:o},o))]})]}),n.jsxs(Te,{children:[n.jsx("label",{htmlFor:"cfg-scale-input",className:"text-sm text-stone-500",children:e("generation:cfg-scale.label")}),n.jsxs("div",{className:"inline-flex gap-4",children:[n.jsx(Bi,{id:"cfg-scale-input",value:t.cfgScale??1,onChange:(o,l)=>{typeof l=="number"&&a(r=>({...r,cfgScale:l}))},min:1.1,max:50,step:.1,valueLabelDisplay:"auto"}),n.jsx(ji,{type:"number",className:"w-[60px]",value:t.cfgScale??1,onChange:o=>{const l=Number(o.target.value);a(r=>({...r,cfgScale:Ci(l,1,50)}))},inputProps:{min:1,max:50,step:.5}})]})]}),n.jsxs(Te,{children:[n.jsx(Nt,{htmlFor:"seed-input",children:e("generation:seed.label")}),n.jsx(Qt,{id:"seed-input",type:"number",className:"max-w-[500px]",label:e("generation:seed.label"),placeholder:e("generation:seed.placeholder"),value:t.seed,onChange:o=>{a(l=>({...l,seed:o.target.value}))}})]})]})}function $5(){const{t:e}=D(["generation"]),[t,a]=u.useState(),[{baseImage:s},i]=u.useContext(gt),o=F1(s);u.useEffect(()=>{s==null||s.getDimensions().then(a).catch(r=>console.warn(r))},[s]);const l=()=>{i(r=>({...r,baseImage:void 0}))};return n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-sm text-stone-500",children:e("generation:base-image.label")}),n.jsx("div",{className:"w-[200px] h-[200px] rounded-xl border border-neutral-300",children:o?n.jsxs("div",{className:"flex relative w-full h-full",style:{aspectRatio:xa(t)},children:[n.jsx(El,{originalUrl:o,fileName:s.name,imgClassName:"flex object-contain w-full h-full rounded-xl !object-center",width:t==null?void 0:t.width,height:t==null?void 0:t.height}),n.jsx(he,{onClick:l,className:"rounded-full bg-white shadow-sm absolute top-0 right-0 translate-x-3 -translate-y-3",children:n.jsx(He,{className:"size-[14px]"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(le,{component:"label",className:w("font-semibold flex gap-1 border w-full h-full"),htmlFor:"note-image-upload",children:n.jsx(s1,{className:"size-6"})}),n.jsx("input",{id:"note-image-upload",type:"file",accept:"image/*",hidden:!0,onClick:r=>{r.currentTarget.value=""},onChange:r=>{const[c]=r.target.files||[];c&&i(d=>({...d,baseImage:Ll.fromFile(c)}))}})]})})]})}const[gt,M5]=Ft({width:512,height:512});gt.displayName="EditFormStateContext";const[$n,I5]=Ft({open:!1});$n.displayName="UpsertNoteDialogContext";const[Pd,P5]=Ft({open:!1}),D5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsxs("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:[n.jsx("path",{d:"M7 9v6a4 4 0 0 0 4 4h4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1z"}),n.jsx("path",{d:"M13 3.054V7H9.2a2 2 0 0 1 .281-.432l2.46-2.87A2 2 0 0 1 13 3.054M15 3v4a2 2 0 0 1-2 2H9v6a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"})]})});function fb(){const{values:e,setValues:t}=Ke(),{styleMix:a,modelId:s}=e,i=Es(s),o=Vm(i==null?void 0:i.extra),l=!!(a!=null&&a.enabled),r=u.useCallback(m=>{T("stylemix_toggle",{checked:m}),t(f=>{var h;return{...f,styleMix:{...f.styleMix,enabled:m,...m&&typeof((h=f.styleMix)==null?void 0:h.seed)!="number"?{seed:os()}:{}}}})},[]),c=u.useCallback(()=>{t(m=>({...m,styleMix:{...m.styleMix,seed:os()}}))},[]),d=u.useCallback(m=>{t(f=>({...f,styleMix:{...f.styleMix,seed:Number(m.seed),weight:m.weight}}))},[]);return[{enabled:l,seed:a==null?void 0:a.seed,weight:a==null?void 0:a.weight},r,{shuffleStyleMix:c,updateStyleMix:d,canStyleMix:o}]}const B5="Pix";function so(e){const t=(e==null?void 0:e.seed)??os();return e!=null&&e.withPrefix?`${B5}${t.toString().padStart(5,"0")}`:e!=null&&e.padStart?t.toString().padStart(5,"0"):t.toString()}function hb(e){return e.toString().padStart(5,"0")}function xb(e){const t=so({padStart:!0,seed:e.seed}),a=so({withPrefix:!0,seed:e.seed});return n.jsxs("p",{className:"flex gap-1 items-center bg-neutral-100 dark:bg-neutral-800 rounded-md px-3 py-[3px] w-fit text-sm",children:[a,n.jsx("button",{onClick:()=>{Kn(t)},children:n.jsx(D5,{className:"text-neutral-600 dark:text-neutral-400"})})]})}function A5(){const{t:e}=D(["generation"]);return n.jsxs("p",{className:"flex items-center gap-1",children:[e("generation:style-mix.style-seed"),n.jsx("span",{className:"font-medium bg-[#E5D3F5] text-black text-xs scale-90 origin-left rounded-full px-2 py-px",children:"PixAI"})]})}const io=e=>n.jsx("svg",{viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...e,children:n.jsxs("g",{fill:"none",children:[n.jsx("path",{d:"M2.854 2.146a.5.5 0 1 0-.708.708l3.5 3.498a8.097 8.097 0 0 0-3.366 5.046a.5.5 0 1 0 .979.204a7.09 7.09 0 0 1 3.108-4.528L7.95 8.656a3.5 3.5 0 1 0 4.884 4.884l4.313 4.314a.5.5 0 0 0 .708-.708l-15-15z",fill:"currentColor"}),n.jsx("path",{d:"M10.124 8.003l3.363 3.363a3.5 3.5 0 0 0-3.363-3.363z",fill:"currentColor"}),n.jsx("path",{d:"M7.531 5.41l.803.803A6.632 6.632 0 0 1 10 6c3.206 0 6.057 2.327 6.74 5.602a.5.5 0 1 0 .98-.204C16.943 7.673 13.693 5 10 5c-.855 0-1.687.143-2.469.41z",fill:"currentColor"})]})});function E5(e,t){const s=`/workflow/${be(e).with(q.string,i=>i).with({id:q.select(q.string)},i=>i).exhaustive()}`;return t?rn(window.location.origin,s):s}function gb(e,t,a){const s=(typeof t=="boolean"?void 0:t)??{},i=typeof t=="boolean"?t:a,o=rn("/generator/workflow",e??"");return Qe((i?window.origin:"")+o,s)}const T5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3zM6 6h9v4H6z"})}),z5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M9 18q-.825 0-1.413-.588T7 16V4q0-.825.588-1.413T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.588 1.413T18 18H9Zm0-2h9V4H9v12Zm-4 6q-.825 0-1.413-.588T3 20V6h2v14h11v2H5Zm4-6V4v12Z"})}),L5="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",F5=e=>e.replace(/\xa0/g," "),R5=e=>e.replace(/[\uff01-\uff5e]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}),_5=e=>R5(e).split(/[{}[\]()/\\,.?!]/).map(t=>t.trim()).filter(t=>t).join(" "),pb=e=>e.split(/[\s_]+/).map(t=>t[0].toUpperCase()+t.slice(1)).join(" "),V5=/^[\x00-\x7F]$/;function bb(e){const a=[...new Intl.Segmenter("en",{granularity:"grapheme"}).segment(e)],s=a.length,i=a.filter(o=>!V5.test(o.segment)).length;return{totalCount:s,nonAsciiCount:i,nonAsciiRatio:i/s}}const Dd=({prompts:e})=>{const{t}=D(["common"]),a=F5(e||"");return e?n.jsx("h2",{className:"text-sm font-normal leading-6 opacity-80 break-all",children:a}):n.jsxs("div",{className:"italic opacity-75",children:["(",t("common:not-set"),")"]})},U5=({prompts:e,shouldHide:t})=>{const{t:a}=D(["artwork"]);return n.jsx("div",{className:w("text-sm relative font-medium rounded-lg h-[12rem] md:h-auto md:max-h-[9rem] py-2 px-3 border border-solid border-gray-100 overflow-auto leading-5 mt-4"),children:t?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"blur line-clamp-2 select-none",children:L5}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-medium select-none",children:a("artwork:hidden-by-author")})]}):n.jsx(Dd,{prompts:e})})},O5=({negativePrompts:e})=>n.jsx("div",{className:w("text-sm relative font-medium rounded-lg h-[12rem] md:h-auto md:max-h-[9rem] py-2 px-3 border border-solid border-gray-100 overflow-auto leading-5 mt-4"),children:n.jsx(Dd,{prompts:e})}),H5=e=>u.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("rect",{x:3.08398,y:13.7139,width:11.4286,height:2.28571,rx:1.14286,fill:"currentColor"}),u.createElement("path",{d:"M11.7043 6.82898C11.2858 10.8345 8.62282 12.5408 6.80398 13.2452C6.55378 13.3421 6.22776 12.7455 6.36096 12.5126C7.29641 10.8768 7.38391 8.17006 7.36319 6.82898H4.22656L9.33496 0L14.5123 6.82898H11.7043Z",fill:"currentColor"})),K5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m15 3l2.3 2.3l-2.89 2.87l1.42 1.42L18.7 6.7L21 9V3h-6zM3 9l2.3-2.3l2.87 2.89l1.42-1.42L6.7 5.3L9 3H3v6zm6 12l-2.3-2.3l2.89-2.87l-1.42-1.42L5.3 17.3L3 15v6h6zm12-6l-2.3 2.3l-2.87-2.89l-1.42 1.42l2.89 2.87L15 21h6v-6z"})}),W5=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8S14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8S7 8.67 7 9.5S7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"})}),G5=e=>n.jsx("svg",{viewBox:"0 0 15 15",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.5.877a6.623 6.623 0 1 0 0 13.246A6.623 6.623 0 0 0 7.5.877M1.827 7.5a5.673 5.673 0 1 1 11.346 0a5.673 5.673 0 0 1-11.346 0m3.21 1.714a.5.5 0 1 0-.82.572A4 4 0 0 0 7.5 11.5c1.36 0 2.56-.679 3.283-1.714a.5.5 0 0 0-.82-.572A3 3 0 0 1 7.5 10.5a3 3 0 0 1-2.463-1.286m.338-2.364a.875.875 0 1 0 0-1.75a.875.875 0 0 0 0 1.75m5.125-.875a.875.875 0 1 1-1.75 0a.875.875 0 0 1 1.75 0",clipRule:"evenodd"})}),q5=e=>n.jsx("svg",{viewBox:"0 0 15 15",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.811 1.647c-.19 1.232-.128 2.238-.043 3.658l.049.823a.5.5 0 0 1-.992.115l-.077-.436c-.104-.642-.264-1.552-.57-2.36c-.316-.834-.73-1.406-1.244-1.587a.61.61 0 0 0-.675.15a.82.82 0 0 0-.196.744c.152.59.383 1.163.635 1.764l.068.162c.23.545.47 1.117.65 1.71v.002c.146.484.24.867.315 1.17l.08.322A.5.5 0 0 1 4 8.387a10 10 0 0 1-.68-.669l-.122-.13c-.15-.16-.28-.3-.414-.428c-.323-.309-.599-.48-.977-.516h-.003c-.242-.025-.389.02-.485.082c-.099.063-.198.178-.28.386c-.061.173-.023.518.155.857l.004.008c.204.408.548.839.984 1.316q.326.352.688.724l.01.011c.236.244.48.497.718.755c.832.903 1.68 1.97 1.866 3.217h6.046c.055-1.565.367-2.732.778-3.865c.158-.435.325-.85.496-1.277c.327-.817.668-1.669.988-2.75c.328-1.11.239-1.738.09-2.068c-.144-.321-.37-.422-.48-.444c-.243-.048-.343.013-.411.083c-.103.104-.2.304-.278.624a9 9 0 0 0-.159 1.022l-.003.028c-.038.32-.08.677-.163.948a.54.54 0 0 1-.17.274a.5.5 0 0 1-.366.118c-.289-.024-.46-.272-.466-.545c-.009-.393.023-.79.042-1.182c.036-.73.07-1.432.018-2.132V2.83c-.033-.499-.376-.827-.724-.906a.64.64 0 0 0-.466.06c-.132.076-.28.23-.378.53v.004c-.042.123-.084.36-.12.695a21 21 0 0 0-.085 1.082c-.02.326-.034.664-.048.968c-.017.383-.031.712-.048.891a.5.5 0 0 1-.061.205a.48.48 0 0 1-.424.26a.51.51 0 0 1-.454-.259c-.06-.11-.066-.24-.07-.366l-.005-.445c-.003-.342-.003-.729-.003-.838c0-1.044 0-2.056-.092-3.066c-.055-.403-.384-.64-.803-.644s-.765.227-.833.647m2.601-.285C9.215.448 8.4.008 7.654 0c-.79-.008-1.666.466-1.83 1.49v.003q-.062.397-.093.774c-.337-.593-.805-1.118-1.465-1.35a1.61 1.61 0 0 0-1.73.403a1.82 1.82 0 0 0-.446 1.667l.003.01c.172.671.431 1.306.683 1.908l.066.156c.18.427.352.838.497 1.252c-.375-.332-.82-.605-1.436-.665c-.414-.041-.8.027-1.125.236c-.324.208-.537.52-.674.87l-.003.009c-.203.55-.035 1.209.204 1.666c.269.536.691 1.05 1.139 1.54c.226.247.467.496.706.743l.007.007q.359.37.704.74C3.81 12.49 4.5 13.464 4.5 14.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5c0-1.679.302-2.854.727-4.024c.138-.38.295-.77.46-1.184c.337-.843.711-1.779 1.043-2.9c.366-1.239.326-2.133.043-2.762c-.286-.638-.793-.935-1.197-1.015c-.448-.089-.84-.01-1.15.216l-.004-.07c-.063-.95-.731-1.638-1.499-1.813a1.64 1.64 0 0 0-1.188.17a1.6 1.6 0 0 0-.323.244",clipRule:"evenodd"})});function Z5(e,t){var i,o;const a=(e==null?void 0:e.type)==="workflow";if((e==null?void 0:e.type)==="i2vPro")return{i2vpro:!0};if(a)return{handfix:((i=t==null?void 0:t.enhancementPlugins)==null?void 0:i.handfix)&&e.workflowName.startsWith(t.enhancementPlugins.handfix.workflowName+":"),"face-detailer":((o=t==null?void 0:t.enhancementPlugins)==null?void 0:o["face-detailer"])&&e.workflowName.startsWith(t.enhancementPlugins["face-detailer"].workflowName+":")};if(e){const l=e.enableADetailer??!1,r=(e.upscale??1)>1,c=(e.enlarge??1)>1;return{facefix:l,hires:r,upscale:c,handfix:!1,"face-detailer":!1}}return{}}const X5={"face-detailer":G5,handfix:q5,upscale:K5,hires:H5,facefix:W5,i2vpro:zs};function Bd(e){const{data:t}=Um(),a=Z5(e.parsedParams,{enhancementPlugins:t}),s=Object.entries(a).filter(([i,o])=>o).map(([i])=>{const o=X5[i];return n.jsx(Q5,{icon:n.jsx(o,{className:"size-4"}),highlight:i==="i2vpro",navigateTo:i==="i2vpro"?"/generator/image/animation":void 0,label:n.jsx(P,{i18nKey:`artwork:parameter.task-capabilities.${i}.label`,children:n.jsx(P,{i18nKey:"artwork:parameter.task-capabilities.unknown.label"})})},i)});return s.length<1?null:n.jsx("section",{className:"flex flex-wrap items-center gap-2",children:s})}function Q5(e){const t=n.jsxs(n.Fragment,{children:[e.icon,n.jsx("span",{className:"text-sm",children:e.label})]}),a=w("flex rounded-lg border  gap-1 items-center px-2 py-1",e.highlight?"border-purple-200 dark:bg-purple-500 bg-purple-500 text-white":"border-neutral-500 bg-neutral-100 dark:bg-neutral-800");return e.navigateTo?n.jsx(ie,{to:e.navigateTo,className:a,children:t}):n.jsx("div",{className:a,children:t})}function Y5(e,t){var i;if(!e)return;const a=ls(e),s=Om(e);if(a){const{output:o,success:l,issues:r}=Xt(Sl,e.parameters);if(l)return{type:"i2vPro",...o.i2vPro,authorId:t==null?void 0:t.authorId,hidePrompts:t==null?void 0:t.hidePrompts}}else if(s){const{output:o,success:l,issues:r}=Xt(f1,e.parameters);if(l)return{type:"workflow",...o.inputs,workflowName:o.workflowName,isPrivate:t==null?void 0:t.isPrivate,workflowId:t==null?void 0:t.extra.workflowId,authorId:t==null?void 0:t.authorId}}else{const{success:o,output:l,issues:r}=Xt(h1,e.parameters);if(o)return{type:"generator",...l,prompts:(t==null?void 0:t.prompts)??l.prompts??void 0,hidePrompts:t==null?void 0:t.hidePrompts,magicPrompts:(i=t==null?void 0:t.extra)==null?void 0:i.naturalPrompts,authorId:t==null?void 0:t.authorId}}}const lt={prompts:"prompts",negativePrompts:"negativePrompts"};function J5(e){const{artwork:t,taskParameters:a}=e,s=Y5(a,t);return(s==null?void 0:s.type)==="workflow"?n.jsx(n4,{parsedParams:s}):s!=null&&s.type?n.jsx(e4,{parsedParams:s,artwork:t,taskParameters:a}):null}function e4(e){const{t}=D(["artwork","generation","action"]),{parsedParams:a}=e,{data:s}=de(),i=(s==null?void 0:s.id)===(a==null?void 0:a.authorId),[o,l]=u.useState(!1),c=(a==null?void 0:a.type)==="generator",d=u.useMemo(()=>{if(a!=null&&a.hidePrompts)return!1;const p=Hm(Bl(a,["prompts"]));return Object.keys(p).length>0},[a]),m=[[lt.prompts,t("artwork:detail.tab.prompts")],[lt.negativePrompts,t("generation:negative-prompts.label"),d]],[f,h]=u.useState(m[0][0]),x=u.useMemo(()=>(!(a!=null&&a.hidePrompts)||i)&&!!(a!=null&&a.prompts),[i,a==null?void 0:a.hidePrompts,a==null?void 0:a.prompts]),g=u.useMemo(()=>!!(a!=null&&a.negativePrompts),[a]),v=be({tab:f}).with({tab:lt.prompts},()=>n.jsx(U5,{prompts:a==null?void 0:a.prompts,shouldHide:(a==null?void 0:a.hidePrompts)&&!i})).with({tab:lt.negativePrompts},()=>n.jsx(O5,{negativePrompts:a==null?void 0:a.negativePrompts})).otherwise(()=>null);return n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx(up,{selectionFollowsFocus:!0,className:"border-b flex",value:f,onChange:(p,k)=>{h(k)},classes:{root:"min-h-0"},children:m.map(([p,k,b])=>b!=null&&!b?null:n.jsx(O2,{className:"normal-case",classes:{root:"font-medium py-1 min-h-[2rem] rounded-t-lg"},label:k,value:p,onClick:()=>{T("image_prompts_click",{value:p})}},p))}),n.jsxs("div",{className:w("flex","absolute top-0 right-0"),children:[c&&n.jsxs(n.Fragment,{children:[n.jsx(le,{className:"capitalize",onClick:()=>{T("save_image_as_note_click"),s?l(!0):Re(void 0,{fromPath:"notes-save"})},children:n.jsxs("div",{className:"flex flex-row items-center gap-1 text-sm",children:[n.jsx(T5,{className:"text-sm"}),t("action:save")]})}),n.jsx(Id,{open:o,onClose:()=>l(!1),openFrom:"image",prefilledData:{...V0(e.artwork,e.taskParameters),title:e.artwork.title,baseImage:e.artwork.media?Ll.fromMedia(e.artwork.media):void 0}})]}),n.jsx(le,{className:w("capitalize",x&&f===lt.prompts||g&&f===lt.negativePrompts?"block":"hidden"),onClick:()=>{f===lt.prompts?Kn((a==null?void 0:a.prompts)??"",{enableTrackValue:!0}):Kn((a==null?void 0:a.negativePrompts)??"",{enableTrackValue:!0}),s||Re()},children:n.jsxs("div",{className:"flex flex-row items-center gap-1 text-sm",children:[n.jsx(z5,{className:"text-sm"}),t("common:copy")]})})]})]}),n.jsxs("div",{className:"flex flex-col gap-4",children:[v,d&&n.jsx(t4,{parsedParams:a}),n.jsx(Bd,{parsedParams:a})]})]})}const oo=({title:e,value:t})=>t?n.jsxs(n.Fragment,{children:[n.jsx("dt",{className:"font-semibold text-sm leading-6",children:e}),n.jsx("dd",{className:"text-sm opacity-60 break-words leading-6",children:t})]}):null;function t4(e){const{t}=D(["common","artwork","generation"]),{parsedParams:a}=e,s=a==null?void 0:a.type,i=s==="generator"?a==null?void 0:a.modelId:void 0,{data:{model:o}={}}=zt(i);if(!(a!=null&&a.type))return null;const l=(()=>{var x;if(s!=="generator")return[];const c=(x=a.styleMix)!=null&&x.enabled&&Number(a.styleMix.seed)?a.styleMix.seed:void 0,d=a.qualityTag?Km(a.qualityTag):void 0,m=a.magicPrompts,f=o?o.title:t("common:unknown"),h=a.width&&a.height?`${a.width} x ${a.height}`:t("common:unknown");return[{key:"magic-prompts",label:t("generation:original-prompts.label"),value:m},{key:"style-mix",label:n.jsx(A5,{}),value:c},{key:"quality-tag",label:t("generation:quality-tag.label"),value:d},{key:"model",label:t("generation:model.label"),value:f},{key:"size",label:t("generation:size.label"),value:h},{key:"sampling-steps",label:t("generation:sampling-steps.label"),value:a.samplingSteps},{key:"sampling-methods",label:t("generation:sampling-method.label"),value:a.samplingMethod},{key:"cfgscale",label:t("generation:cfg-scale.label"),value:a.cfgScale},{key:"seed",label:t("generation:seed.label"),value:a.seed}]})(),r=(()=>{if(s!=="i2vPro")return[];const c=t([`generation:image-to-video.parameters.model.${Bo(a.model)}.label`,"common:unknown"]);return[{key:"model",label:t("generation:image-to-video.parameters.model.label"),value:c},{key:"mode",label:t("generation:image-to-video.parameters.mode.label"),value:a.mode},{key:"duration",label:t("generation:image-to-video.parameters.duration.label"),value:a.duration},{key:"camera",label:t("generation:image-to-video.parameters.camera.label"),value:a.cameraMovement}]})();return n.jsxs("details",{onToggle:c=>{const m=c.nativeEvent.newState==="open"?"unfold":"fold";T("show_parameters_click",{type:m})},children:[n.jsx("summary",{className:"bg-neutral-100 dark:bg-stone-700 rounded-full px-2 py-1 w-fit text-sm select-none cursor-pointer",children:t("artwork:parameter.show-parameters")}),n.jsxs("dl",{className:"grid grid-cols-[fit-content(200px),1fr] gap-x-4 ml-6 mt-1",children:[l.map(c=>n.jsx(oo,{title:c.label,value:c.value},c.key)),r.map(c=>n.jsx(oo,{title:c.label,value:c.value},c.key))]})]})}function n4(e){const{beingAdmin:t}=ue(),a=e.parsedParams.workflowId,{data:s,isLoading:i}=Wm(a),o=!i&&!s||!!(s!=null&&s.isPrivate),l=!i&&(!o||t),[{liked:r,count:c,optimistic:d},m]=si(s==null?void 0:s.id,te.Artwork,s);return a?n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"font-medium mt-3",children:n.jsx(P,{i18nKey:"artwork:workflow.workflow-used"})}),n.jsxs("div",{className:w("grid grid-cols-[auto_1fr_auto] items-center gap-2 p-1 -m-1 has-[button:hover]:!bg-transparent rounded-xl text-sm",l&&"hover:bg-black/5 dark:hover:bg-white/5"),children:[n.jsxs(ie,{to:l?E5((s==null?void 0:s.id)??"#"):"#",className:w("col-span-2 grid grid-cols-subgrid items-center no-underline",!l&&"cursor-default"),children:[n.jsx(Sa,{media:s==null?void 0:s.media,className:w("row-start-1 col-start-1 flex-none h-16 aspect-[1200/630] rounded-lg",i&&"animate-pulse")}),o&&!t&&n.jsx(io,{className:"row-start-1 col-start-1 place-self-center relative size-5"}),n.jsxs("div",{children:[n.jsx("p",{children:i?n.jsx(a4,{className:"w-20"}):t?n.jsxs("span",{className:"flex items-center gap-1",children:[o&&n.jsx(io,{className:"size-5 text-amber-600 dark:text-amber-500"}),s==null?void 0:s.title]}):n.jsx(P,{i18nKey:"artwork:workflow.messages.workflow-is-hidden"})}),n.jsxs("p",{className:w("flex items-center gap-1",o&&!t&&"hidden"),children:[n.jsx(jn,{user:s==null?void 0:s.author,className:"!size-6"}),tt(s==null?void 0:s.author)]})]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("button",{className:w("inline-flex items-center gap-1 p-1 -m-1 ml-0 pr-1.5 hover:bg-black/5 dark:hover:bg-white/5 rounded-md",d&&"opacity-50",i&&"invisible",o&&!t&&"hidden"),onClick:f=>{f.stopPropagation(),m()},children:[n.jsx(kn,{liked:r??!1,className:"size-5"}),n.jsx("span",{children:c})]}),n.jsx("div",{className:"h-6"})]})]}),n.jsx(Bd,{parsedParams:e.parsedParams})]}):null}function a4(e){return n.jsx("span",{...e,className:w("inline-flex items-center prepend-zws",e.className),children:n.jsx("span",{className:"flex-1 h-[1em] bg-zinc-300 rounded animate-pulse"})})}const s4=({artwork:e,taskParameters:t,className:a,isSinglePage:s})=>{var p;const{t:i}=D(["artwork","user","common","action"]),{onUseAsReferenceAction:o}=sx(),l=Be(),r=At(),[c,d]=u.useState(e),{data:m}=de(),f=async()=>{const k=c;ze("use_as_refer_btn_click",k);const b=`/generator/image?${Mt({importType:"use_as_reference",artwork:ti(k),task:mn(t)})}`;if(!m){Re({oauthRedirectUrl:rn(location.origin,b)},{fromPath:"refer"});return}try{if(!await Ue.confirm({dismissable:!0,heading:i("artwork:use-as-reference-confirm.title"),content:i("artwork:use-as-reference-confirm.desc")}))return;if(ze("use_as_refer",k),J.markArtwork({artworkId:k.id,type:ia.Inspire,target:!0}),o)return o({taskParameters:t,artwork:k});Je("generate_source"),r(b)}catch(j){G.error(j==null?void 0:j.message)}},h=async()=>{ze("explore_this_style_btn_click",e,{scene:"artwork-detail"});try{r(`/artwork/${c.id}/relevant`)}catch(k){if(k===Tt)return}},x=u.useCallback(()=>{var k;if(ze("animate_this_artwork_click",e,{mode:"i2vpro"}),!m){Re(s?void 0:{oauthRedirectUrl:ml(e.id)});return}Qx({mediaId:(k=e.media)==null?void 0:k.id,afterSubmission:b=>{r(Qe("/generator/image/animation",{task:mn(b)}))},type:l?"drawer":"dialog"})},[e,m==null?void 0:m.id,s,l]),g=ls(t)||t==null?void 0:t.parameters.modelId,v=Na();return n.jsxs("div",{className:w("flex-1 flex-shrink min-w-0 flex flex-col gap-5",a),children:[n.jsxs("div",{className:"flex gap-x-4 gap-y-2 flex-wrap",onClick:k=>k.stopPropagation(),children:[n.jsxs("div",{className:w("flex flex-col gap-2",t?"block":"hidden"),children:[!C0(e)&&!ls(t)&&n.jsx(W,{variant:"filled",color:"theme",className:"rounded-full px-6 h-11 text-sm font-semibold text-white",onPress:f,children:i("artwork:use-as-reference",{context:v.enableUseAsRefHover?"hoverexp":void 0})}),v.enableExplore&&n.jsx(W,{variant:"filled",color:"theme",className:"rounded-full px-6 h-11 text-sm font-semibold text-white",onPress:h,children:i("artwork:explore-this-style")}),!Gm(t)&&n.jsx(W,{variant:"outlined",color:"theme",className:"rounded-full px-6 h-11 text-sm font-semibold",onPress:x,children:i("artwork:animate-this-artwork.label")})]}),n.jsx(ng,{className:"ml-auto size-8",artwork:e,taskParameters:t}),!s&&n.jsx(W,{variant:"ghost",className:"size-8",onPress:()=>{window.open(cn(e),"_blank")},children:n.jsx("span",{className:"w-full text-center",children:n.jsx(Zs,{className:"inline-block size-5"})})})]}),n.jsx(J5,{artwork:e,taskParameters:t}),(((p=e.loras)==null?void 0:p.length)||g)&&n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"font-medium mt-3",children:i("artwork:model.model-lora-used")}),n.jsx(F2,{loras:e.loras,modelId:g})]}),n.jsx(Mx,{imgClassName:"object-contain rounded-2xl",className:"rounded-2xl border hover:shadow-xl transition ease-out hover:border-neutral-400 dark:border-none"})]})};function i4(e){var o,l;const{artwork:t}=e,{media:a}=t,i=xa(a)<1;return n.jsx("div",{className:w(Xe["artwork-image-bg"],i&&Xe.portrait),children:n.jsx("div",{className:Xe["artwork-image-container"],children:n.jsx(U0,{scene:"artwork",imgClassName:Xe["artwork-image-element"],artworkId:t.id,originalUrl:vn(t.media),thumbnailUrl:xt(t.media),width:(o=t.media)==null?void 0:o.width,height:(l=t.media)==null?void 0:l.height,author:t.author,alt:fl(t),fileName:hl({artwork:t})+"."+Zn({artwork:t,media:t.media}),mediaType:Zn({artwork:t,media:t.media})==="mp4"?"video":"image",skipDownloadConversion:Ts(t),videoMediaId:t.videoMediaId,videoMedia:t.videoMedia,mediaId:t.videoMediaId||t.mediaId,preferVideo:!0})})})}const o4=({artwork:e,isSinglePage:t,onUseAsReferenceAction:a,shouldExploreStyleTargetBlank:s,onClose:i,onLikeClickForRec:o,trackingArgs:l})=>{var v;const{t:r}=D(["artwork"]),{data:c=e,mutate:d}=qm(e.id),{data:m}=de(),{taskParameters:f,...h}=c,x=m!=null&&(m==null?void 0:m.id)===((v=c.author)==null?void 0:v.id),g=u.useMemo(()=>({artwork:h,taskParameters:f,isSinglePage:t,onUseAsReferenceAction:a,shouldExploreStyleTargetBlank:s,onClose:i,onLikeClickForRec:o,userIsAuthor:x,mutateArtwork:d,trackingArgs:l}),[h,f,t,a,s,i,o,x,d,l]);return h?n.jsxs(Da.Provider,{value:g,children:[n.jsxs("main",{className:w("bg-background w-full rounded-xl",Xe["artwork-main-wrapper"],t&&Xe["single-page"]),children:[n.jsxs("div",{className:w(Xe["artwork-detail-content-container"]),children:[n.jsx(i4,{artwork:h}),n.jsx(Sx,{artwork:h,isSinglePage:t,className:"pt-4 min-w-0"})]}),n.jsx("section",{className:"flex flex-col gap-2 [grid-area:description]",children:n.jsx(Nx,{artwork:h})}),n.jsx("section",{className:"[grid-area:comment] min-w-0",children:n.jsx(l4,{})}),n.jsx(s4,{artwork:h,taskParameters:f,className:"[grid-area:detail]",isSinglePage:t})]}),t&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"px-5 pt-12 flex flex-col bg-background gap-10",children:[n.jsx(mx,{artworkId:h.id}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-medium text-xl mb-4",children:r("artwork:recommended-users.title")}),n.jsx(dx,{})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-medium text-xl mb-4",children:r("artwork:search-results.recommendation-section.heading")}),n.jsx(hx,{trackingArgs:{scene:"artwork-detail-recommended"}})]})]})})]}):null};function l4(){const{artwork:e,userIsAuthor:t,isSinglePage:a}=u.useContext(Da),[s,i]=u.useState(!1);return e?n.jsx("div",{className:w("w-full bg-neutral-100 dark:bg-neutral-700 rounded-lg p-4",!a&&"rounded-bl-2xl"),children:n.jsx(u.Suspense,{children:n.jsxs(rd,{topicId:e.id,refType:te.Artwork,initLoadSize:3,canDeleteMessage:()=>t,onLoadMore:()=>{i(o=>(o||T("show_more_comments"),!0))},children:[n.jsx("div",{className:"flex items-center pb-2",children:n.jsxs("h3",{className:"font-medium text-base flex items-center",children:[n.jsx(P,{i18nKey:"artwork:comment"}),(e.commentCount??0)>0&&n.jsx("span",{className:"text-neutral-500 pl-2 text-xs",children:e.commentCount})]})}),n.jsx(fd,{className:"mb-4 pb-4 border-b border-black/20 dark:border-white/20"}),n.jsx(ud,{windowed:s,loadMode:s?"scroll":"button",style:{height:s?440:void 0}})]})})}):null}const r4=({artwork:e,open:t,onClose:a,extraLikeTrackingArgsForRec:s,trackingArgs:i})=>{const[{sort:o="trending"}]=Ne(),l=Ia(),r=rs(e),c=u.useCallback(()=>{s&&Fe("like_click",{feed:o,totalCols:l,scene:"artwork_feed",likeFrom:"detail",...s})},[s,o,l]);return n.jsx(Zm,{open:t,onClose:a,className:w(r?"max-w-[600px]":"max-w-[1200px]","mmd:w-[calc(100vw-64px)] [&>main]:max-mmd:overflow-y-auto"),dismissable:!0,children:n.jsx(u.Suspense,{fallback:n.jsx(je,{}),children:be(e).with(q.when(il),d=>n.jsx(Hi,{manga:d,onLikeClick:c})).with(q.intersection(q.when(Gn),{manga:q.select({})}),d=>n.jsx(Hi,{manga:d,onLikeClick:c})).when(Gn,d=>n.jsx(o4,{artwork:d,onClose:a,onLikeClickForRec:c,trackingArgs:i})).otherwise(()=>null)})})},Ad=u.memo(r4),c4=({manga:e,to:t,showAuthor:a,onClick:s,onMangaClick:i,onLikeClick:o,lastElementRef:l,wrapperRef:r,shouldBlur:c,showIndex:d,index:m,artworkModFlags:f,artwork:h})=>{var S;const[x]=$s(),g=e.author||(h==null?void 0:h.author),v=tt(g),p=So(g),k=vn(e.coverMedia),b=c&&x,j=b||(f==null?void 0:f.isWarned);return D(["action"]),n.jsx(id,{lastElementRef:l,wrapperRef:r,media:(h==null?void 0:h.media)||e.coverMedia||((S=e.chapter)==null?void 0:S.coverMedia),to:t,nsfwBlur:j,showExplicitIcon:b,mediaExtra:n.jsxs("div",{className:w("absolute inset-0",{"bg-white bg-opacity-70":e.type===dt.Comic}),children:[e.type===dt.Comic&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:w("absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none"),children:n.jsx("img",{src:k,className:w("max-w-[90%] max-h-[90%] border-4 border-black scale-95 translate-x-4 shadow-2xl overflow-hidden",{"blur-xl":j})})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsx("img",{src:k,className:w("max-w-[90%] max-h-[90%] border-4 border-black shadow-2xl overflow-hidden",{"blur-xl":j})})}),n.jsx(od,{nsfwBlur:j,showExplicitIcon:b})]}),n.jsx(Un,{corner:"top-left",className:"bg-transparent shadow-none backdrop-filter-none",children:n.jsx(Qc,{manga:e,className:"absolute top-1 left-1 ring-1 ring-black/20"})}),(f==null?void 0:f.isWarned)&&n.jsx(A0,{className:"absolute left-0 bottom-0 p-4",placement:"in-grid"})]}),likeBtn:n.jsx(E0,{afterClick:o,manga:e}),showLikeBtn:!0,label:(h==null?void 0:h.title)||e.title,time:e.createdAt,secondLabel:a&&v,showAuthorAvatar:!0,overrideAuthor:g,border:p?"member":"plain",contentExtra:d&&m!=null?n.jsx("p",{className:"absolute top-2 right-2 flex items-center justify-center text-white font-black font-quicksand text-xl rounded py-1 bg-opacity-80 shadow-sm bg-purple-700 tabular-nums w-10 pointer-events-none",children:m+1}):void 0,onClick:y=>{if(T(qn(e)?"animated_comic_click":"manga_click",{id:e.id}),qn(e))return y.preventDefault(),window.open(cn(e),"_blank");s==null||s(y),i==null||i(e)}})},Ed=u.memo(function(t){return n.jsx(u.Suspense,{children:n.jsx(c4,{...t})})});function d4(e){const t=Ia(),[{sort:a="trending"}]=Ne(),{index:s,manga:i,onMangaClick:o,artworkId:l,...r}=e,c=u.useRef(null),d=oa(c,{root:null,rootMargin:"0px",threshold:1});u.useEffect(()=>{d!=null&&d.isIntersecting&&Fe("reco_artwork_view",{artworkId:l,index:s,currentLikeCount:(i==null?void 0:i.likedCount)??0,scene:"artwork_feed",feed:a,totalCols:t},{amplitudeSampleRate:Hn})},[l,s,i==null?void 0:i.likedCount,d==null?void 0:d.isIntersecting,t,a]);const m=u.useCallback(h=>{Fe("reco_artwork_click",{artworkId:l,index:s,currentLikeCount:(h==null?void 0:h.likedCount)??0,scene:"artwork_feed",feed:a,totalCols:t},{amplitudeSampleRate:Hn}),o==null||o(h,s)},[l,s,a,t,o]),f=u.useCallback(()=>{Fe("like_click",{artworkId:l,index:s,currentLikeCount:(i==null?void 0:i.likedCount)??0,scene:"artwork_feed",feed:a,totalCols:t,type:qn(i)?dt.AnimatedComic:te.Manga,likeFrom:"grid"})},[l,s,i==null?void 0:i.likedCount,a,t]);return n.jsx(Ed,{...r,manga:i,onLikeClick:f,onMangaClick:m,wrapperRef:c})}function vs(e){const{trackingArgs:t,artworks:a,onArtworkClick:s,loading:i,lastElementRef:o,queryParams:{order:l,q:r}={},className:c,showIndex:d,enableTracking:m,showDislike:f,containerProps:h,modifyArtworkElements:x=I=>I}=e,{t:g}=D(["artwork"]),v=Be(),[p,k]=u.useState(!1),[b,j]=u.useState(),[S,y]=u.useState(),C=u.useCallback(I=>I.preventDefault(),[]),N=u.useCallback((I,z)=>{z?window.open(cn(I),"_blank"):(j(I),k(!0))},[]),B=u.useCallback((I,z)=>{const A=rs(I);y({type:A?qn(A)?dt.AnimatedComic:te.Manga:te.Artwork,artworkId:I.id,currentLikeCount:I.likedCount??0,index:z??0}),N(I),s==null||s(I)},[s,N]),$=u.useCallback(()=>{y(void 0),k(!1)},[]);u4({onArtworkOpen:N});const M=u.useMemo(()=>{if(!a)return null;const I=a.map((z,A)=>{const V=A===a.length-1;if(Gn(z)){const Z=Xm(z),L=rs(z);if(L){const Q={manga:L,shouldBlur:ol(z),showAuthor:!0,onMangaClick:K=>N(K),lastElementRef:V?o:null,index:A,showIndex:d,artworkModFlags:{isWarned:Z},showDislike:f,artwork:z};return m?n.jsx(d4,{artworkId:z.id,...Q},L.id):n.jsx(Ed,{...Q},L.id)}const O={trackingArgs:t,artwork:z,onClick:C,onArtworkClick:B,showAuthor:!0,lastElementRef:V?o:null,to:cn(z),index:A,showIndex:d,showDislike:f,menu:[{id:"open-in-new-window",icon:n.jsx(Zs,{className:"size-5"}),children:n.jsx(P,{i18nKey:"action:open-in-new-window"}),onAction:()=>N(z,!0)}],oauthReturnOpensDetail:!0};return m?n.jsx(cx,{id:z.id,...O},z.id):n.jsx(Jn,{...O},z.id)}return null});return x(I,{gridItemType:"artwork"})},[a,v,g,l,r,m,f,x]);return n.jsxs("div",{className:w("w-full grid content-start","grid-cols-2 gap-2","lg:grid-cols-4 lg:gap-3",c),...h,children:[M,i&&Array.from({length:20}).map((I,z)=>n.jsx(Jn,{loading:!0},z)),n.jsx(Ad,{open:p,onClose:$,artwork:b,trackingArgs:t,extraLikeTrackingArgsForRec:m?S:void 0})]})}function u4(e){const{data:t}=de(),[{artworkId:a,openDetail:s},i]=Ne(),o=u.useRef(!1),l=u.useRef(!1),[r,c]=u.useState();u.useEffect(()=>{t&&(!a||!s||o.current||(typeof a=="string"&&s==="true"&&c(a),o.current=!0,i(m=>({...m,artworkId:null,openDetail:null}))))},[t==null?void 0:t.id,a,s]);const{data:d}=ra(r);return u.useEffect(()=>{l.current||d!=null&&d.id&&(l.current=!0,e.onArtworkOpen(d))},[d==null?void 0:d.id]),r}const m4=new No,f4=m4.pipe(Y0((e,t)=>e+t,0)),h4=()=>H0(f4,0),lo=new O0(!1),x4=(e,{offset:t=0,threshold:a=0}={})=>{const{top:s,right:i,bottom:o,left:l,width:r,height:c}=e.getBoundingClientRect(),d={t:o,r:window.innerWidth-l,b:window.innerHeight-s,l:i},m={x:a*r,y:a*c};return d.t>=(t.top||t+m.y)&&d.r>=(t.right||t+m.x)&&d.b>=(t.bottom||t+m.y)&&d.l>=(t.left||t+m.x)},Td="_cursor",g4=(e,t,a,s)=>Qm(Qe(e,{...Ym(t),[Td]:s}),a),p4=()=>{const[e]=Ne();return e[Td]};function b4(e){const t=Ro();return e.cursor?n.jsx(ie,{className:"opacity-0",target:"_blank",to:g4(t.pathname,t.search,t.hash,e.cursor),children:"Next Page"}):null}function v4(e){return ba("MuiFab",e)}const ro=pa("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),y4=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],w4=e=>{const{color:t,variant:a,classes:s,size:i}=e,o={root:["root",a,`size${on(i)}`,t==="inherit"?"colorInherit":t]},l=ya(o,v4,s);return ee({},s,l)},k4=ve(ft,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Jm(e)||e==="classes",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`size${on(a.size)}`],a.color==="inherit"&&t.colorInherit,t[on(a.size)],t[a.color]]}})(({theme:e,ownerState:t})=>{var a,s;return ee({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(a=(s=e.palette).getContrastText)==null?void 0:a.call(s,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${ro.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},t.size==="small"&&{width:40,height:40},t.size==="medium"&&{width:48,height:48},t.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},t.variant==="extended"&&t.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},t.variant==="extended"&&t.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},t.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:t})=>ee({},t.color!=="inherit"&&t.color!=="default"&&(e.vars||e).palette[t.color]!=null&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}}),({theme:e})=>({[`&.${ro.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),j4=u.forwardRef(function(t,a){const s=va({props:t,name:"MuiFab"}),{children:i,className:o,color:l="default",component:r="button",disabled:c=!1,disableFocusRipple:d=!1,focusVisibleClassName:m,size:f="large",variant:h="circular"}=s,x=wn(s,y4),g=ee({},s,{color:l,component:r,disabled:c,disableFocusRipple:d,size:f,variant:h}),v=w4(g);return n.jsx(k4,ee({className:Ie(v.root,o),component:r,disabled:c,focusRipple:!d,focusVisibleClassName:Ie(v.focusVisible,m),ownerState:g,ref:a},x,{classes:v,children:i}))}),C4=e=>(e0(()=>{document.documentElement.dataset.showScrollTop=""}),zl(()=>{delete document.documentElement.dataset.showScrollTop}),n.jsx("div",{className:w("fixed bottom-24 right-6 gap-8",e.className),style:e.style,children:n.jsx(j4,{color:"secondary",size:"small",className:w("shadow-md"),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:n.jsx(Fs,{})})})),S4=e=>e,N4=({tag:e,q:t,relevantArtworkId:a,order:s,type:i,i2vPro:o,challenge:l,authorId:r,pageSize:c=24,renderEmpty:d,renderLoading:m=()=>n.jsx(je,{}),renderContent:f,containerProps:h,extraArgs:x,showSpeedDial:g=!0,mixArtworks:v=S4,trackingArgs:p,ignoreSafeSearch:k,ignoreShowNsfw:b,scrollContainer:j=window})=>{const{t:S}=D(["artwork"]),y=p4(),[C,N]=u.useState(y),[B,$]=u.useState(),[M,I]=u.useState(!0),[z,A]=u.useState(),V=u.useRef(!1),[Z,L]=u.useState([]),O=u.useMemo(()=>v(Z),[v,Z]),{data:Q,isValidating:K}=de(),[H]=Qo(),[me]=t0(),xe=b?!1:H,pt=k?!0:me,bt=u.useRef(null),[_t,ge]=et(T0(async({showNsfw:at,tag:Ae,q:vt,relevantArtworkId:Dn,cursor:Ut,authorId:ye,order:pe=E.recommended,type:Ot=Ze.Default,i2vPro:st,challenge:Ht})=>{A(void 0);try{const se={...x,isNsfw:at?void 0:!1,isSafeSearch:pt,tag:Ae,q:typeof vt=="string"?_5(vt):void 0,relevantArtworkId:Dn,authorId:ye,type:Ot,i2vPro:st},yt=Yo(pe);if(yt?(se.first=c,se.after=Ut):(se.last=c,se.before=Ut),se.feed=n0({order:pe,type:Ot,relevantArtworkId:Dn,q:vt,tag:Ae}),pe===E.dailyRanking){const Kt=ut().subtract(1,"day").startOf("day");se.orderBy="-markInfo.likedCount",se.time={gt:Kt}}pe===E.mostLiked&&(se.orderBy="-markInfo.likedCount"),Ae==="challenge"&&(se.challenge=Ht,se.tag=void 0),(Ae==="all"||!Ae)&&(se.tag=void 0),lo.next(!0);const{artworks:Ee}=await J.listArtworks(se),Bn=ce(Ee),La=yt?Bn:Bn.reverse();L(Kt=>Rs([...Kt,...La],"id")),yt?(N(Ee.pageInfo.endCursor),I(Ee.pageInfo.hasNextPage),B||$(Ee.pageInfo.endCursor)):(N(Ee.pageInfo.startCursor),I(Ee.pageInfo.hasPreviousPage),B||$(Ee.pageInfo.startCursor))}catch(se){console.error(se),A(se)}finally{lo.next(!1),V.current||(V.current=!0)}}),[Q==null?void 0:Q.id,pt,xe],{defaultLoadingState:!0}),nt=u.useCallback(async()=>{M&&ge({showNsfw:xe,tag:e,q:t,relevantArtworkId:a,cursor:C,order:s,type:i,i2vPro:o,authorId:r,challenge:l})},[M,xe,e,t,a,C,s,i,o,r,l,ge]);u.useEffect(()=>{V.current&&(L([]),I(!0),N(void 0),ge({showNsfw:xe,tag:e,q:t,relevantArtworkId:a,order:s,type:i,i2vPro:o,authorId:r,challenge:l}))},[xe,e,t,a,s,i,o,r,l,ge]),u.useEffect(()=>{K||V.current||nt()},[K]);const Pn=u.useRef(null);O1("scroll",u.useCallback(()=>{bt.current&&x4(bt.current,{offset:-500})&&M&&nt()},[M,nt]),j,{passive:!0});const Ta=u.useCallback(async at=>{if(Gn(at)){const Ae=await Fl(L);ze("image_click",at,{...p,curPage:Ae.length/c<<0},{destinations:["getway"]})}},[]),Vt=u.useMemo(()=>({...p,type:i}),[i,p]),za=O.length===0?_t?m():d?d():n.jsx($4,{userInfo:Q,order:s,q:t,trackingArgs:Vt}):f({artworks:O,loadMore:nt,onArtworkClick:Ta,loading:_t,lastElementRef:bt,queryParams:{order:s,q:t},trackingArgs:Vt});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{...h,className:w("w-full flex flex-wrap justify-center mb-8 min-h-screen",h==null?void 0:h.className),children:[za,!M&&O.length>0&&!_t&&n.jsx("div",{className:"text-active font-bold text-3xl w-full text-center",children:S("common:list-reached-the-end")}),n.jsx(b4,{cursor:B})]}),n.jsx("div",{ref:Pn,className:"w-full flex justify-center mb-8",children:M?n.jsx(je,{fullHeight:!0}):null}),g&&n.jsx(M4,{})]})},$4=e=>{const{userInfo:t,order:a,q:s,trackingArgs:i}=e,{t:o}=D(["artwork"]);return n.jsxs(n.Fragment,{children:[n.jsx(Cn,{description:a===E.followingNews?o(t?"artwork:search-results.empty-no-following":"artwork:search-results.empty-no-login"):s?o("artwork:search-results.empty-with-keyword",{keyword:s}):o("artwork:search-results.empty-without-keyword")}),n.jsxs("section",{className:"w-full",children:[n.jsx("h3",{className:"mb-4 text-xl font-bold",children:o("artwork:search-results.recommendation-section.heading")}),n.jsx(Mn,{order:"recommended",showDislike:!0,enableTracking:!0,trackingArgs:i,renderEmpty:()=>null,ignoreSafeSearch:!0,ignoreShowNsfw:!0})]})]})},M4=()=>{const e=Be();return n.jsx(n.Fragment,{children:n.jsx(C4,{style:{bottom:e?76:void 0}})})},Mn=({enableTracking:e,showDislike:t,modifyArtworkElements:a,...s})=>n.jsx(u.Suspense,{children:n.jsx(N4,{...s,renderContent:i=>n.jsx(vs,{enableTracking:e,showDislike:t,modifyArtworkElements:a,...i}),renderLoading:()=>n.jsx(vs,{loading:!0})})}),I4=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"m20.71 4.63l-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25L11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2c.92 1.22 2.5 2 4 2a4 4 0 0 0 4-4a3 3 0 0 0-3-3Z"})});var we="SharedWorker"in globalThis,P4=class{constructor(e,t){Tn(this,"ActualWorker");we?this.ActualWorker=new SharedWorker(e,t):this.ActualWorker=new Worker(e,t)}get onmessage(){var e;return we?(e=this.ActualWorker)==null?void 0:e.port.onmessage:this.ActualWorker.onmessage}set onmessage(e){we?this.ActualWorker.port.onmessage=e:this.ActualWorker.onmessage=e}get onmessageerror(){var e;return we?(e=this.ActualWorker)==null?void 0:e.port.onmessageerror:this.ActualWorker.onmessageerror}set onmessageerror(e){we?this.ActualWorker.port.onmessageerror=e:this.ActualWorker.onmessageerror=e}start(){var e;if(we)return(e=this.ActualWorker)==null?void 0:e.port.start()}postMessage(e,t){var a;return we?(a=this.ActualWorker)==null?void 0:a.port.postMessage(e,t):this.ActualWorker.postMessage(e,t)}terminate(){var e;return we?(e=this.ActualWorker)==null?void 0:e.port.close():this.ActualWorker.terminate()}close(){return this.terminate()}get port(){return we?this.ActualWorker.port:this.ActualWorker}get onerror(){return this.ActualWorker.onerror}set onerror(e){this.ActualWorker.onerror=e}addEventListener(e,t,a){var s;return we&&e!=="error"?(s=this.ActualWorker)==null?void 0:s.port.addEventListener(e,t,a):this.ActualWorker.addEventListener(e,t,a)}removeEventListener(e,t,a){var s;return we&&e!=="error"?(s=this.ActualWorker)==null?void 0:s.port.removeEventListener(e,t,a):this.ActualWorker.removeEventListener(e,t,a)}dispatchEvent(e){return this.ActualWorker.dispatchEvent(e)}},D4=P4;const B4=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],A4=window.mozInnerScreenX!=null;function E4(e,t,a){const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div";const i=s.style,o=window.getComputedStyle(e),l=e.nodeName==="INPUT";i.whiteSpace="pre-wrap",l||(i.wordWrap="break-word"),i.position="absolute",i.visibility="hidden",B4.forEach(function(d){i[d]=o[d]}),A4?e.scrollHeight>parseInt(o.height)&&(i.overflowY="scroll"):i.overflow="hidden",s.textContent=e.value.substring(0,t),l&&(s.textContent=s.textContent.replace(/\s/g," "));const r=document.createElement("span");r.textContent=e.value.substring(t)||".",s.appendChild(r),document.body.appendChild(s);const c={top:r.offsetTop+parseInt(o.borderTopWidth),left:r.offsetLeft+parseInt(o.borderLeftWidth),height:parseInt(o.lineHeight)};return document.body.removeChild(s),c}function T4(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function z4(...e){return u.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(a=>{T4(a,t)})},e)}const L4=o0();try{window.caches&&caches.delete("tag-complete")}catch{}const nn=["bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700","bg-gray-800","bg-gray-900","bg-yellow-500","bg-yellow-600","bg-yellow-700","bg-yellow-800","bg-yellow-900","bg-orange-500","bg-orange-600","bg-orange-700","bg-orange-800","bg-orange-900"],F4=1,R4=1e6,_4=(()=>{const e=[],t=Math.log10(F4),s=(Math.log10(R4)-t)/nn.length;for(let i=0;i<nn.length;i++)e.push([Math.pow(10,t+s*i),Math.pow(10,t+s*(i+1)),nn[i]]);return e})(),V4=e=>{for(const[t,a,s]of _4)if(e>=t&&e<a)return s;return nn[nn.length-1]},U4=a0(s0,!0),zd=()=>Ps(U4,{store:L4}),In=u.createContext({enable:void 0,setEnable:()=>{},loadingProgress:i0(0),loadingComplete:!1,setLoadingComplete:()=>{},setDataRef:{current:void 0},textareaRef:{current:null},completionRef:{current:null}});function O4(e){const[t,a]=zd(),s=l0(0),[i,o]=u.useState(!1),l=u.useRef(),r=u.useRef(null),c=u.useRef(null);return n.jsx(In.Provider,{value:{enable:e.enable??t,setEnable:e.setEnable??a,loadingProgress:s,loadingComplete:i,setLoadingComplete:o,setDataRef:l,textareaRef:r,completionRef:c},children:e.children})}const H4=u.forwardRef(function(t,a){const{enable:s,setDataRef:i,textareaRef:o,completionRef:l}=u.useContext(In),r=z4(a,o),c=u.useCallback(f=>{var b;if(!s||!o.current||"key"in f&&f.key==="Escape")return;const{value:h,selectionStart:x,selectionEnd:g}=o.current,v=E4(o.current,x),p=o.current.getBoundingClientRect(),k={prompts:h,selectionStart:x,selectionEnd:g,x:v.left+p.x,y:v.top+v.height+p.y};(b=i.current)==null||b.call(i,k)},[i,s,o]),d=u.useCallback(f=>{var h;(h=l.current)==null||h.onInputBlur(f)},[l]),m=u.useCallback(f=>{var h,x;(h=l.current)!=null&&h.isOpen()&&((f.key==="Tab"||f.key==="Enter")&&(f.preventDefault(),l.current.confirm()),(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),l.current.shift(f.key==="ArrowUp"?-1:1))),f.key==="Escape"&&((x=i.current)==null||x.call(i,void 0))},[i,l]);return n.jsx("textarea",{...t,ref:r,onKeyDown:(...f)=>{var h;m(...f),(h=t.onKeyDown)==null||h.call(t,...f)},onInput:(...f)=>{var h;c(...f),(h=t.onInput)==null||h.call(t,...f)},onKeyUp:(...f)=>{var h;c(...f),(h=t.onKeyUp)==null||h.call(t,...f)},onMouseUp:(...f)=>{var h;c(...f),(h=t.onMouseUp)==null||h.call(t,...f)},onFocus:(...f)=>{var h;c(...f),(h=t.onFocus)==null||h.call(t,...f)},onBlur:(...f)=>{var h;d(...f),(h=t.onBlur)==null||h.call(t,...f)}})});function K4(e){const{t}=D(["generation"]),{enable:a,setEnable:s,loadingProgress:i,loadingComplete:o}=u.useContext(In),{labelPlacement:l,...r}=e,c=u.useCallback(m=>{T("auto_complete_check",{checked:m}),i.set(0),s(m)},[i,s]),d=n.jsx(r0,{delay:250,placement:"bottom end",trigger:n.jsx(Ns,{className:"font-medium text-xs",onPress:m=>{var f;(f=m.target.parentElement)==null||f.click()},children:t("generation:completion.label")}),children:n.jsx(W4,{})});return n.jsx("div",{...r,className:w("flex items-center gap-1 select-none",e.className),children:a&&!o?n.jsxs("div",{className:"flex items-center gap-1",children:[d,n.jsxs("div",{className:"relative w-[22px] h-[10px] rounded-full overflow-hidden ml-auto",children:[n.jsx("div",{className:"w-full h-full opacity-30 bg-theme-primary"}),n.jsx(Vn.div,{className:"absolute -left-full right-0 top-0 bottom-0 bg-theme-primary scale-x-[--scaleX]",style:{"--scaleX":i}})]})]}):n.jsx(nl,{labelPlacement:l??"start",className:"ml-auto items-center gap-1",size:"xsmall",isSelected:!!a,onChange:c,children:d})})}function W4(){const{t:e}=D(["generation"]);return n.jsxs("div",{className:"p-4 text-sm max-w-[24rem]",children:[e("generation:completion.help.description"),n.jsx("h3",{className:"mt-2 font-semibold",children:e("generation:completion.help.keyboard-shortcuts-title")}),n.jsxs("ul",{className:"ml-4 list-disc",children:[n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"↑/↓"}),":"," ",e("generation:completion.help.keyboard-shortcuts-up-down")]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Tab"}),":"," ",e("generation:completion.help.keyboard-shortcuts-tab")]})]})]})}function G4(){const{enable:e}=u.useContext(In);return n.jsx(u.Suspense,{children:e&&n.jsx(q4,{})})}function q4(){const{setDataRef:e,loadingProgress:t,setLoadingComplete:a,textareaRef:s,completionRef:i}=u.useContext(In),[o,l]=u.useState(void 0);e.current=I=>{JSON.stringify(I)!==JSON.stringify(o)&&l(I)};const r=u.useRef(null),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),[f,h]=u.useState(null),[x,g]=u.useState(0),{data:v}=c0("worker:tagComplete",Z4,{suspense:!0}),{data:{tagCompleteAssets:p}={}}=Lt({suspense:!0}),[k,b]=u.useState(null);u.useEffect(()=>{const I=new D4(v,{type:"module"}),z=()=>{m.current&&(d.current=m.current,I.postMessage(m.current.req),m.current=null)};return I.onmessage=A=>{const V=A.data;switch(V.type){case"progress":{t.set(V.progress),a(V.progress>=1);break}case"completion":{h({...d.current,completions:V.completions,time:V.time}),g(0),d.current=null,z();break}}},I.onerror=A=>{b(null),h(null),d.current=null,m.current=null,G.error(A.message)},I.postMessage({type:"init",assets:p}),z(),b(I),()=>{b(null),I.close(),m.current||(m.current=d.current),d.current=null,h(null)}},[t,a,v]);const j=u.useCallback(I=>{!k||d.current?m.current=I:(d.current=I,k.postMessage(I.req))},[k]);u.useEffect(()=>{if(!o){h(null);return}const I=o.prompts.slice(0,o.selectionStart),[,z="",A=""]=I.match(/(^|[\s\S]*[,()[\]]\s*)([^,()[\]]*)$/)??[],V=o.prompts.slice(o.selectionEnd).replace(/^\s*,\s*/,"");j({data:o,query:A,prefix:z,suffix:V,req:{type:"request",query:A,prefix:z}})},[o,j]);const S=u.useCallback(()=>((f==null?void 0:f.completions.length)??0)>0,[f]),y=u.useCallback((I=x)=>{if(!f||!f.completions[I]||!s.current)return;const z=(V,Z)=>{s.current.focus(),s.current.setSelectionRange(V,Z)},A=f.completions[I].name+", ";z(f.prefix.length,f.data.prompts.length-f.suffix.length),document.execCommand("insertText",!1,A),z(f.prefix.length+A.length,f.prefix.length+A.length),h(null)},[x,f,s]),C=u.useCallback(I=>{f&&g((x+I+f.completions.length)%f.completions.length)},[f,x]),N=u.useCallback(I=>{var z;(z=c.current)!=null&&z.contains(I.relatedTarget)||h(null)},[]);u.useImperativeHandle(i,()=>({isOpen:S,confirm:y,shift:C,onInputBlur:N}),[y,C,N]);const B=u.useMemo(()=>n.jsx("div",{className:"px-1 py-0.5 rounded-md tracking-wide border border-solid border-gray-400 text-gray-400 scale-75 leading-none",children:"TAB"}),[]),{overlayProps:$,updatePosition:M}=d0({targetRef:r,overlayRef:c,placement:"bottom left"});return u.useLayoutEffect(M,[f]),n.jsxs(b1,{children:[n.jsx("div",{ref:r,className:"z-20 fixed -translate-y-full",style:{left:(f==null?void 0:f.data.x)||-1e3,top:(f==null?void 0:f.data.y)||-1e3},children:n.jsx("wbr",{})}),f!=null&&f.completions.length?n.jsxs("div",{ref:c,...$,className:w($.className,"flex flex-col bg-background border border-solid border-gray-100 dark:border-gray-600 min-w-[10rem] max-w-[20vw] rounded-md overflow-hidden py-0.5"),children:[f==null?void 0:f.completions.map((I,z)=>n.jsxs("button",{className:w("px-1 py-px w-full text-start flex items-center justify-between gap-1",z===x?"bg-background-light":"text-primary-light"),onClick:()=>y(z),children:[n.jsx("div",{className:"truncate",children:I.name}),I.post_count?n.jsx("div",{className:w("shrink-0 rounded-full px-1 py-0.5 text-[11px] leading-none text-white bg-gray-400",V4(I.post_count)),children:De(I.post_count)}):null,n.jsx("div",{className:"flex-1"}),n.jsx("div",{className:"shrink-0",children:z===x&&B})]},z)),f!=null&&f.time?n.jsxs("div",{className:"absolute bottom-0 right-0 text-xs text-gray-600 dark:text-gray-400 -translate-x-1/1",children:[f.time.toFixed(1),"ms"]}):null]}):null]})}async function Z4(){class e{constructor(i,o){Tn(this,"url");Tn(this,"options");this.url=i,this.options=o}}const{url:t}=new e(new URL("https://cdn.pixai.art/artifacts/app-2a97546287d4bdd7d7b76367efd818c8351c44e2/assets/tagComplete.worker-Bi6qd6bS.js",import.meta.url),{type:"module"}),a=await(await fetch(t)).text();return`data:application/javascript,${encodeURIComponent(a)}`}function X4(){var N;const{t:e}=D(["artwork","generation","workflow"]),t=At(),{loading:a,submit:s}=Ke(),{data:i}=de(),{data:o,isValidating:l}=sl(),{data:r,isValidating:c}=Xo({feed:"preset",type:R.AnyModel}),d=(N=ce(r))==null?void 0:N[0],m=d==null?void 0:d.latestAvailableVersion,f=ka(d==null?void 0:d.type),h=m0.find(B=>{var $;return(($=B.extraProps)==null?void 0:$.sdxl)===f}),[x,g]=Jo("sgfiv",""),v=u.useRef(null),p=B=>n.jsx("button",{ref:v,className:w("w-auto h-12 px-7 mlg:px-[30px] text-white disabled:bg-opacity-40 rounded-xl transition text-base font-semibold","bg-theme-primary hover:bg-violet-500 dark:bg-violet-600",B.className),onFocus:$=>$.stopPropagation(),onClick:()=>{T("start_creating_click");const $={...o?o.base:{},modelId:m==null?void 0:m.id,...h,...el({versionExtra:m==null?void 0:m.extra,modelExtra:d==null?void 0:d.extra,modelId:d==null?void 0:d.id},{enableLightningMode:!0}),isHomepage:!0,prompts:x,batchSize:4};if(Je("generate_source"),x==="")return t(i?"/generator":Qe("/generator",{showSignUpModal:1,signupModalRedirect:rn(window.location.origin,"generator")}));if(!i)return t(Qe("/generator",{showSignUpModal:1,initialValues:Yn($),submitTask:1,signupModalRedirect:Qe(`${rn(window.location.origin,"generator")}`,{initialValues:Yn($),submitTask:1})}));try{s(async()=>$,M=>{t(`/generator/image?${Mt({task:mn(M.createGenerationTask),showOnStage:"1"})}`)},{hideSubmissionToast:!0})}catch{f0("generate_source")}},disabled:x!==""&&(a||l||c),children:n.jsx("span",{className:"relative",children:e("common:home.start-creating.label")})}),k=J0(),[b,j]=u.useState(x.length>0),S=Be("lg"),[y,C]=zd();return n.jsxs(O4,{enable:y&&!S,setEnable:C,children:[!S&&b&&n.jsxs(n.Fragment,{children:[n.jsx("div",{id:"workbench-layout-overlays",className:"fixed top-0 left-0 z-20 w-full h-0"}),n.jsx(G4,{})]}),n.jsxs("div",{ref:k,className:w("mx-auto w-full max-w-3xl flex justify-center gap-2 rounded-xl mlg:rounded-2xl p-2 items-start bg-neutral-50 dark:bg-neutral-900 shadow-md","transition-all duration-300",b?"h-40":"h-16"),onFocus:()=>j(!0),onBlur:B=>{v.current&&B.relatedTarget===v.current||x===""&&j(!1)},children:[n.jsx("div",{className:"flex items-center justify-center px-3 h-12",children:n.jsx(I4,{className:"text-primary opacity-50 size-6"})}),n.jsx(H4,{id:"simple-generation-form",rows:b?4:1,value:x,placeholder:e("artwork:generation.placeholder"),onChange:B=>{const $=B.target.value;g($)},className:"mx-auto py-3 flex-1 relative bg-transparent transition-all outline-none resize-none placeholder:truncate"}),n.jsxs("div",{className:"flex flex-col mt-auto flex-shrink-0",children:[!S&&n.jsx(K4,{labelPlacement:"end",className:w("relative mx-auto transition-all duration-300",b?"-top-2 opacity-100 max-h-4":"top-0 opacity-0 max-h-0",!b&&"pointer-events-none")}),n.jsx(p,{className:"mt-auto"})]})]})]})}function Q4(){return n.jsx(u0,{children:n.jsx(X4,{})})}const Y4=({tagInfo:e,className:t,style:a})=>{var i;const{t:s}=D(["common"]);return n.jsxs("div",{className:t,style:a,children:[n.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[e.selectedContestTag&&n.jsxs("div",{className:"font-bold leading-5",children:["#",e.name]}),e.selectedContestTag?e.selectedContestTag.isInProgress?n.jsxs(n.Fragment,{children:[n.jsx(Si,{size:"small",color:"error",label:s("common:in-progress")}),n.jsx(ie,{to:`/generator?challenge=${(i=e.selectedContestTag)==null?void 0:i.cid}`,onClick:()=>{T("contest_join_click"),Je("generate_source")},children:s("common:click-here-to-join-contest")})]}):e.selectedContestTag.isEnded?n.jsx(Si,{size:"small",color:"default",label:s("common:ended")}):null:null]}),e.description?n.jsx(Uo,{className:"prose dark:prose-invert w-full max-w-full [&_img]:m-auto",onClick:()=>{T("animate_learn_click")},children:e.description}):null]})},J4=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M11.67 3.87L9.9 2.1L0 12l9.9 9.9l1.77-1.77L3.54 12z"})}),e3=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsx("path",{fill:"currentColor",d:"M6.23 20.23L8 22l10-10L8 2L6.23 3.77L14.46 12z"})}),Ld=u.forwardRef(({children:e,className:t,style:a,showScrollButton:s=!0},i)=>{const o=u.useRef(null),l=u.useRef(null);u.useImperativeHandle(i,()=>l),u.useLayoutEffect(()=>{const d=l.current;if(!d)return;const m=60,f=()=>{const{scrollLeft:h,scrollWidth:x,clientWidth:g}=d,v=h,p=x-g-h,k=v>m?0:1-v/m,b=p>m?0:1-p/m,j=`linear-gradient(to right, rgba(255, 255, 255, ${k}) 0%, rgba(255, 255, 255, 1) ${m}px, rgba(255, 255, 255, 1) calc(100% - ${m}px), rgba(255, 255, 255, ${b}) 100%)`;o.current&&(o.current.style.mask=j,o.current.style.webkitMask=j)};return d.addEventListener("scroll",f,{passive:!0}),f(),()=>{d.removeEventListener("scroll",f)}},[]);const{x:r}=J1(l),c=l.current?l.current.scrollWidth-l.current.clientWidth:1/0;return n.jsxs("div",{ref:o,className:"relative",children:[n.jsx("div",{className:w("overflow-x-auto overflow-y-visible relative hide-scrollbar",t),ref:l,style:a,children:e}),s&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:w(r>0?"w-[100px]":"w-0","transition-all absolute top-0 bottom-0 left-0 overflow-hidden flex items-center justify-start"),style:{opacity:r>0?1:0},children:n.jsx("button",{className:"flex items-center h-full py-2 px-4 transition rounded-none bg-gradient-to-r hover:from-zinc-900/20 active:from-zinc-900/60 to-transparent",onClick:()=>{var d;(d=l.current)==null||d.scrollBy({left:-100,behavior:"smooth"})},children:n.jsx(J4,{className:"size-6"})})}),n.jsx("div",{className:w(r<c?"w-[100px]":"w-0","transition-all absolute top-0 bottom-0 right-0 overflow-hidden flex items-center justify-end"),style:{opacity:r<c?1:0},children:n.jsx("button",{className:"flex items-center h-full py-2 px-4 transition rounded-none bg-gradient-to-l hover:from-zinc-900/20 active:from-zinc-900/60 to-transparent",onClick:()=>{var d;(d=l.current)==null||d.scrollBy({left:100,behavior:"smooth"})},children:n.jsx(e3,{className:"size-6"})})})]})]})});Ld.displayName="HorizontalScrollable";const es=({name:e,active:t,onClick:a=()=>{},icon:s,media:i,mediaId:o,displayName:l=e,scene:r,to:c})=>{const{data:d}=Io(i?void 0:o),m=h0(i??d);return n.jsxs(ft,{className:w("px-1.5 py-1 pr-2 flex flex-row gap-1 items-center rounded-lg transition hover:shadow active:shadow-md hover:no-underline",t?"bg-purple-600 shadow-sm":"bg-neutral-200/50 hover:bg-neutral-300/80 active:bg-[rgba(0,0,0,0.18)]"),onClick:()=>{a(),T("tag_click",{tag:e,isCancel:t,scene:r});const f=document.querySelector("#tag-gallery");f&&f.scrollIntoView({behavior:"smooth"})},title:l,...c?{component:ie,to:c}:{},children:[s?n.jsx("div",{className:w(t?"text-white":"text-primary"),children:s}):n.jsx("div",{className:"w-max",children:m&&n.jsx("img",{src:m,alt:l,width:24,height:24,className:"object-cover w-[24px] h-[24px] rounded-full",loading:"lazy"})}),n.jsx("p",{className:w("text-sm group-hover:bg-hover capitalize whitespace-nowrap w-min",t?"text-white font-semibold":"text-primary"),children:l})]})},t3=()=>{const{data:e}=Lt(),t=Ls(),a=u.useMemo(()=>{var i,o;let s=((o=(i=e==null?void 0:e.tag)==null?void 0:i.categories)==null?void 0:o.slice())||[];return t&&(s=s.concat(t)),s},[e,t.length]);return u.useEffect(()=>{for(const s of a)if(s.locales)for(const[i,o]of Object.entries(s.locales))Ni.addResourceBundle(i,"common",{[`tag.${s.name}`]:o},!0,!0);Ni.emit("languageChanged")},[a]),a},Fd=u.memo(e=>{var b,j;const{className:t,listTagVariables:a,scene:s}=e,{t:i}=D("common"),o=t3(),l=Ls(),[{tag:r,challenge:c,cate:d=(b=o[0])==null?void 0:b.name},m]=Ne(),f=e.currentTag||r,{data:h,isValidating:x}=x0(d?{...a,first:50,orderBy:"-weight"}:void 0),g=u.useMemo(()=>ce(h),[h]),v=u.useMemo(()=>g.map(S=>S.name).includes(f),[f,g]),p=l.map(({id:S,name:y,cid:C,mediaId:N,isInProgress:B})=>{if(!B)return null;const $=f==="challenge"&&+c===C,M=i(`common:contest.tag.${y}.name`,{defaultValue:y});return n.jsx(es,{displayName:M,active:$,name:y,mediaId:N,...e.navigateToContest?{to:e.navigateToContest({id:S,cid:C,active:$})}:{}},y)}),k=(j=e.prependTagAlikeItems)==null?void 0:j.map(S=>n.jsx(es,{name:S.name,displayName:S.displayName,onClick:S.onClick,active:S.selected,icon:S.icon},S.name));return n.jsx("div",{className:w("w-full flex flex-col",t),id:"tag-gallery",children:n.jsxs(Ld,{className:"flex min-w-full gap-1 py-1.5",children:[e.contestItemsStayFirst?n.jsxs(n.Fragment,{children:[p,k]}):n.jsxs(n.Fragment,{children:[k,p]}),g.length>0?[...!v&&e.displayUnknownTag?[{id:f,name:f,media:void 0}]:[],...g].map(S=>{const y=S.name===f;return n.jsx(es,{name:S.name,active:y,scene:s,media:S.media,...e.navigateToTag?{to:e.navigateToTag(S.name)}:{onClick:()=>{m({tag:y?null:S.name,challenge:null})}}},S.id)}):x?Array.from({length:10}).map((S,y)=>n.jsxs("div",{className:"min-w-[80px] flex gap-1 items-center rounded-lg px-1.5 py-1",children:[n.jsx("div",{className:"w-[24px] h-[24px] rounded-full bg-skeleton animate-pulse"}),n.jsx("div",{className:"rounded w-[40px] animate-pulse h-4 bg-skeleton"})]},y)):null]})})});Fd.displayName="memo(TagGallery)";const n3=e=>{const{t}=D(["common"]),a=Ls(),{data:s}=g0({name:e}),[i]=Ne(),o=+(i==null?void 0:i.challenge);return u.useMemo(()=>{var l;if(e==="challenge"){const r=a==null?void 0:a.find(c=>c.cid===o);return r?{name:t("common:contest.contest-name",{name:t(`common:contest.tag.${r.name}.name`,{defaultValue:r.name})}),description:t(`common:contest.tag.${r.name}.description`,{defaultValue:null}),selectedContestTag:r}:{name:e}}return s?{name:s.name,description:(l=s.extra)==null?void 0:l.description}:{name:e}},[a,e,o,s,t])},a3=e=>n.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:n.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[n.jsx("path",{d:"M12 16c-5.76 0-6.78-5.74-6.96-10.294c-.051-1.266-.076-1.9.4-2.485c.475-.586 1.044-.682 2.183-.874A26.374 26.374 0 0 1 12 2c1.784 0 3.253.157 4.377.347c1.139.192 1.708.288 2.184.874c.476.586.45 1.219.4 2.485c-.18 4.553-1.2 10.294-6.96 10.294Z"}),n.jsx("path",{strokeLinecap:"round",d:"M12 16v3"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.5 22h-7l.34-1.696a1 1 0 0 1 .98-.804h4.36a1 1 0 0 1 .98.804L15.5 22Z"}),n.jsx("path",{d:"m19 5l.949.316c.99.33 1.485.495 1.768.888c.283.393.283.915.283 1.958v.073c0 .86 0 1.291-.207 1.643c-.207.352-.584.561-1.336.98L17.5 12.5M5 5l-.949.316c-.99.33-1.485.495-1.768.888C2 6.597 2 7.12 2 8.162v.073c0 .86 0 1.291.207 1.643c.207.352.584.561 1.336.98L6.5 12.5m4.646-6.477C11.526 5.34 11.716 5 12 5c.284 0 .474.34.854 1.023l.098.176c.108.194.162.29.246.354c.085.064.19.088.4.135l.19.044c.738.167 1.107.25 1.195.532c.088.283-.164.577-.667 1.165l-.13.152c-.143.167-.215.25-.247.354c-.032.104-.021.215 0 .438l.02.203c.076.785.114 1.178-.115 1.352c-.23.174-.576.015-1.267-.303l-.178-.082c-.197-.09-.295-.135-.399-.135c-.104 0-.202.045-.399.135l-.178.082c-.691.319-1.037.477-1.267.303c-.23-.174-.191-.567-.115-1.352l.02-.203c.021-.223.032-.334 0-.438c-.032-.103-.104-.187-.247-.354l-.13-.152c-.503-.588-.755-.882-.667-1.165c.088-.282.457-.365 1.195-.532l.19-.044c.21-.047.315-.07.4-.135c.084-.064.138-.16.246-.354l.098-.176Z"}),n.jsx("path",{strokeLinecap:"round",d:"M18 22H6"})]})}),Rd=u.createContext({}),s3=()=>u.useContext(Rd),vb=()=>{const{data:e}=de(),{t}=D(["common","artwork","manga"]),a=e?f2:h2,[s,i]=g2(a),[{tag:o,aid:l,type:r},c]=Ne(),d=j=>c(S=>({...S,type:j})),m=n3(o),f=z0({tag:o,tagInfo:m}),h=L0({tag:o,tagInfo:m}),x=h4(),g=u.useMemo(()=>JSON.stringify({tag:o,order:s,type:r,refreshTime:x}),[o,s,r,x]),v=[{label:n.jsxs("div",{className:"flex items-center gap-1.5",children:[t("common:order-option.recommend"),n.jsx("span",{className:"text-xs text-white bg-cyan-500 rounded-md px-1.5 py-0.5 font-normal",children:"Beta"})]}),value:E.recommended},{label:t("common:order-option.random"),value:E.trending},{label:t("common:order-option.daily-ranking"),value:E.dailyRanking},{label:t("common:order-option.following-news"),value:E.followingNews},{label:t("common:order-option.most-liked"),value:E.mostLiked},{label:t("common:order-option.newest"),value:E.newest}],p=u.useMemo(()=>({selectedContestTag:m.selectedContestTag}),[m]),k=u.useMemo(()=>({icon:n.jsx(zs,{}),displayName:t("common:ranking.animated.label"),name:qe.Animated,onClick:()=>{T("order_click",{value:qe.Animated,scene:"home"}),r!==qe.Animated&&s===E.recommended&&i(E.dailyRanking),d(r===qe.Animated?qe.All:qe.Animated)},selected:r===qe.Animated}),[r,s]);if(l!=null)return n.jsx(p0,{to:`/artwork/${l}/relevant`});const b=n.jsxs("div",{children:[n.jsx(b0,{className:"text-lg",onClick:()=>{T("year_recap_click",{scene:"home"})},children:j=>n.jsx("div",{className:"mt-4 flex justify-center",children:j})}),n.jsx("div",{className:"py-4 msm:py-8",children:n.jsx(Q4,{})}),n.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[n.jsx(ii,{choices:v,alwaysCollapse:!0,value:s,onChange:j=>(T("order_click",{value:j,scene:"home"}),Fe("reco_browser_path_switch",{fromFeed:s,toFeed:j},{regenFeedUuid:!0}),j===E.recommended&&d(qe.All),i(j))}),n.jsxs(le,{component:ie,to:"/contest",className:"grow-0 shrink leading-tight font-semibold gap-1 bg-[#eee] dark:bg-background-light dark:text-primary px-4 py-2",children:[n.jsx(a3,{className:"mr-1 my-0.5 size-5"}),n.jsx("span",{className:"text-[0.8125rem]",children:n.jsx(P,{i18nKey:"common:tab.contest"})})]}),n.jsx(Fd,{scene:"home",navigateToTag:j=>`/artwork/tags/${j}`,navigateToContest:({id:j})=>`/contest/${j}`,className:"mmd:flex-1 max-mmd:w-full mmd:pl-2 overflow-hidden",prependTagAlikeItems:[k]}),o&&n.jsx(Y4,{tagInfo:m,className:"flex-none w-full"})]}),n.jsx(Mn,{tag:o,order:v0(s),...S0(r),trackingArgs:{scene:"home",feed:s},enableTracking:!0,showDislike:!0,ignoreSafeSearch:!0,ignoreShowNsfw:!0,modifyArtworkElements:dh},g)]});return n.jsxs(Rd.Provider,{value:p,children:[n.jsx(y0,{title:f,titleOptions:{suffix:t("common:meta.title.home-suffix")},description:h,ogUrlPathname:Mt({tag:o})?`/?${Mt({tag:o})}`:""}),b]})};export{lo as $,vb as A,Jn as B,rd as C,kd as D,ig as E,Np as F,Ad as G,Ld as H,b4 as I,Ed as J,id as K,s2 as L,jd as M,Y5 as N,ii as O,od as P,A5 as Q,xb as R,Mn as S,Fd as T,Un as U,mn as V,rg as W,cg as X,Yn as Y,ef as Z,_s as _,o4 as a,Ai as a$,Af as a0,fs as a1,Pe as a2,H5 as a3,_f as a4,Lf as a5,fb as a6,so as a7,hb as a8,zd as a9,Rp as aA,Ip as aB,Pp as aC,$p as aD,zp as aE,Lp as aF,Dt as aG,li as aH,Tp as aI,Hl as aJ,Sn as aK,$d as aL,px as aM,Q1 as aN,xg as aO,gx as aP,kp as aQ,gs as aR,ps as aS,Vx as aT,xd as aU,Ux as aV,y2 as aW,q5 as aX,pb as aY,Os as aZ,rf as a_,O4 as aa,K4 as ab,G4 as ac,H4 as ad,bb as ae,u5 as af,r5 as ag,db as ah,cb as ai,ub as aj,mb as ak,kx as al,ob as am,sb as an,lb as ao,Hx as ap,Wx as aq,ib as ar,eb as as,tb as at,nb as au,fp as av,jp as aw,Wp as ax,_p as ay,Fp as az,ab as b,df as b0,Vs as b1,Gs as b2,un as b3,We as b4,Ws as b5,Zf as b6,Qf as b7,h4 as c,xp as d,rb as e,wp as f,p4 as g,yd as h,x4 as i,Cg as j,gb as k,si as l,fh as m,_5 as n,E5 as o,kg as p,sh as q,ad as r,fd as s,ud as t,g2 as u,vs as v,m2 as w,Xs as x,up as y,O2 as z};
//# sourceMappingURL=ArtworkListPage-9LI_MBMs.js.map
