import"./index-BTMYyhc6.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new Error().stack;i&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[i]="2610db7b-11aa-4cf3-949b-9eda7a1e50bd",r._sentryDebugIdIdentifier="sentry-dbid-2610db7b-11aa-4cf3-949b-9eda7a1e50bd")}catch{}})();{var _sentryModuleMetadataGlobal=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_sentryModuleMetadataGlobal._sentryModuleMetadata=_sentryModuleMetadataGlobal._sentryModuleMetadata||{},_sentryModuleMetadataGlobal._sentryModuleMetadata[new Error().stack]=Object.assign({},_sentryModuleMetadataGlobal._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}function _mergeNamespaces(r,i){return i.forEach(function(c){Object.keys(c).forEach(function(t){if(t!=="default"&&!(t in r)){var e=Object.getOwnPropertyDescriptor(c,t);Object.defineProperty(r,t,e.get?e:{enumerable:!0,get:function(){return c[t]}})}})}),Object.freeze(r)}function ownKeys(r,i){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);i&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),c.push.apply(c,t)}return c}function _objectSpread2(r){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(c),!0).forEach(function(t){_defineProperty(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):ownKeys(Object(c)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(c,t))})}return r}function _defineProperty(r,i,c){return i in r?Object.defineProperty(r,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[i]=c,r}function _slicedToArray(r,i){return _arrayWithHoles(r)||_iterableToArrayLimit(r,i)||_unsupportedIterableToArray(r,i)||_nonIterableRest()}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _iterableToArrayLimit(r,i){var c=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var t,e,n=[],s=!0,a=!1;try{for(c=c.call(r);!(s=(t=c.next()).done)&&(n.push(t.value),!i||n.length!==i);s=!0);}catch(l){a=!0,e=l}finally{try{s||c.return==null||c.return()}finally{if(a)throw e}}return n}}function _unsupportedIterableToArray(r,i){if(r){if(typeof r=="string")return _arrayLikeToArray(r,i);var c=Object.prototype.toString.call(r).slice(8,-1);return c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set"?Array.from(r):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(r,i):void 0}}function _arrayLikeToArray(r,i){(i==null||i>r.length)&&(i=r.length);for(var c=0,t=new Array(i);c<i;c++)t[c]=r[c];return t}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(r){var i={exports:{}};return r(i,i.exports),i.exports}var UZIP_1=createCommonjsModule(function(r){var i,c,t={};r.exports=t,t.parse=function(e,n){for(var s=t.bin.readUshort,a=t.bin.readUint,l=0,f={},m=new Uint8Array(e),h=m.length-4;a(m,h)!=101010256;)h--;l=h,l+=4;var d=s(m,l+=4);s(m,l+=2);var u=a(m,l+=2),g=a(m,l+=4);l+=4,l=g;for(var U=0;U<d;U++){a(m,l),l+=4,l+=4,l+=4,a(m,l+=4),u=a(m,l+=4);var w=a(m,l+=4),I=s(m,l+=4),y=s(m,l+2),p=s(m,l+4);l+=6;var F=a(m,l+=8);l+=4,l+=I+y+p,t._readLocal(m,F,f,u,w,n)}return f},t._readLocal=function(e,n,s,a,l,f){var m=t.bin.readUshort,h=t.bin.readUint;h(e,n),m(e,n+=4),m(e,n+=2);var d=m(e,n+=2);h(e,n+=2),h(e,n+=4),n+=4;var u=m(e,n+=8),g=m(e,n+=2);n+=2;var U=t.bin.readUTF8(e,n,u);if(n+=u,n+=g,f)s[U]={size:l,csize:a};else{var w=new Uint8Array(e.buffer,n);if(d==0)s[U]=new Uint8Array(w.buffer.slice(n,n+a));else{if(d!=8)throw"unknown compression method: "+d;var I=new Uint8Array(l);t.inflateRaw(w,I),s[U]=I}}},t.inflateRaw=function(e,n){return t.F.inflate(e,n)},t.inflate=function(e,n){return e[0],e[1],t.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),n)},t.deflate=function(e,n){n==null&&(n={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[s]=120,a[s+1]=156,s+=2,s=t.F.deflateRaw(e,a,s,n.level);var l=t.adler(e,0,e.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},t.deflateRaw=function(e,n){n==null&&(n={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),a=t.F.deflateRaw(e,s,a,n.level);return new Uint8Array(s.buffer,0,a)},t.encode=function(e,n){n==null&&(n=!1);var s=0,a=t.bin.writeUint,l=t.bin.writeUshort,f={};for(var m in e){var h=!t._noNeed(m)&&!n,d=e[m],u=t.crc.crc(d,0,d.length);f[m]={cpr:h,usize:d.length,crc:u,file:h?t.deflateRaw(d):d}}for(var m in f)s+=f[m].file.length+30+46+2*t.bin.sizeUTF8(m);s+=22;var g=new Uint8Array(s),U=0,w=[];for(var m in f){var I=f[m];w.push(U),U=t._writeHeader(g,U,m,I,0)}var y=0,p=U;for(var m in f)I=f[m],w.push(U),U=t._writeHeader(g,U,m,I,1,w[y++]);var F=U-p;return a(g,U,101010256),U+=4,l(g,U+=4,y),l(g,U+=2,y),a(g,U+=2,F),a(g,U+=4,p),U+=4,U+=2,g.buffer},t._noNeed=function(e){var n=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},t._writeHeader=function(e,n,s,a,l,f){var m=t.bin.writeUint,h=t.bin.writeUshort,d=a.file;return m(e,n,l==0?67324752:33639248),n+=4,l==1&&(n+=2),h(e,n,20),h(e,n+=2,0),h(e,n+=2,a.cpr?8:0),m(e,n+=2,0),m(e,n+=4,a.crc),m(e,n+=4,d.length),m(e,n+=4,a.usize),h(e,n+=4,t.bin.sizeUTF8(s)),h(e,n+=2,0),n+=2,l==1&&(n+=2,n+=2,m(e,n+=6,f),n+=4),n+=t.bin.writeUTF8(e,n,s),l==0&&(e.set(d,n),n+=d.length),n},t.crc={table:function(){for(var e=new Uint32Array(256),n=0;n<256;n++){for(var s=n,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;e[n]=s}return e}(),update:function(e,n,s,a){for(var l=0;l<a;l++)e=t.crc.table[255&(e^n[s+l])]^e>>>8;return e},crc:function(e,n,s){return 4294967295^t.crc.update(4294967295,e,n,s)}},t.adler=function(e,n,s){for(var a=1,l=0,f=n,m=n+s;f<m;){for(var h=Math.min(f+5552,m);f<h;)l+=a+=e[f++];a%=65521,l%=65521}return l<<16|a},t.bin={readUshort:function(e,n){return e[n]|e[n+1]<<8},writeUshort:function(e,n,s){e[n]=255&s,e[n+1]=s>>8&255},readUint:function(e,n){return 16777216*e[n+3]+(e[n+2]<<16|e[n+1]<<8|e[n])},writeUint:function(e,n,s){e[n]=255&s,e[n+1]=s>>8&255,e[n+2]=s>>16&255,e[n+3]=s>>24&255},readASCII:function(e,n,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(e[n+l]);return a},writeASCII:function(e,n,s){for(var a=0;a<s.length;a++)e[n+a]=s.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,n,s){for(var a,l="",f=0;f<s;f++)l+="%"+t.bin.pad(e[n+f].toString(16));try{a=decodeURIComponent(l)}catch{return t.bin.readASCII(e,n,s)}return a},writeUTF8:function(e,n,s){for(var a=s.length,l=0,f=0;f<a;f++){var m=s.charCodeAt(f);if(!(4294967168&m))e[n+l]=m,l++;else if(!(4294965248&m))e[n+l]=192|m>>6,e[n+l+1]=128|m>>0&63,l+=2;else if(!(4294901760&m))e[n+l]=224|m>>12,e[n+l+1]=128|m>>6&63,e[n+l+2]=128|m>>0&63,l+=3;else{if(4292870144&m)throw"e";e[n+l]=240|m>>18,e[n+l+1]=128|m>>12&63,e[n+l+2]=128|m>>6&63,e[n+l+3]=128|m>>0&63,l+=4}}return l},sizeUTF8:function(e){for(var n=e.length,s=0,a=0;a<n;a++){var l=e.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},t.F={},t.F.deflateRaw=function(e,n,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=t.F.U,m=t.F._goodIndex;t.F._hash;var h=t.F._putsE,d=0,u=s<<3,g=0,U=e.length;if(a==0){for(;d<U;)h(n,u,d+(G=Math.min(65535,U-d))==U?1:0),u=t.F._copyExact(e,d,G,n,u+8),d+=G;return u>>>3}var w=f.lits,I=f.strt,y=f.prev,p=0,F=0,b=0,v=0,P=0,A=0;for(U>2&&(I[A=t.F._hash(e,0)]=0),d=0;d<U;d++){if(P=A,d+1<U-2){A=t.F._hash(e,d+1);var C=d+1&32767;y[C]=I[A],I[A]=C}if(g<=d){(p>14e3||F>26697)&&U-d>100&&(g<d&&(w[p]=d-g,p+=2,g=d),u=t.F._writeBlock(d==U-1||g==U?1:0,w,p,v,e,b,d-b,n,u),p=F=v=0,b=d);var _=0;d<U-2&&(_=t.F._bestMatch(e,d,y,P,Math.min(l[2],U-d),l[3]));var G=_>>>16,E=65535&_;if(_!=0){E=65535&_;var O=m(G=_>>>16,f.of0);f.lhst[257+O]++;var R=m(E,f.df0);f.dhst[R]++,v+=f.exb[O]+f.dxb[R],w[p]=G<<23|d-g,w[p+1]=E<<16|O<<8|R,p+=2,g=d+G}else f.lhst[e[d]]++;F++}}for(b==d&&e.length!=0||(g<d&&(w[p]=d-g,p+=2,g=d),u=t.F._writeBlock(1,w,p,v,e,b,d-b,n,u),p=0,F=0,p=F=v=0,b=d);7&u;)u++;return u>>>3},t.F._bestMatch=function(e,n,s,a,l,f){var m=32767&n,h=s[m],d=m-h+32768&32767;if(h==m||a!=t.F._hash(e,n-d))return 0;for(var u=0,g=0,U=Math.min(32767,n);d<=U&&--f!=0&&h!=m;){if(u==0||e[n+u]==e[n+u-d]){var w=t.F._howLong(e,n,d);if(w>u){if(g=d,(u=w)>=l)break;d+2<w&&(w=d+2);for(var I=0,y=0;y<w-2;y++){var p=n-d+y+32768&32767,F=p-s[p]+32768&32767;F>I&&(I=F,h=p)}}}d+=(m=h)-(h=s[m])+32768&32767}return u<<16|g},t.F._howLong=function(e,n,s){if(e[n]!=e[n-s]||e[n+1]!=e[n+1-s]||e[n+2]!=e[n+2-s])return 0;var a=n,l=Math.min(e.length,n+258);for(n+=3;n<l&&e[n]==e[n-s];)n++;return n-a},t.F._hash=function(e,n){return(e[n]<<8|e[n+1])+(e[n+2]<<4)&65535},t.saved=0,t.F._writeBlock=function(e,n,s,a,l,f,m,h,d){var u,g,U,w,I,y,p,F,b,v=t.F.U,P=t.F._putsF,A=t.F._putsE;v.lhst[256]++,g=(u=t.F.getTrees())[0],U=u[1],w=u[2],I=u[3],y=u[4],p=u[5],F=u[6],b=u[7];var C=32+(d+3&7?8-(d+3&7):0)+(m<<3),_=a+t.F.contSize(v.fltree,v.lhst)+t.F.contSize(v.fdtree,v.dhst),G=a+t.F.contSize(v.ltree,v.lhst)+t.F.contSize(v.dtree,v.dhst);G+=14+3*p+t.F.contSize(v.itree,v.ihst)+(2*v.ihst[16]+3*v.ihst[17]+7*v.ihst[18]);for(var E=0;E<286;E++)v.lhst[E]=0;for(E=0;E<30;E++)v.dhst[E]=0;for(E=0;E<19;E++)v.ihst[E]=0;var O=C<_&&C<G?0:_<G?1:2;if(P(h,d,e),P(h,d+1,O),d+=3,O==0){for(;7&d;)d++;d=t.F._copyExact(l,f,m,h,d)}else{var R,Z;if(O==1&&(R=v.fltree,Z=v.fdtree),O==2){t.F.makeCodes(v.ltree,g),t.F.revCodes(v.ltree,g),t.F.makeCodes(v.dtree,U),t.F.revCodes(v.dtree,U),t.F.makeCodes(v.itree,w),t.F.revCodes(v.itree,w),R=v.ltree,Z=v.dtree,A(h,d,I-257),A(h,d+=5,y-1),A(h,d+=5,p-4),d+=4;for(var M=0;M<p;M++)A(h,d+3*M,v.itree[1+(v.ordr[M]<<1)]);d+=3*p,d=t.F._codeTiny(F,v.itree,h,d),d=t.F._codeTiny(b,v.itree,h,d)}for(var S=f,B=0;B<s;B+=2){for(var x=n[B],T=x>>>23,k=S+(8388607&x);S<k;)d=t.F._writeLit(l[S++],R,h,d);if(T!=0){var L=n[B+1],z=L>>16,V=L>>8&255,q=255&L;A(h,d=t.F._writeLit(257+V,R,h,d),T-v.of0[V]),d+=v.exb[V],P(h,d=t.F._writeLit(q,Z,h,d),z-v.df0[q]),d+=v.dxb[q],S+=T}}d=t.F._writeLit(256,R,h,d)}return d},t.F._copyExact=function(e,n,s,a,l){var f=l>>>3;return a[f]=s,a[f+1]=s>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(e.buffer,n,s),f),l+(s+4<<3)},t.F.getTrees=function(){for(var e=t.F.U,n=t.F._hufTree(e.lhst,e.ltree,15),s=t.F._hufTree(e.dhst,e.dtree,15),a=[],l=t.F._lenCodes(e.ltree,a),f=[],m=t.F._lenCodes(e.dtree,f),h=0;h<a.length;h+=2)e.ihst[a[h]]++;for(h=0;h<f.length;h+=2)e.ihst[f[h]]++;for(var d=t.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[n,s,d,l,m,u,a,f]},t.F.getSecond=function(e){for(var n=[],s=0;s<e.length;s+=2)n.push(e[s+1]);return n},t.F.nonZero=function(e){for(var n="",s=0;s<e.length;s+=2)e[s+1]!=0&&(n+=(s>>1)+",");return n},t.F.contSize=function(e,n){for(var s=0,a=0;a<n.length;a++)s+=n[a]*e[1+(a<<1)];return s},t.F._codeTiny=function(e,n,s,a){for(var l=0;l<e.length;l+=2){var f=e[l],m=e[l+1];a=t.F._writeLit(f,n,s,a);var h=f==16?2:f==17?3:7;f>15&&(t.F._putsE(s,a,m,h),a+=h)}return a},t.F._lenCodes=function(e,n){for(var s=e.length;s!=2&&e[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=e[a+1],f=a+3<s?e[a+3]:-1,m=a+5<s?e[a+5]:-1,h=a==0?-1:e[a-1];if(l==0&&f==l&&m==l){for(var d=a+5;d+2<s&&e[d+2]==l;)d+=2;(u=Math.min(d+1-a>>>1,138))<11?n.push(17,u-3):n.push(18,u-11),a+=2*u-2}else if(l==h&&f==l&&m==l){for(d=a+5;d+2<s&&e[d+2]==l;)d+=2;var u=Math.min(d+1-a>>>1,6);n.push(16,u-3),a+=2*u-2}else n.push(l,0)}return s>>>1},t.F._hufTree=function(e,n,s){var a=[],l=e.length,f=n.length,m=0;for(m=0;m<f;m+=2)n[m]=0,n[m+1]=0;for(m=0;m<l;m++)e[m]!=0&&a.push({lit:m,f:e[m]});var h=a.length,d=a.slice(0);if(h==0)return 0;if(h==1){var u=a[0].lit;return d=u==0?1:0,n[1+(u<<1)]=1,n[1+(d<<1)]=1,1}a.sort(function(F,b){return F.f-b.f});var g=a[0],U=a[1],w=0,I=1,y=2;for(a[0]={lit:-1,f:g.f+U.f,l:g,r:U,d:0};I!=h-1;)g=w!=I&&(y==h||a[w].f<a[y].f)?a[w++]:a[y++],U=w!=I&&(y==h||a[w].f<a[y].f)?a[w++]:a[y++],a[I++]={lit:-1,f:g.f+U.f,l:g,r:U};var p=t.F.setDepth(a[I-1],0);for(p>s&&(t.F.restrictDepth(d,s,p),p=s),m=0;m<h;m++)n[1+(d[m].lit<<1)]=d[m].d;return p},t.F.setDepth=function(e,n){return e.lit!=-1?(e.d=n,n):Math.max(t.F.setDepth(e.l,n+1),t.F.setDepth(e.r,n+1))},t.F.restrictDepth=function(e,n,s){var a=0,l=1<<s-n,f=0;for(e.sort(function(h,d){return d.d==h.d?h.f-d.f:d.d-h.d}),a=0;a<e.length&&e[a].d>n;a++){var m=e[a].d;e[a].d=n,f+=l-(1<<s-m)}for(f>>>=s-n;f>0;)(m=e[a].d)<n?(e[a].d++,f-=1<<n-m-1):a++;for(;a>=0;a--)e[a].d==n&&f<0&&(e[a].d--,f++);f!=0&&console.log("debt left")},t.F._goodIndex=function(e,n){var s=0;return n[16|s]<=e&&(s|=16),n[8|s]<=e&&(s|=8),n[4|s]<=e&&(s|=4),n[2|s]<=e&&(s|=2),n[1|s]<=e&&(s|=1),s},t.F._writeLit=function(e,n,s,a){return t.F._putsF(s,a,n[e<<1]),a+n[1+(e<<1)]},t.F.inflate=function(e,n){var s=Uint8Array;if(e[0]==3&&e[1]==0)return n||new s(0);var a=t.F,l=a._bitsF,f=a._bitsE,m=a._decodeTiny,h=a.makeCodes,d=a.codes2map,u=a._get17,g=a.U,U=n==null;U&&(n=new s(e.length>>>2<<3));for(var w,I,y=0,p=0,F=0,b=0,v=0,P=0,A=0,C=0,_=0;y==0;)if(y=l(e,_,1),p=l(e,_+1,2),_+=3,p!=0){if(U&&(n=t.F._check(n,C+(1<<17))),p==1&&(w=g.flmap,I=g.fdmap,P=511,A=31),p==2){F=f(e,_,5)+257,b=f(e,_+5,5)+1,v=f(e,_+10,4)+4,_+=14;for(var G=0;G<38;G+=2)g.itree[G]=0,g.itree[G+1]=0;var E=1;for(G=0;G<v;G++){var O=f(e,_+3*G,3);g.itree[1+(g.ordr[G]<<1)]=O,O>E&&(E=O)}_+=3*v,h(g.itree,E),d(g.itree,E,g.imap),w=g.lmap,I=g.dmap,_=m(g.imap,(1<<E)-1,F+b,e,_,g.ttree);var R=a._copyOut(g.ttree,0,F,g.ltree);P=(1<<R)-1;var Z=a._copyOut(g.ttree,F,b,g.dtree);A=(1<<Z)-1,h(g.ltree,R),d(g.ltree,R,w),h(g.dtree,Z),d(g.dtree,Z,I)}for(;;){var M=w[u(e,_)&P];_+=15&M;var S=M>>>4;if(!(S>>>8))n[C++]=S;else{if(S==256)break;var B=C+S-254;if(S>264){var x=g.ldef[S-257];B=C+(x>>>3)+f(e,_,7&x),_+=7&x}var T=I[u(e,_)&A];_+=15&T;var k=T>>>4,L=g.ddef[k],z=(L>>>4)+l(e,_,15&L);for(_+=15&L,U&&(n=t.F._check(n,C+(1<<17)));C<B;)n[C]=n[C++-z],n[C]=n[C++-z],n[C]=n[C++-z],n[C]=n[C++-z];C=B}}}else{7&_&&(_+=8-(7&_));var V=4+(_>>>3),q=e[V-4]|e[V-3]<<8;U&&(n=t.F._check(n,C+q)),n.set(new s(e.buffer,e.byteOffset+V,q),C),_=V+q<<3,C+=q}return n.length==C?n:n.slice(0,C)},t.F._check=function(e,n){var s=e.length;if(n<=s)return e;var a=new Uint8Array(Math.max(s<<1,n));return a.set(e,0),a},t.F._decodeTiny=function(e,n,s,a,l,f){for(var m=t.F._bitsE,h=t.F._get17,d=0;d<s;){var u=e[h(a,l)&n];l+=15&u;var g=u>>>4;if(g<=15)f[d]=g,d++;else{var U=0,w=0;g==16?(w=3+m(a,l,2),l+=2,U=f[d-1]):g==17?(w=3+m(a,l,3),l+=3):g==18&&(w=11+m(a,l,7),l+=7);for(var I=d+w;d<I;)f[d]=U,d++}}return l},t.F._copyOut=function(e,n,s,a){for(var l=0,f=0,m=a.length>>>1;f<s;){var h=e[f+n];a[f<<1]=0,a[1+(f<<1)]=h,h>l&&(l=h),f++}for(;f<m;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return l},t.F.makeCodes=function(e,n){for(var s,a,l,f,m=t.F.U,h=e.length,d=m.bl_count,u=0;u<=n;u++)d[u]=0;for(u=1;u<h;u+=2)d[e[u]]++;var g=m.next_code;for(s=0,d[0]=0,a=1;a<=n;a++)s=s+d[a-1]<<1,g[a]=s;for(l=0;l<h;l+=2)(f=e[l+1])!=0&&(e[l]=g[f],g[f]++)},t.F.codes2map=function(e,n,s){for(var a=e.length,l=t.F.U.rev15,f=0;f<a;f+=2)if(e[f+1]!=0)for(var m=f>>1,h=e[f+1],d=m<<4|h,u=n-h,g=e[f]<<u,U=g+(1<<u);g!=U;)s[l[g]>>>15-n]=d,g++},t.F.revCodes=function(e,n){for(var s=t.F.U.rev15,a=15-n,l=0;l<e.length;l+=2){var f=e[l]<<n-e[l+1];e[l]=s[f]>>>a}},t.F._putsE=function(e,n,s){s<<=7&n;var a=n>>>3;e[a]|=s,e[a+1]|=s>>>8},t.F._putsF=function(e,n,s){s<<=7&n;var a=n>>>3;e[a]|=s,e[a+1]|=s>>>8,e[a+2]|=s>>>16},t.F._bitsE=function(e,n,s){return(e[n>>>3]|e[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},t.F._bitsF=function(e,n,s){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},t.F._get17=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)},t.F._get25=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16|e[3+(n>>>3)]<<24)>>>(7&n)},t.F.U=(i=Uint16Array,c=Uint32Array,{next_code:new i(16),bl_count:new i(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new i(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new c(32),flmap:new i(512),fltree:[],fdmap:new i(32),fdtree:[],lmap:new i(32768),ltree:[],ttree:[],dmap:new i(32768),dtree:[],imap:new i(512),itree:[],rev15:new i(32768),lhst:new c(286),dhst:new c(30),ihst:new c(19),lits:new c(15e3),strt:new i(65536),prev:new i(32768)}),function(){for(var e=t.F.U,n=0;n<32768;n++){var s=n;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[n]=(s>>>16|s<<16)>>>17}function a(l,f,m){for(;f--!=0;)l.push(0,m)}for(n=0;n<32;n++)e.ldef[n]=e.of0[n]<<3|e.exb[n],e.ddef[n]=e.df0[n]<<4|e.dxb[n];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),t.F.makeCodes(e.fltree,9),t.F.codes2map(e.fltree,9,e.flmap),t.F.revCodes(e.fltree,9),a(e.fdtree,32,5),t.F.makeCodes(e.fdtree,5),t.F.codes2map(e.fdtree,5,e.fdmap),t.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(r){var i=r.width,c=r.height;if(r.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(r.data,i,c,r).buffer];var t=[];r.frames[0].data==null&&(r.frames[0].data=r.data);for(var e=i*c*4,n=new Uint8Array(e),s=new Uint8Array(e),a=new Uint8Array(e),l=0;l<r.frames.length;l++){var f=r.frames[l],m=f.rect.x,h=f.rect.y,d=f.rect.width,u=f.rect.height,g=UPNG.toRGBA8.decodeImage(f.data,d,u,r);if(l!=0)for(var U=0;U<e;U++)a[U]=n[U];if(f.blend==0?UPNG._copyTile(g,d,u,n,i,c,m,h,0):f.blend==1&&UPNG._copyTile(g,d,u,n,i,c,m,h,1),t.push(n.buffer.slice(0)),f.dispose!=0){if(f.dispose==1)UPNG._copyTile(s,d,u,n,i,c,m,h,0);else if(f.dispose==2)for(U=0;U<e;U++)n[U]=a[U]}}return t},UPNG.toRGBA8.decodeImage=function(r,i,c,t){var e=i*c,n=UPNG.decode._getBPP(t),s=Math.ceil(i*n/8),a=new Uint8Array(4*e),l=new Uint32Array(a.buffer),f=t.ctype,m=t.depth,h=UPNG._bin.readUshort;if(f==6){var d=e<<2;if(m==8)for(var u=0;u<d;u+=4)a[u]=r[u],a[u+1]=r[u+1],a[u+2]=r[u+2],a[u+3]=r[u+3];if(m==16)for(u=0;u<d;u++)a[u]=r[u<<1]}else if(f==2){var g=t.tabs.tRNS;if(g==null){if(m==8)for(u=0;u<e;u++){var U=3*u;l[u]=255<<24|r[U+2]<<16|r[U+1]<<8|r[U]}if(m==16)for(u=0;u<e;u++)U=6*u,l[u]=255<<24|r[U+4]<<16|r[U+2]<<8|r[U]}else{var w=g[0],I=g[1],y=g[2];if(m==8)for(u=0;u<e;u++){var p=u<<2;U=3*u,l[u]=255<<24|r[U+2]<<16|r[U+1]<<8|r[U],r[U]==w&&r[U+1]==I&&r[U+2]==y&&(a[p+3]=0)}if(m==16)for(u=0;u<e;u++)p=u<<2,U=6*u,l[u]=255<<24|r[U+4]<<16|r[U+2]<<8|r[U],h(r,U)==w&&h(r,U+2)==I&&h(r,U+4)==y&&(a[p+3]=0)}}else if(f==3){var F=t.tabs.PLTE,b=t.tabs.tRNS,v=b?b.length:0;if(m==1)for(var P=0;P<c;P++){var A=P*s,C=P*i;for(u=0;u<i;u++){p=C+u<<2;var _=3*(G=r[A+(u>>3)]>>7-((7&u)<<0)&1);a[p]=F[_],a[p+1]=F[_+1],a[p+2]=F[_+2],a[p+3]=G<v?b[G]:255}}if(m==2)for(P=0;P<c;P++)for(A=P*s,C=P*i,u=0;u<i;u++)p=C+u<<2,_=3*(G=r[A+(u>>2)]>>6-((3&u)<<1)&3),a[p]=F[_],a[p+1]=F[_+1],a[p+2]=F[_+2],a[p+3]=G<v?b[G]:255;if(m==4)for(P=0;P<c;P++)for(A=P*s,C=P*i,u=0;u<i;u++)p=C+u<<2,_=3*(G=r[A+(u>>1)]>>4-((1&u)<<2)&15),a[p]=F[_],a[p+1]=F[_+1],a[p+2]=F[_+2],a[p+3]=G<v?b[G]:255;if(m==8)for(u=0;u<e;u++){var G;p=u<<2,_=3*(G=r[u]),a[p]=F[_],a[p+1]=F[_+1],a[p+2]=F[_+2],a[p+3]=G<v?b[G]:255}}else if(f==4){if(m==8)for(u=0;u<e;u++){p=u<<2;var E=r[O=u<<1];a[p]=E,a[p+1]=E,a[p+2]=E,a[p+3]=r[O+1]}if(m==16)for(u=0;u<e;u++){var O;p=u<<2,E=r[O=u<<2],a[p]=E,a[p+1]=E,a[p+2]=E,a[p+3]=r[O+2]}}else if(f==0)for(w=t.tabs.tRNS?t.tabs.tRNS:-1,P=0;P<c;P++){var R=P*s,Z=P*i;if(m==1)for(var M=0;M<i;M++){var S=(E=255*(r[R+(M>>>3)]>>>7-(7&M)&1))==255*w?0:255;l[Z+M]=S<<24|E<<16|E<<8|E}else if(m==2)for(M=0;M<i;M++)S=(E=85*(r[R+(M>>>2)]>>>6-((3&M)<<1)&3))==85*w?0:255,l[Z+M]=S<<24|E<<16|E<<8|E;else if(m==4)for(M=0;M<i;M++)S=(E=17*(r[R+(M>>>1)]>>>4-((1&M)<<2)&15))==17*w?0:255,l[Z+M]=S<<24|E<<16|E<<8|E;else if(m==8)for(M=0;M<i;M++)S=(E=r[R+M])==w?0:255,l[Z+M]=S<<24|E<<16|E<<8|E;else if(m==16)for(M=0;M<i;M++)E=r[R+(M<<1)],S=h(r,R+(M<<u))==w?0:255,l[Z+M]=S<<24|E<<16|E<<8|E}return a},UPNG.decode=function(r){for(var i,c=new Uint8Array(r),t=8,e=UPNG._bin,n=e.readUshort,s=e.readUint,a={tabs:{},frames:[]},l=new Uint8Array(c.length),f=0,m=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(c[d]!=h[d])throw"The input is not a PNG file!";for(;t<c.length;){var u=e.readUint(c,t);t+=4;var g=e.readASCII(c,t,4);if(t+=4,g=="IHDR")UPNG.decode._IHDR(c,t,a);else if(g=="CgBI")a.tabs[g]=c.slice(t,t+4);else if(g=="IDAT"){for(d=0;d<u;d++)l[f+d]=c[t+d];f+=u}else if(g=="acTL")a.tabs[g]={num_frames:s(c,t),num_plays:s(c,t+4)},i=new Uint8Array(c.length);else if(g=="fcTL"){var U;m!=0&&((U=a.frames[a.frames.length-1]).data=UPNG.decode._decompress(a,i.slice(0,m),U.rect.width,U.rect.height),m=0);var w={x:s(c,t+12),y:s(c,t+16),width:s(c,t+4),height:s(c,t+8)},I=n(c,t+22);I=n(c,t+20)/(I==0?100:I);var y={rect:w,delay:Math.round(1e3*I),dispose:c[t+24],blend:c[t+25]};a.frames.push(y)}else if(g=="fdAT"){for(d=0;d<u-4;d++)i[m+d]=c[t+d+4];m+=u-4}else if(g=="pHYs")a.tabs[g]=[e.readUint(c,t),e.readUint(c,t+4),c[t+8]];else if(g=="cHRM")for(a.tabs[g]=[],d=0;d<8;d++)a.tabs[g].push(e.readUint(c,t+4*d));else if(g=="tEXt"||g=="zTXt"){a.tabs[g]==null&&(a.tabs[g]={});var p=e.nextZero(c,t),F=e.readASCII(c,t,p-t),b=t+u-p-1;if(g=="tEXt")A=e.readASCII(c,p+1,b);else{var v=UPNG.decode._inflate(c.slice(p+2,p+2+b));A=e.readUTF8(v,0,v.length)}a.tabs[g][F]=A}else if(g=="iTXt"){a.tabs[g]==null&&(a.tabs[g]={}),p=0;var P=t;p=e.nextZero(c,P),F=e.readASCII(c,P,p-P);var A,C=c[P=p+1];c[P+1],P+=2,p=e.nextZero(c,P),e.readASCII(c,P,p-P),P=p+1,p=e.nextZero(c,P),e.readUTF8(c,P,p-P),b=u-((P=p+1)-t),C==0?A=e.readUTF8(c,P,b):(v=UPNG.decode._inflate(c.slice(P,P+b)),A=e.readUTF8(v,0,v.length)),a.tabs[g][F]=A}else if(g=="PLTE")a.tabs[g]=e.readBytes(c,t,u);else if(g=="hIST"){var _=a.tabs.PLTE.length/3;for(a.tabs[g]=[],d=0;d<_;d++)a.tabs[g].push(n(c,t+2*d))}else if(g=="tRNS")a.ctype==3?a.tabs[g]=e.readBytes(c,t,u):a.ctype==0?a.tabs[g]=n(c,t):a.ctype==2&&(a.tabs[g]=[n(c,t),n(c,t+2),n(c,t+4)]);else if(g=="gAMA")a.tabs[g]=e.readUint(c,t)/1e5;else if(g=="sRGB")a.tabs[g]=c[t];else if(g=="bKGD")a.ctype==0||a.ctype==4?a.tabs[g]=[n(c,t)]:a.ctype==2||a.ctype==6?a.tabs[g]=[n(c,t),n(c,t+2),n(c,t+4)]:a.ctype==3&&(a.tabs[g]=c[t]);else if(g=="IEND")break;t+=u,e.readUint(c,t),t+=4}return m!=0&&((U=a.frames[a.frames.length-1]).data=UPNG.decode._decompress(a,i.slice(0,m),U.rect.width,U.rect.height),m=0),a.data=UPNG.decode._decompress(a,l,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a},UPNG.decode._decompress=function(r,i,c,t){var e=UPNG.decode._getBPP(r),n=Math.ceil(c*e/8),s=new Uint8Array((n+1+r.interlace)*t);return i=r.tabs.CgBI?UPNG.inflateRaw(i,s):UPNG.decode._inflate(i,s),r.interlace==0?i=UPNG.decode._filterZero(i,r,0,c,t):r.interlace==1&&(i=UPNG.decode._readInterlace(i,r)),i},UPNG.decode._inflate=function(r,i){return UPNG.inflateRaw(new Uint8Array(r.buffer,2,r.length-6),i)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(r,i){var c,t,e=Uint8Array,n=0,s=0,a=0,l=0,f=0,m=0,h=0,d=0,u=0;if(r[0]==3&&r[1]==0)return i||new e(0);var g=H.H,U=g.b,w=g.e,I=g.R,y=g.n,p=g.A,F=g.Z,b=g.m,v=i==null;for(v&&(i=new e(r.length>>>2<<5));n==0;)if(n=U(r,u,1),s=U(r,u+1,2),u+=3,s!=0){if(v&&(i=H.H.W(i,d+(1<<17))),s==1&&(c=b.J,t=b.h,m=511,h=31),s==2){a=w(r,u,5)+257,l=w(r,u+5,5)+1,f=w(r,u+10,4)+4,u+=14;for(var P=1,A=0;A<38;A+=2)b.Q[A]=0,b.Q[A+1]=0;for(A=0;A<f;A++){var C=w(r,u+3*A,3);b.Q[1+(b.X[A]<<1)]=C,C>P&&(P=C)}u+=3*f,y(b.Q,P),p(b.Q,P,b.u),c=b.w,t=b.d,u=I(b.u,(1<<P)-1,a+l,r,u,b.v);var _=g.V(b.v,0,a,b.C);m=(1<<_)-1;var G=g.V(b.v,a,l,b.D);h=(1<<G)-1,y(b.C,_),p(b.C,_,c),y(b.D,G),p(b.D,G,t)}for(;;){var E=c[F(r,u)&m];u+=15&E;var O=E>>>4;if(!(O>>>8))i[d++]=O;else{if(O==256)break;var R=d+O-254;if(O>264){var Z=b.q[O-257];R=d+(Z>>>3)+w(r,u,7&Z),u+=7&Z}var M=t[F(r,u)&h];u+=15&M;var S=M>>>4,B=b.c[S],x=(B>>>4)+U(r,u,15&B);for(u+=15&B;d<R;)i[d]=i[d++-x],i[d]=i[d++-x],i[d]=i[d++-x],i[d]=i[d++-x];d=R}}}else{7&u&&(u+=8-(7&u));var T=4+(u>>>3),k=r[T-4]|r[T-3]<<8;v&&(i=H.H.W(i,d+k)),i.set(new e(r.buffer,r.byteOffset+T,k),d),u=T+k<<3,d+=k}return i.length==d?i:i.slice(0,d)},H.H.W=function(r,i){var c=r.length;if(i<=c)return r;var t=new Uint8Array(c<<1);return t.set(r,0),t},H.H.R=function(r,i,c,t,e,n){for(var s=H.H.e,a=H.H.Z,l=0;l<c;){var f=r[a(t,e)&i];e+=15&f;var m=f>>>4;if(m<=15)n[l]=m,l++;else{var h=0,d=0;m==16?(d=3+s(t,e,2),e+=2,h=n[l-1]):m==17?(d=3+s(t,e,3),e+=3):m==18&&(d=11+s(t,e,7),e+=7);for(var u=l+d;l<u;)n[l]=h,l++}}return e},H.H.V=function(r,i,c,t){for(var e=0,n=0,s=t.length>>>1;n<c;){var a=r[n+i];t[n<<1]=0,t[1+(n<<1)]=a,a>e&&(e=a),n++}for(;n<s;)t[n<<1]=0,t[1+(n<<1)]=0,n++;return e},H.H.n=function(r,i){for(var c,t,e,n,s=H.H.m,a=r.length,l=s.j,f=0;f<=i;f++)l[f]=0;for(f=1;f<a;f+=2)l[r[f]]++;var m=s.K;for(c=0,l[0]=0,t=1;t<=i;t++)c=c+l[t-1]<<1,m[t]=c;for(e=0;e<a;e+=2)(n=r[e+1])!=0&&(r[e]=m[n],m[n]++)},H.H.A=function(r,i,c){for(var t=r.length,e=H.H.m.r,n=0;n<t;n+=2)if(r[n+1]!=0)for(var s=n>>1,a=r[n+1],l=s<<4|a,f=i-a,m=r[n]<<f,h=m+(1<<f);m!=h;)c[e[m]>>>15-i]=l,m++},H.H.l=function(r,i){for(var c=H.H.m.r,t=15-i,e=0;e<r.length;e+=2){var n=r[e]<<i-r[e+1];r[e]=c[n]>>>t}},H.H.M=function(r,i,c){c<<=7&i;var t=i>>>3;r[t]|=c,r[t+1]|=c>>>8},H.H.I=function(r,i,c){c<<=7&i;var t=i>>>3;r[t]|=c,r[t+1]|=c>>>8,r[t+2]|=c>>>16},H.H.e=function(r,i,c){return(r[i>>>3]|r[1+(i>>>3)]<<8)>>>(7&i)&(1<<c)-1},H.H.b=function(r,i,c){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16)>>>(7&i)&(1<<c)-1},H.H.Z=function(r,i){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16)>>>(7&i)},H.H.i=function(r,i){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16|r[3+(i>>>3)]<<24)>>>(7&i)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var r=H.H.m,i=0;i<32768;i++){var c=i;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,r.r[i]=(c>>>16|c<<16)>>>17}function t(e,n,s){for(;n--!=0;)e.push(0,s)}for(i=0;i<32;i++)r.q[i]=r.S[i]<<3|r.T[i],r.c[i]=r.p[i]<<4|r.z[i];t(r._,144,8),t(r._,112,9),t(r._,24,7),t(r._,8,8),H.H.n(r._,9),H.H.A(r._,9,r.J),H.H.l(r._,9),t(r.$,32,5),H.H.n(r.$,5),H.H.A(r.$,5,r.h),H.H.l(r.$,5),t(r.Q,19,0),t(r.C,286,0),t(r.D,30,0),t(r.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(r,i){for(var c=i.width,t=i.height,e=UPNG.decode._getBPP(i),n=e>>3,s=Math.ceil(c*e/8),a=new Uint8Array(t*s),l=0,f=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],u=0;u<7;){for(var g=h[u],U=d[u],w=0,I=0,y=f[u];y<t;)y+=g,I++;for(var p=m[u];p<c;)p+=U,w++;var F=Math.ceil(w*e/8);UPNG.decode._filterZero(r,i,l,w,I);for(var b=0,v=f[u];v<t;){for(var P=m[u],A=l+b*F<<3;P<c;){var C;if(e==1&&(C=(C=r[A>>3])>>7-(7&A)&1,a[v*s+(P>>3)]|=C<<7-((7&P)<<0)),e==2&&(C=(C=r[A>>3])>>6-(7&A)&3,a[v*s+(P>>2)]|=C<<6-((3&P)<<1)),e==4&&(C=(C=r[A>>3])>>4-(7&A)&15,a[v*s+(P>>1)]|=C<<4-((1&P)<<2)),e>=8)for(var _=v*s+P*n,G=0;G<n;G++)a[_+G]=r[(A>>3)+G];A+=e,P+=U}b++,v+=g}w*I!=0&&(l+=I*(1+F)),u+=1}return a},UPNG.decode._getBPP=function(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth},UPNG.decode._filterZero=function(r,i,c,t,e){var n=UPNG.decode._getBPP(i),s=Math.ceil(t*n/8),a=UPNG.decode._paeth;n=Math.ceil(n/8);var l=0,f=1,m=r[c],h=0;if(m>1&&(r[c]=[0,0,1][m-2]),m==3)for(h=n;h<s;h++)r[h+1]=r[h+1]+(r[h+1-n]>>>1)&255;for(var d=0;d<e;d++)if(h=0,(m=r[(f=(l=c+d*s)+d+1)-1])==0)for(;h<s;h++)r[l+h]=r[f+h];else if(m==1){for(;h<n;h++)r[l+h]=r[f+h];for(;h<s;h++)r[l+h]=r[f+h]+r[l+h-n]}else if(m==2)for(;h<s;h++)r[l+h]=r[f+h]+r[l+h-s];else if(m==3){for(;h<n;h++)r[l+h]=r[f+h]+(r[l+h-s]>>>1);for(;h<s;h++)r[l+h]=r[f+h]+(r[l+h-s]+r[l+h-n]>>>1)}else{for(;h<n;h++)r[l+h]=r[f+h]+a(0,r[l+h-s],0);for(;h<s;h++)r[l+h]=r[f+h]+a(r[l+h-n],r[l+h-s],r[l+h-n-s])}return r},UPNG.decode._paeth=function(r,i,c){var t=r+i-c,e=t-r,n=t-i,s=t-c;return e*e<=n*n&&e*e<=s*s?r:n*n<=s*s?i:c},UPNG.decode._IHDR=function(r,i,c){var t=UPNG._bin;c.width=t.readUint(r,i),i+=4,c.height=t.readUint(r,i),i+=4,c.depth=r[i],i++,c.ctype=r[i],i++,c.compress=r[i],i++,c.filter=r[i],i++,c.interlace=r[i],i++},UPNG._bin={nextZero:function(i,c){for(;i[c]!=0;)c++;return c},readUshort:function(i,c){return i[c]<<8|i[c+1]},writeUshort:function(i,c,t){i[c]=t>>8&255,i[c+1]=255&t},readUint:function(i,c){return 16777216*i[c]+(i[c+1]<<16|i[c+2]<<8|i[c+3])},writeUint:function(i,c,t){i[c]=t>>24&255,i[c+1]=t>>16&255,i[c+2]=t>>8&255,i[c+3]=255&t},readASCII:function(i,c,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(i[c+n]);return e},writeASCII:function(i,c,t){for(var e=0;e<t.length;e++)i[c+e]=t.charCodeAt(e)},readBytes:function(i,c,t){for(var e=[],n=0;n<t;n++)e.push(i[c+n]);return e},pad:function(i){return i.length<2?"0".concat(i):i},readUTF8:function(i,c,t){for(var e,n="",s=0;s<t;s++)n+="%".concat(UPNG._bin.pad(i[c+s].toString(16)));try{e=decodeURIComponent(n)}catch{return UPNG._bin.readASCII(i,c,t)}return e}},UPNG._copyTile=function(r,i,c,t,e,n,s,a,l){for(var f=Math.min(i,e),m=Math.min(c,n),h=0,d=0,u=0;u<m;u++)for(var g=0;g<f;g++)if(s>=0&&a>=0?(h=u*i+g<<2,d=(a+u)*e+s+g<<2):(h=(-a+u)*i-s+g<<2,d=u*e+g<<2),l==0)t[d]=r[h],t[d+1]=r[h+1],t[d+2]=r[h+2],t[d+3]=r[h+3];else if(l==1){var U=r[h+3]*.00392156862745098,w=r[h]*U,I=r[h+1]*U,y=r[h+2]*U,p=t[d+3]*(1/255),F=t[d]*p,b=t[d+1]*p,v=t[d+2]*p,P=1-U,A=U+p*P,C=A==0?0:1/A;t[d+3]=255*A,t[d+0]=(w+F*P)*C,t[d+1]=(I+b*P)*C,t[d+2]=(y+v*P)*C}else if(l==2)U=r[h+3],w=r[h],I=r[h+1],y=r[h+2],p=t[d+3],F=t[d],b=t[d+1],v=t[d+2],U==p&&w==F&&I==b&&y==v?(t[d]=0,t[d+1]=0,t[d+2]=0,t[d+3]=0):(t[d]=w,t[d+1]=I,t[d+2]=y,t[d+3]=U);else if(l==3){if(U=r[h+3],w=r[h],I=r[h+1],y=r[h+2],p=t[d+3],F=t[d],b=t[d+1],v=t[d+2],U==p&&w==F&&I==b&&y==v)continue;if(U<220&&p>20)return!1}return!0},UPNG.encode=function(r,i,c,t,e,n,s){t==null&&(t=0),s==null&&(s=!1);var a=UPNG.encode.compress(r,i,c,t,[!1,!1,!1,0,s]);return UPNG.encode.compressPNG(a,-1),UPNG.encode._main(a,i,c,e,n)},UPNG.encodeLL=function(r,i,c,t,e,n,s,a){for(var l={ctype:0+(t==1?0:2)+(e==0?0:4),depth:n,frames:[]},f=(t+e)*n,m=f*i,h=0;h<r.length;h++)l.frames.push({rect:{x:0,y:0,width:i,height:c},img:new Uint8Array(r[h]),blend:0,dispose:1,bpp:Math.ceil(f/8),bpl:Math.ceil(m/8)});return UPNG.encode.compressPNG(l,0,!0),UPNG.encode._main(l,i,c,s,a)},UPNG.encode._main=function(r,i,c,t,e){e==null&&(e={});var n=UPNG.crc.crc,s=UPNG._bin.writeUint,a=UPNG._bin.writeUshort,l=UPNG._bin.writeASCII,f=8,m=r.frames.length>1,h=!1,d=33+(m?20:0);if(e.sRGB!=null&&(d+=13),e.pHYs!=null&&(d+=21),r.ctype==3){for(var u=r.plte.length,g=0;g<u;g++)r.plte[g]>>>24!=255&&(h=!0);d+=8+3*u+4+(h?8+1*u+4:0)}for(var U=0;U<r.frames.length;U++)m&&(d+=38),d+=(A=r.frames[U]).cimg.length+12,U!=0&&(d+=4);d+=12;var w=new Uint8Array(d),I=[137,80,78,71,13,10,26,10];for(g=0;g<8;g++)w[g]=I[g];if(s(w,f,13),l(w,f+=4,"IHDR"),s(w,f+=4,i),s(w,f+=4,c),w[f+=4]=r.depth,w[++f]=r.ctype,w[++f]=0,w[++f]=0,w[++f]=0,s(w,++f,n(w,f-17,17)),f+=4,e.sRGB!=null&&(s(w,f,1),l(w,f+=4,"sRGB"),w[f+=4]=e.sRGB,s(w,++f,n(w,f-5,5)),f+=4),e.pHYs!=null&&(s(w,f,9),l(w,f+=4,"pHYs"),s(w,f+=4,e.pHYs[0]),s(w,f+=4,e.pHYs[1]),w[f+=4]=e.pHYs[2],s(w,++f,n(w,f-13,13)),f+=4),m&&(s(w,f,8),l(w,f+=4,"acTL"),s(w,f+=4,r.frames.length),s(w,f+=4,e.loop!=null?e.loop:0),s(w,f+=4,n(w,f-12,12)),f+=4),r.ctype==3){for(s(w,f,3*(u=r.plte.length)),l(w,f+=4,"PLTE"),f+=4,g=0;g<u;g++){var y=3*g,p=r.plte[g],F=255&p,b=p>>>8&255,v=p>>>16&255;w[f+y+0]=F,w[f+y+1]=b,w[f+y+2]=v}if(s(w,f+=3*u,n(w,f-3*u-4,3*u+4)),f+=4,h){for(s(w,f,u),l(w,f+=4,"tRNS"),f+=4,g=0;g<u;g++)w[f+g]=r.plte[g]>>>24&255;s(w,f+=u,n(w,f-u-4,u+4)),f+=4}}var P=0;for(U=0;U<r.frames.length;U++){var A=r.frames[U];m&&(s(w,f,26),l(w,f+=4,"fcTL"),s(w,f+=4,P++),s(w,f+=4,A.rect.width),s(w,f+=4,A.rect.height),s(w,f+=4,A.rect.x),s(w,f+=4,A.rect.y),a(w,f+=4,t[U]),a(w,f+=2,1e3),w[f+=2]=A.dispose,w[++f]=A.blend,s(w,++f,n(w,f-30,30)),f+=4);var C=A.cimg;s(w,f,(u=C.length)+(U==0?0:4));var _=f+=4;l(w,f,U==0?"IDAT":"fdAT"),f+=4,U!=0&&(s(w,f,P++),f+=4),w.set(C,f),s(w,f+=u,n(w,_,f-_)),f+=4}return s(w,f,0),l(w,f+=4,"IEND"),s(w,f+=4,n(w,f-4,4)),f+=4,w.buffer},UPNG.encode.compressPNG=function(r,i,c){for(var t=0;t<r.frames.length;t++){var e=r.frames[t];e.rect.width;var n=e.rect.height,s=new Uint8Array(n*e.bpl+n);e.cimg=UPNG.encode._filterZero(e.img,n,e.bpp,e.bpl,s,i,c)}},UPNG.encode.compress=function(r,i,c,t,e){for(var n=e[0],s=e[1],a=e[2],l=e[3],f=e[4],m=6,h=8,d=255,u=0;u<r.length;u++)for(var g=new Uint8Array(r[u]),U=g.length,w=0;w<U;w+=4)d&=g[w+3];var I=d!=255,y=UPNG.encode.framize(r,i,c,n,s,a),p={},F=[],b=[];if(t!=0){var v=[];for(w=0;w<y.length;w++)v.push(y[w].img.buffer);var P=UPNG.encode.concatRGBA(v),A=UPNG.quantize(P,t),C=0,_=new Uint8Array(A.abuf);for(w=0;w<y.length;w++){var G=(Q=y[w].img).length;for(b.push(new Uint8Array(A.inds.buffer,C>>2,G>>2)),u=0;u<G;u+=4)Q[u]=_[C+u],Q[u+1]=_[C+u+1],Q[u+2]=_[C+u+2],Q[u+3]=_[C+u+3];C+=G}for(w=0;w<A.plte.length;w++)F.push(A.plte[w].est.rgba)}else for(u=0;u<y.length;u++){var E=y[u],O=new Uint32Array(E.img.buffer),R=E.rect.width,Z=(U=O.length,new Uint8Array(U));for(b.push(Z),w=0;w<U;w++){var M=O[w];if(w!=0&&M==O[w-1])Z[w]=Z[w-1];else if(w>R&&M==O[w-R])Z[w]=Z[w-R];else{var S=p[M];if(S==null&&(p[M]=S=F.length,F.push(M),F.length>=300))break;Z[w]=S}}}var B=F.length;for(B<=256&&f==0&&(h=B<=2?1:B<=4?2:B<=16?4:8,h=Math.max(h,l)),u=0;u<y.length;u++){(E=y[u]).rect.x,E.rect.y,R=E.rect.width;var x=E.rect.height,T=E.img;new Uint32Array(T.buffer);var k=4*R,L=4;if(B<=256&&f==0){k=Math.ceil(h*R/8);for(var z=new Uint8Array(k*x),V=b[u],q=0;q<x;q++){w=q*k;var j=q*R;if(h==8)for(var D=0;D<R;D++)z[w+D]=V[j+D];else if(h==4)for(D=0;D<R;D++)z[w+(D>>1)]|=V[j+D]<<4-4*(1&D);else if(h==2)for(D=0;D<R;D++)z[w+(D>>2)]|=V[j+D]<<6-2*(3&D);else if(h==1)for(D=0;D<R;D++)z[w+(D>>3)]|=V[j+D]<<7-1*(7&D)}T=z,m=3,L=1}else if(I==0&&y.length==1){z=new Uint8Array(R*x*3);var K=R*x;for(w=0;w<K;w++){var Q,$=4*w;z[Q=3*w]=T[$],z[Q+1]=T[$+1],z[Q+2]=T[$+2]}T=z,m=2,L=3,k=3*R}E.img=T,E.bpl=k,E.bpp=L}return{ctype:m,depth:h,plte:F,frames:y}},UPNG.encode.framize=function(r,i,c,t,e,n){for(var s=[],a=0;a<r.length;a++){var l,f=new Uint8Array(r[a]),m=new Uint32Array(f.buffer),h=0,d=0,u=i,g=c,U=t?1:0;if(a!=0){for(var w=n||t||a==1||s[a-2].dispose!=0?1:2,I=0,y=1e9,p=0;p<w;p++){for(var F=new Uint8Array(r[a-1-p]),b=new Uint32Array(r[a-1-p]),v=i,P=c,A=-1,C=-1,_=0;_<c;_++)for(var G=0;G<i;G++)m[B=_*i+G]!=b[B]&&(G<v&&(v=G),G>A&&(A=G),_<P&&(P=_),_>C&&(C=_));A==-1&&(v=P=A=C=0),e&&((1&v)==1&&v--,(1&P)==1&&P--);var E=(A-v+1)*(C-P+1);E<y&&(y=E,I=p,h=v,d=P,u=A-v+1,g=C-P+1)}F=new Uint8Array(r[a-1-I]),I==1&&(s[a-1].dispose=2),l=new Uint8Array(u*g*4),UPNG._copyTile(F,i,c,l,u,g,-h,-d,0),(U=UPNG._copyTile(f,i,c,l,u,g,-h,-d,3)?1:0)==1?UPNG.encode._prepareDiff(f,i,c,l,{x:h,y:d,width:u,height:g}):UPNG._copyTile(f,i,c,l,u,g,-h,-d,0)}else l=f.slice(0);s.push({rect:{x:h,y:d,width:u,height:g},img:l,blend:U,dispose:0})}if(t){for(a=0;a<s.length;a++)if((x=s[a]).blend!=1){var O=x.rect,R=s[a-1].rect,Z=Math.min(O.x,R.x),M=Math.min(O.y,R.y),S={x:Z,y:M,width:Math.max(O.x+O.width,R.x+R.width)-Z,height:Math.max(O.y+O.height,R.y+R.height)-M};s[a-1].dispose=1,a-1!=0&&UPNG.encode._updateFrame(r,i,c,s,a-1,S,e),UPNG.encode._updateFrame(r,i,c,s,a,S,e)}}if(r.length!=1)for(var B=0;B<s.length;B++){var x;(x=s[B]).rect.width*x.rect.height}return s},UPNG.encode._updateFrame=function(r,i,c,t,e,n,s){for(var a=Uint8Array,l=Uint32Array,f=new a(r[e-1]),m=new l(r[e-1]),h=e+1<r.length?new a(r[e+1]):null,d=new a(r[e]),u=new l(d.buffer),g=i,U=c,w=-1,I=-1,y=0;y<n.height;y++)for(var p=0;p<n.width;p++){var F=n.x+p,b=n.y+y,v=b*i+F,P=u[v];P==0||t[e-1].dispose==0&&m[v]==P&&(h==null||h[4*v+3]!=0)||(F<g&&(g=F),F>w&&(w=F),b<U&&(U=b),b>I&&(I=b))}w==-1&&(g=U=w=I=0),s&&((1&g)==1&&g--,(1&U)==1&&U--),n={x:g,y:U,width:w-g+1,height:I-U+1};var A=t[e];A.rect=n,A.blend=1,A.img=new Uint8Array(n.width*n.height*4),t[e-1].dispose==0?(UPNG._copyTile(f,i,c,A.img,n.width,n.height,-n.x,-n.y,0),UPNG.encode._prepareDiff(d,i,c,A.img,n)):UPNG._copyTile(d,i,c,A.img,n.width,n.height,-n.x,-n.y,0)},UPNG.encode._prepareDiff=function(r,i,c,t,e){UPNG._copyTile(r,i,c,t,e.width,e.height,-e.x,-e.y,2)},UPNG.encode._filterZero=function(r,i,c,t,e,n,s){var a,l=[],f=[0,1,2,3,4];n!=-1?f=[n]:(i*t>5e5||c==1)&&(f=[0]),s&&(a={level:0});for(var m,h=UZIP,d=0;d<f.length;d++){for(var u=0;u<i;u++)UPNG.encode._filterLine(e,r,u,t,c,f[d]);l.push(h.deflate(e,a))}var g=1e9;for(d=0;d<l.length;d++)l[d].length<g&&(m=d,g=l[d].length);return l[m]},UPNG.encode._filterLine=function(r,i,c,t,e,n){var s=c*t,a=s+c,l=UPNG.decode._paeth;if(r[a]=n,a++,n==0)if(t<500)for(var f=0;f<t;f++)r[a+f]=i[s+f];else r.set(new Uint8Array(i.buffer,s,t),a);else if(n==1){for(f=0;f<e;f++)r[a+f]=i[s+f];for(f=e;f<t;f++)r[a+f]=i[s+f]-i[s+f-e]+256&255}else if(c==0){for(f=0;f<e;f++)r[a+f]=i[s+f];if(n==2)for(f=e;f<t;f++)r[a+f]=i[s+f];if(n==3)for(f=e;f<t;f++)r[a+f]=i[s+f]-(i[s+f-e]>>1)+256&255;if(n==4)for(f=e;f<t;f++)r[a+f]=i[s+f]-l(i[s+f-e],0,0)+256&255}else{if(n==2)for(f=0;f<t;f++)r[a+f]=i[s+f]+256-i[s+f-t]&255;if(n==3){for(f=0;f<e;f++)r[a+f]=i[s+f]+256-(i[s+f-t]>>1)&255;for(f=e;f<t;f++)r[a+f]=i[s+f]+256-(i[s+f-t]+i[s+f-e]>>1)&255}if(n==4){for(f=0;f<e;f++)r[a+f]=i[s+f]+256-l(0,i[s+f-t],0)&255;for(f=e;f<t;f++)r[a+f]=i[s+f]+256-l(i[s+f-e],i[s+f-t],i[s+f-e-t])&255}}},UPNG.crc={table:function(){for(var r=new Uint32Array(256),i=0;i<256;i++){for(var c=i,t=0;t<8;t++)1&c?c=3988292384^c>>>1:c>>>=1;r[i]=c}return r}(),update:function(i,c,t,e){for(var n=0;n<e;n++)i=UPNG.crc.table[255&(i^c[t+n])]^i>>>8;return i},crc:function(i,c,t){return 4294967295^UPNG.crc.update(4294967295,i,c,t)}},UPNG.quantize=function(r,i){var c,t=new Uint8Array(r),e=t.slice(0),n=new Uint32Array(e.buffer),s=UPNG.quantize.getKDtree(e,i),a=s[0],l=s[1],f=UPNG.quantize.planeDst,m=t,h=n,d=m.length,u=new Uint8Array(t.length>>2);if(t.length<2e7)for(var g=0;g<d;g+=4){var U=m[g]*.00392156862745098,w=m[g+1]*(1/255),I=m[g+2]*(1/255),y=m[g+3]*(1/255);c=UPNG.quantize.getNearest(a,U,w,I,y),u[g>>2]=c.ind,h[g>>2]=c.est.rgba}else for(g=0;g<d;g+=4){for(U=m[g]*(1/255),w=m[g+1]*(1/255),I=m[g+2]*(1/255),y=m[g+3]*(1/255),c=a;c.left;)c=f(c.est,U,w,I,y)<=0?c.left:c.right;u[g>>2]=c.ind,h[g>>2]=c.est.rgba}return{abuf:e.buffer,inds:u,plte:l}},UPNG.quantize.getKDtree=function(r,i,c){c==null&&(c=1e-4);var t=new Uint32Array(r.buffer),e={i0:0,i1:r.length,bst:null,est:null,tdst:0,left:null,right:null};e.bst=UPNG.quantize.stats(r,e.i0,e.i1),e.est=UPNG.quantize.estats(e.bst);for(var n=[e];n.length<i;){for(var s=0,a=0,l=0;l<n.length;l++)n[l].est.L>s&&(s=n[l].est.L,a=l);if(s<c)break;var f=n[a],m=UPNG.quantize.splitPixels(r,t,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=m||f.i1<=m)f.est.L=0;else{var h={i0:f.i0,i1:m,bst:null,est:null,tdst:0,left:null,right:null};h.bst=UPNG.quantize.stats(r,h.i0,h.i1),h.est=UPNG.quantize.estats(h.bst);var d={i0:m,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:f.bst.N-h.bst.N},l=0;l<16;l++)d.bst.R[l]=f.bst.R[l]-h.bst.R[l];for(l=0;l<4;l++)d.bst.m[l]=f.bst.m[l]-h.bst.m[l];d.est=UPNG.quantize.estats(d.bst),f.left=h,f.right=d,n[a]=h,n.push(d)}}for(n.sort(function(u,g){return g.bst.N-u.bst.N}),l=0;l<n.length;l++)n[l].ind=l;return[e,n]},UPNG.quantize.getNearest=function(r,i,c,t,e){if(r.left==null)return r.tdst=UPNG.quantize.dist(r.est.q,i,c,t,e),r;var n=UPNG.quantize.planeDst(r.est,i,c,t,e),s=r.left,a=r.right;n>0&&(s=r.right,a=r.left);var l=UPNG.quantize.getNearest(s,i,c,t,e);if(l.tdst<=n*n)return l;var f=UPNG.quantize.getNearest(a,i,c,t,e);return f.tdst<l.tdst?f:l},UPNG.quantize.planeDst=function(r,i,c,t,e){var n=r.e;return n[0]*i+n[1]*c+n[2]*t+n[3]*e-r.eMq},UPNG.quantize.dist=function(r,i,c,t,e){var n=i-r[0],s=c-r[1],a=t-r[2],l=e-r[3];return n*n+s*s+a*a+l*l},UPNG.quantize.splitPixels=function(r,i,c,t,e,n){var s=UPNG.quantize.vecDot;for(t-=4;c<t;){for(;s(r,c,e)<=n;)c+=4;for(;s(r,t,e)>n;)t-=4;if(c>=t)break;var a=i[c>>2];i[c>>2]=i[t>>2],i[t>>2]=a,c+=4,t-=4}for(;s(r,c,e)>n;)c-=4;return c+4},UPNG.quantize.vecDot=function(r,i,c){return r[i]*c[0]+r[i+1]*c[1]+r[i+2]*c[2]+r[i+3]*c[3]},UPNG.quantize.stats=function(r,i,c){for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0],n=c-i>>2,s=i;s<c;s+=4){var a=r[s]*.00392156862745098,l=r[s+1]*(1/255),f=r[s+2]*(1/255),m=r[s+3]*(1/255);e[0]+=a,e[1]+=l,e[2]+=f,e[3]+=m,t[0]+=a*a,t[1]+=a*l,t[2]+=a*f,t[3]+=a*m,t[5]+=l*l,t[6]+=l*f,t[7]+=l*m,t[10]+=f*f,t[11]+=f*m,t[15]+=m*m}return t[4]=t[1],t[8]=t[2],t[9]=t[6],t[12]=t[3],t[13]=t[7],t[14]=t[11],{R:t,m:e,N:n}},UPNG.quantize.estats=function(r){var i=r.R,c=r.m,t=r.N,e=c[0],n=c[1],s=c[2],a=c[3],l=t==0?0:1/t,f=[i[0]-e*e*l,i[1]-e*n*l,i[2]-e*s*l,i[3]-e*a*l,i[4]-n*e*l,i[5]-n*n*l,i[6]-n*s*l,i[7]-n*a*l,i[8]-s*e*l,i[9]-s*n*l,i[10]-s*s*l,i[11]-s*a*l,i[12]-a*e*l,i[13]-a*n*l,i[14]-a*s*l,i[15]-a*a*l],m=f,h=UPNG.M4,d=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,g=0;if(t!=0)for(var U=0;U<16&&(d=h.multVec(m,d),g=Math.sqrt(h.dot(d,d)),d=h.sml(1/g,d),!(U!=0&&Math.abs(g-u)<1e-9));U++)u=g;var w=[e*l,n*l,s*l,a*l];return{Cov:f,q:w,e:d,L:u,eMq255:h.dot(h.sml(255,w),d),eMq:h.dot(d,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2])<<16|Math.round(255*w[1])<<8|Math.round(255*w[0])<<0)>>>0}},UPNG.M4={multVec:function(i,c){return[i[0]*c[0]+i[1]*c[1]+i[2]*c[2]+i[3]*c[3],i[4]*c[0]+i[5]*c[1]+i[6]*c[2]+i[7]*c[3],i[8]*c[0]+i[9]*c[1]+i[10]*c[2]+i[11]*c[3],i[12]*c[0]+i[13]*c[1]+i[14]*c[2]+i[15]*c[3]]},dot:function(i,c){return i[0]*c[0]+i[1]*c[1]+i[2]*c[2]+i[3]*c[3]},sml:function(i,c){return[i*c[0],i*c[1],i*c[2],i*c[3]]}},UPNG.encode.concatRGBA=function(r){for(var i=0,c=0;c<r.length;c++)i+=r[c].byteLength;var t=new Uint8Array(i),e=0;for(c=0;c<r.length;c++){for(var n=new Uint8Array(r[c]),s=n.length,a=0;a<s;a+=4){var l=n[a],f=n[a+1],m=n[a+2],h=n[a+3];h==0&&(l=f=m=0),t[e+a]=l,t[e+a+1]=f,t[e+a+2]=m,t[e+a+3]=h}e+=s}return t.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window<"u",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(r,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(t){for(var e=r.split(","),n=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]),a=s.length,l=new Uint8Array(a);a--;)l[a]=s.charCodeAt(a);var f=new Blob([l],{type:n});f.name=i,f.lastModified=c,t(f)})}function getDataUrlFromFile(r){return new Promise(function(i,c){var t=new CustomFileReader;t.onload=function(){return i(t.result)},t.onerror=function(e){return c(e)},t.readAsDataURL(r)})}function loadImage(r){return new Promise(function(i,c){var t=new Image;t.onload=function(){return i(t)},t.onerror=function(e){return c(e)},t.src=r})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var r=BROWSER_NAME.ETC,i=navigator.userAgent;return/Chrom(e|ium)/i.test(i)?r=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(i)&&/WebKit/i.test(i)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(i)?r=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(i)?r=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(i)?r=BROWSER_NAME.FIREFOX:(/MSIE/i.test(i)||document.documentMode)&&(r=BROWSER_NAME.IE),getBrowserName.cachedResult=r,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(r,i){for(var c=getBrowserName(),t=MAX_CANVAS_SIZE[c],e=r,n=i,s=e*n,a=e>n?n/e:e/n;s>t*t;){var l=(t+e)/2,f=(t+n)/2;l<f?(n=f,e=f*a):(n=l*a,e=l),s=e*n}return{width:e,height:n}}function getNewCanvasAndCtx(r,i){var c,t;try{if((t=(c=new OffscreenCanvas(r,i)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=(c=document.createElement("canvas")).getContext("2d")}return c.width=r,c.height=i,[c,t]}function drawImageInCanvas(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=approximateBelowMaximumCanvasSizeOfBrowser(r.width,r.height),t=c.width,e=c.height,n=getNewCanvasAndCtx(t,e),s=_slicedToArray(n,2),a=s[0],l=s[1];return i&&/jpe?g/.test(i)&&(l.fillStyle="white",l.fillRect(0,0,a.width,a.height)),l.drawImage(r,0,0,a.width,a.height),a}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(c,t){var e,n,s=function(){try{return n=drawImageInCanvas(e,i.fileType||r.type),c([e,n])}catch(f){return t(f)}},a=function(f){try{var m=function(d){try{throw d}catch(u){return t(u)}};try{return getDataUrlFromFile(r).then(function(h){try{return loadImage(h).then(function(d){try{return e=d,function(){try{return s()}catch(g){return t(g)}}()}catch(u){return m(u)}},m)}catch(d){return m(d)}},m)}catch(h){m(h)}}catch(h){return t(h)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(l){try{return e=l,s()}catch{return a()}},a)}catch{a()}})}function canvasToFile$1(r,i,c,t){var e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(n,s){var a,l,f;if(i==="image/png")return l=r.getContext("2d").getImageData(0,0,r.width,r.height).data,f=UPNG.encode([l],r.width,r.height,256*e),(a=new Blob([f],{type:i})).name=c,a.lastModified=t,m.call(this);{let h=function(){return m.call(this)};return typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas?r.convertToBlob({type:i,quality:e}).then((function(d){try{return(a=d).name=c,a.lastModified=t,h.call(this)}catch(u){return s(u)}}).bind(this),s):getFilefromDataUrl(r.toDataURL(i,e),c,t).then((function(d){try{return a=d,h.call(this)}catch(u){return s(u)}}).bind(this),s)}function m(){return n(a)}})}function cleanupCanvasMemory(r){r.width=0,r.height=0}function isAutoOrientationInBrowser(){return new Promise(function(r,i){var c,t,e,n;return isAutoOrientationInBrowser.cachedResult!==void 0?r(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return drawFileInCanvas(c=s).then(function(a){try{return canvasToFile$1(t=a[1],c.type,c.name,c.lastModified).then(function(l){try{return e=l,cleanupCanvasMemory(t),drawFileInCanvas(e).then(function(f){try{return n=f[0],isAutoOrientationInBrowser.cachedResult=n.width===1&&n.height===2,r(isAutoOrientationInBrowser.cachedResult)}catch(m){return i(m)}},i)}catch(f){return i(f)}},i)}catch(l){return i(l)}},i)}catch(a){return i(a)}},i)})}function getExifOrientation(r){return new Promise(function(i,c){var t=new CustomFileReader;t.onload=function(e){var n=new DataView(e.target.result);if(n.getUint16(0,!1)!=65496)return i(-2);for(var s=n.byteLength,a=2;a<s;){if(n.getUint16(a+2,!1)<=8)return i(-1);var l=n.getUint16(a,!1);if(a+=2,l==65505){if(n.getUint32(a+=2,!1)!=1165519206)return i(-1);var f=n.getUint16(a+=6,!1)==18761;a+=n.getUint32(a+4,f);var m=n.getUint16(a,f);a+=2;for(var h=0;h<m;h++)if(n.getUint16(a+12*h,f)==274)return i(n.getUint16(a+12*h+8,f))}else{if((65280&l)!=65280)break;a+=n.getUint16(a,!1)}}return i(-1)},t.onerror=function(e){return c(e)},t.readAsArrayBuffer(r)})}function handleMaxWidthOrHeight(r,i){var c,t=r.width,e=r.height,n=i.maxWidthOrHeight,s=r;if(isFinite(n)&&(t>n||e>n)){var a=_slicedToArray(getNewCanvasAndCtx(t,e),2);s=a[0],c=a[1],t>e?(s.width=n,s.height=e/t*n):(s.width=t/e*n,s.height=n),c.drawImage(r,0,0,s.width,s.height),cleanupCanvasMemory(r)}return s}function followExifOrientation(r,i){var c=r.width,t=r.height,e=_slicedToArray(getNewCanvasAndCtx(c,t),2),n=e[0],s=e[1];switch(i>4&&i<9?(n.width=t,n.height=c):(n.width=c,n.height=t),i){case 2:s.transform(-1,0,0,1,c,0);break;case 3:s.transform(-1,0,0,-1,c,t);break;case 4:s.transform(1,0,0,-1,0,t);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,t,0);break;case 7:s.transform(0,-1,-1,0,t,c);break;case 8:s.transform(0,-1,1,0,0,c)}return s.drawImage(r,0,0,c,t),cleanupCanvasMemory(r),n}function compress(r,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(t,e){var n,s,a,l,f,m,h,d,u,g,U,w,I,y,p,F,b,v,P;function A(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(i.signal&&i.signal.aborted)throw i.signal.reason;n+=_,i.onProgress(Math.min(n,100))}function C(_){if(i.signal&&i.signal.aborted)throw i.signal.reason;n=Math.min(Math.max(_,n),100),i.onProgress(n)}return n=c,s=i.maxIteration||10,a=1024*i.maxSizeMB*1024,A(),drawFileInCanvas(r,i).then((function(_){try{var G=_slicedToArray(_,2);return l=G[1],A(),f=handleMaxWidthOrHeight(l,i),A(),new Promise(function(E,O){var R;if(!(R=i.exifOrientation))return getExifOrientation(r).then((function(M){try{return R=M,Z.call(this)}catch(S){return O(S)}}).bind(this),O);function Z(){return E(R)}return Z.call(this)}).then((function(E){try{return m=E,A(),isAutoOrientationInBrowser().then((function(O){try{return h=O?f:followExifOrientation(f,m),A(),d=i.initialQuality||1,u=i.fileType||r.type,canvasToFile$1(h,u,r.name,r.lastModified,d).then((function(R){try{{let M=function(){if(s--&&(p>a||p>I)){var B,x,T=_slicedToArray(getNewCanvasAndCtx(B=P?.95*v.width:v.width,x=P?.95*v.height:v.height),2);return b=T[0],T[1].drawImage(v,0,0,B,x),d*=.95,canvasToFile$1(b,u,r.name,r.lastModified,d).then(function(k){try{return F=k,cleanupCanvasMemory(v),v=b,p=F.size,C(Math.min(99,Math.floor((y-p)/(y-a)*100))),M}catch(L){return e(L)}},e)}return[1]},S=function(){return cleanupCanvasMemory(v),cleanupCanvasMemory(b),cleanupCanvasMemory(f),cleanupCanvasMemory(h),cleanupCanvasMemory(l),C(100),t(F)};if(g=R,A(),U=g.size>a,w=g.size>r.size,!U&&!w)return C(100),t(g);var Z;return I=r.size,y=g.size,p=y,v=h,P=!i.alwaysKeepResolution&&U,(Z=(function(B){for(;B;){if(B.then)return void B.then(Z,e);try{if(B.pop){if(B.length)return B.pop()?S.call(this):B;B=M}else B=B.call(this)}catch(x){return e(x)}}}).bind(this))(M)}}catch(M){return e(M)}}).bind(this),e)}catch(R){return e(R)}}).bind(this),e)}catch(O){return e(O)}}).bind(this),e)}catch(E){return e(E)}}).bind(this),e)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(r){var i=[];return i.push(r),new Worker(URL.createObjectURL(new Blob(i)))}function createSourceObject(r){return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))}function stringify(r){return JSON.stringify(r,function(i,c){return typeof c=="function"?"BIC_FN:::(function () { return ".concat(c.toString()," })()"):c})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(r){throw r}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(r,i){return new Promise(function(c,t){var e=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function n(s){if(s.data.id===e){if(i.signal&&i.signal.aborted)return;if(s.data.progress!==void 0)return void i.onProgress(s.data.progress);worker.removeEventListener("message",n),s.data.error&&t(new Error(s.data.error)),c(s.data.file)}}),worker.addEventListener("error",t),i.signal&&i.signal.addEventListener("abort",function(){worker.terminate(),t(i.signal.reason)}),worker.postMessage({file:r,id:e,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},i),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(r,i){return new Promise(function(c,t){var e,n,s,a,l,f;if(e=_objectSpread2({},i),s=0,a=e.onProgress,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=function(u){s=u,typeof a=="function"&&a(s)},!(r instanceof Blob||r instanceof CustomFile))return t(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return t(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||f)return compress(r,e).then((function(u){try{return n=u,d.call(this)}catch(g){return t(g)}}).bind(this),t);var m=(function(){try{return d.call(this)}catch(u){return t(u)}}).bind(this),h=function(g){try{return compress(r,e).then(function(U){try{return n=U,m()}catch(w){return t(w)}},t)}catch(U){return t(U)}};try{return compressOnWebWorker(r,e).then(function(u){try{return n=u,m()}catch{return h()}},h)}catch{h()}function d(){try{n.name=r.name,n.lastModified=r.lastModified}catch{}return c(n)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile$1,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";function getImageUrlDimensionOrThrow(r){return new Promise((i,c)=>{const t=new Image;t.onload=()=>i({height:t.height,width:t.width}),t.onerror=c,t.src=r})}async function getImageUrlDimension(r){try{return await getImageUrlDimensionOrThrow(r)}catch{return}}const getCompressedDimensions=r=>{if(!r)return{height:void 0,width:void 0};const{height:i,width:c}=r;if(c==null||i==null||isNaN(c)||isNaN(i))return{height:void 0,width:void 0};const t=r.divisibleBy??1,e=r.maxEdge??1024,n=Math.max(i,c),s=Math.min(i,c),a=n>e?e/n:1,l=Math.floor(n*a/t)*t,f=Math.floor(s*a/t)*t;return i>c?{height:l,width:f}:{width:l,height:f}},compressImage=async(r,i)=>await imageCompression.drawFileInCanvas(await imageCompression(r,{maxWidthOrHeight:1024,maxSizeMB:1,useWebWorker:!0,fileType:"image/png",...i})),resizeImage=async(r,i,c)=>{const[t]=await compressImage(r),e=document.createElement("canvas");e.width=i,e.height=c,e.hidden=!0;const n=e.getContext("2d",{alpha:!1});if(!n)throw new Error("Failed to get context of canvas");n.drawImage(t,0,0,i,c);const s=await new Promise(a=>e.toBlob(a));if(!s)throw new Error("Failed to convert canvas to blob");return new File([s],r.name,{type:"image/png"})},isOffscreenCanvas=r=>typeof window.OffscreenCanvas=="function"&&r instanceof window.OffscreenCanvas,canvasToFile=async(r,i)=>{const c=isOffscreenCanvas(r)?await r.convertToBlob():await new Promise(e=>{r.toBlob(e)});return c?new File([c],i,{type:"image/png"}):void 0},canvasToBlob=r=>isOffscreenCanvas(r)?r.convertToBlob():new Promise(i=>{r.toBlob(i)});export{getCompressedDimensions as a,getImageUrlDimensionOrThrow as b,canvasToFile as c,isOffscreenCanvas as d,canvasToBlob as e,getImageUrlDimension as g,imageCompression as i,resizeImage as r};
//# sourceMappingURL=imageUtil-NFh1c57i.js.map
