import{j as r}from"./vendor-motion-Bl2lDopP.js";import{s as c}from"./index-BzVQ0Lfs.js";import{bB as x,bC as k,bD as A,bE as T,bF as j,bG as M,j as D,bH as E,bI as v,bJ as _,bw as d,a6 as l,bK as I,bL as u,bM as L,L as P,ak as U,bN as N,bO as R,bc as C}from"./index-JhqgbpkX.js";import{u as O}from"./vendor-i18next-TC5y0B3W.js";import{a as S,N as m}from"./vendor-react-router-Bm0RsDwP.js";import"./vendor-apollo-B9XqHIAo.js";import"./vendor-graphql-DeSYh9DC.js";import"./vendor-amplitude-core-CQMkGYFj.js";import"./vendor-mui-DTp04zm4.js";import"./vendor-firebase-BKQqa5bK.js";import"./vendor-axios-CFwfAwt2.js";import"./vendor-lodash-992l3ZN7.js";import"./vendor-sentry-BZZLy1DV.js";import"./vendor-react-aria-BW9JtD2p.js";import"./vendor-markdown-1uD3znr6.js";import"./i18n-resources-43uzMSBc.js";import"./vendor-hls-cbDBXQj9.js";import"./vendor-tldraw-CaaMemrL.js";import"./vendor-fabric-Bg02ktlP.js";import"./vendor-radix-ui-DX5JiNHB.js";import"./vendor-photoswipe-UqzIRFho.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"0ec442be81a4ee21bfcf5745e8ef10bc76836958"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="85821049-a4a0-4be6-b67f-068dcc31a18e",t._sentryDebugIdIdentifier="sentry-dbid-85821049-a4a0-4be6-b67f-068dcc31a18e")})()}catch{}(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t._sentryModuleMetadata=t._sentryModuleMetadata||{},t._sentryModuleMetadata[new t.Error().stack]=function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];if(i!=null)for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}({},t._sentryModuleMetadata[new t.Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}catch{}})();const F=/^(?:\/(?<lang>\w+))?\/(?<type>artwork|video)\/(?<id>\d+)(?:-(?<slug>[^/]+)?)?$/i;function J(t){const{pathname:e}=new URL(t,"https://example.com"),a=F.exec(e);if(a?.groups)return{type:a.groups.type,id:a.groups.id,slug:a.groups.slug}}const K=()=>{const{t}=O(["common","artwork"]),e=S(),{id:a,slug:i,type:n}=J(x(e.pathname)),{data:o,loading:g,error:s}=k(a),p=o&&A(T(o)),f=j(t,o),b=M(t,o),y=r.jsxs(r.Fragment,{children:[r.jsx(D,{content:f}),r.jsx(E,{content:b}),r.jsx(v,{media:o?.media}),r.jsx(_,{pathname:o?d(o):""})]}),w=s?l(s)?I(t,{errName:l(s),i18nKeyPrefix:"artwork:"}):s.message:"Artwork does not exist";if(o&&u(o)){const h=d(o);if(!e.pathname.startsWith(h))return r.jsx(m,{to:d(o),replace:!0})}return r.jsxs(r.Fragment,{children:[y,o?!i&&p?r.jsx(m,{to:`/${n}/${o.id}-${p}`,replace:!0}):r.jsxs(r.Fragment,{children:[r.jsx(W,{artwork:o}),r.jsx(L,{artwork:o,isSinglePage:!0})]}):g?r.jsx(P,{}):r.jsx(U,{description:w})]})};function W(t){const{artwork:e}=t,a=u(e),i=N(e.media),n={"@context":"https://schema.org",acquireLicensePage:"https://pixai.art/feedback",license:"https://pixai.art/terms",contentUrl:a?R(e.videoMediaId,"orig"):i,creator:{"@type":"Person",name:C(e.author)}};return a?r.jsx(c.JsonLd,{item:{...n,"@type":"VideoObject",name:e.title.trim()||"PixAI Animation",thumbnailUrl:i,uploadDate:e.createdAt,description:e.extra?.description,interactionStatistic:{"@type":"InteractionCounter",interactionType:{"@type":"WatchAction"},userInteractionCount:e.views}}}):r.jsx(c.JsonLd,{item:{...n,"@type":"ImageObject"}})}const ct=K;export{ct as Component};
