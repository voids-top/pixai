import{j as r,hO as y,T as x,b0 as w,K as m,e as i,c0 as I,gR as h,aP as j}from"./index-BTMYyhc6.js";import{M as b}from"./MediaPreview-CrisSWrJ.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[a]="520bb387-4275-4467-96c8-5a39ebe3f220",n._sentryDebugIdIdentifier="sentry-dbid-520bb387-4275-4467-96c8-5a39ebe3f220")}catch{}})();{var p=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};p._sentryModuleMetadata=p._sentryModuleMetadata||{},p._sentryModuleMetadata[new Error().stack]=Object.assign({},p._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}const g=()=>{const[n,a]=i.useState(""),[t,u]=i.useState(""),l=i.useCallback(I(e=>u(e),200),[]),f=i.useCallback(e=>{const o=e.target.value;a(o),l(o)},[]),{data:c,isValidating:s}=h({first:20,q:t,feed:"auto_complete"}),d=i.useMemo(()=>j(c),[c]);return{inputValue:n,onInputChange:f,tags:d,loading:s}},v=({className:n,...a},t)=>r.jsxs("li",{...a,className:m("flex gap-2",n),children:[t.media||t.mediaId?r.jsx(b,{className:"w-6 h-6 rounded-full",media:t.media,mediaId:t.mediaId}):null,r.jsx("div",{children:t.name})]}),k=({value:n,onChange:a,textFieldProps:t})=>{const{inputValue:u,onInputChange:l,tags:f,loading:c}=g();return r.jsx(y,{disablePortal:!0,autoSelect:!0,multiple:!0,freeSolo:!0,value:n,onChange:(s,d)=>a(d),options:f,onInputChange:(s,d)=>{const e=d.split(",");e.length>1?(a((n??[]).concat(e).filter(o=>!!o)),l({target:{value:""}})):l({target:{value:d}})},inputValue:u,renderInput:s=>r.jsx(x,{value:u,...s,...t}),loading:c,renderOption:v,renderTags:(s,d)=>r.jsx(r.Fragment,{children:s.map((e,o)=>r.jsx(w,{...d({index:o}),avatar:e!=null&&e.media||e!=null&&e.mediaId?r.jsx(b,{className:"rounded-full",media:e.media,mediaId:e.mediaId}):void 0,label:r.jsx("span",{className:m({"text-orange-500":e.isContest},"text-sm"),children:(e==null?void 0:e.name)||e||""})}))}),getOptionLabel:s=>typeof s=="string"?s:s.name})};export{k as T};
//# sourceMappingURL=TagSelect-D6CyfPkY.js.map
