import{j as r}from"./vendor-motion-Bl2lDopP.js";import{r as o,s as b}from"./vendor-apollo-B9XqHIAo.js";import{fd as g,by as p,b0 as m,jD as w,P as h}from"./index-JhqgbpkX.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};n.SENTRY_RELEASE={id:"0ec442be81a4ee21bfcf5745e8ef10bc76836958"}}catch{}})();try{(function(){var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new n.Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="92de3521-8df4-41e0-9e7e-8d28ce31da54",n._sentryDebugIdIdentifier="sentry-dbid-92de3521-8df4-41e0-9e7e-8d28ce31da54")})()}catch{}(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};n._sentryModuleMetadata=n._sentryModuleMetadata||{},n._sentryModuleMetadata[new n.Error().stack]=function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];if(s!=null)for(var t in s)s.hasOwnProperty(t)&&(e[t]=s[t])}return e}({},n._sentryModuleMetadata[new n.Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}catch{}})();const x=o.forwardRef(function(e,a){const[s,t]=o.useState(),{data:l=typeof s=="string"?void 0:s}=g(typeof s=="string"?s:b),u=o.useCallback(d=>{e.afterPublish?.(d),p(d,{trackingArgs:{scene:e.scene}})},[e.scene,e.afterPublish]),[c,f]=o.useState();function i(){e.onClose?.(),t(void 0),f(void 0)}return o.useImperativeHandle(a,()=>({open:(d,y)=>{t(d),f(y)},close:i}),[]),r.jsx(m,{open:!!s,onClose:i,dismissable:!0,className:"w-[400px] max-w-screen-msm",...e.dialogProps,children:l?r.jsx(w,{task:l,mediaIdx:c,afterPublish:u,scene:e.scene,onSuccess:i,initialValues:e.formInit,formProps:e.formProps}):r.jsx(h,{})})});export{x as T};
