import{c7 as b,c8 as y,e as j,j as t,u as w,K as o,Q as N,C as _}from"./index-BTMYyhc6.js";import{u as k}from"./useIsomorphicLayoutEffect-1Q5YRNQV.js";import{U as E}from"./index-m6nh9vV8.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6883aec6-4dce-4f28-8a82-b86514e0a1d4",e._sentryDebugIdIdentifier="sentry-dbid-6883aec6-4dce-4f28-8a82-b86514e0a1d4")}catch{}})();{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};l._sentryModuleMetadata=l._sentryModuleMetadata||{},l._sentryModuleMetadata[new Error().stack]=Object.assign({},l._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}var L=function(e){b(n,e);function n(a){var s=e.call(this)||this;return s._value=a,s}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(a){var s=e.prototype._subscribe.call(this,a);return!s.closed&&a.next(this._value),s},n.prototype.getValue=function(){var a=this,s=a.hasError,r=a.thrownError,i=a._value;if(s)throw r;return this._throwIfClosed(),i},n.prototype.next=function(a){e.prototype.next.call(this,this._value=a)},n}(y);function U(e,n){var a=j.useState(n),s=a[0],r=a[1];return k(function(){var i=e.subscribe(r);return function(){return i.unsubscribe()}},[e]),s}const C=e=>t.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:t.jsx("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"})}),S=e=>(e==null?void 0:e.displayName)||(e==null?void 0:e.username),A=({user:e,name:n,size:a=28,showName:s=!0,showUserName:r=!1,leftAnchor:i,loading:c,enableLink:m=!0,showFollow:d=!1,target:h,className:p,linkClassName:x,scene:g})=>{const v=n||S(e),{t:u}=w(["common"]),f=t.jsxs("div",{className:"flex gap-1 items-center",children:[i,t.jsx("div",{className:"no-underline shrink-0",children:c?t.jsx("div",{className:"rounded-full bg-active animate-pulse",style:{width:a,height:a}}):e?t.jsx(E,{user:e,style:{width:a,height:a}}):t.jsx(C,{className:"size-6"})}),s?c?t.jsx("div",{className:"min-w-[100px] h-4 bg-active animate-pulse"}):t.jsxs("div",{className:o("flex flex-col min-w-0",d?"ml-3 gap-2":"ml-1"),children:[t.jsxs("div",{className:"flex flex-col gap-0",children:[t.jsx("p",{className:o("truncate text-base font-semibold group-hover:underline decoration-current",p),children:v}),(e==null?void 0:e.username)&&r&&t.jsxs("div",{className:o("truncate text-sm group-hover:underline decoration-current text-gray-500"),children:["@",e==null?void 0:e.username]})]}),d&&t.jsx("div",{className:"",children:t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("span",{className:"font-bold",children:((e==null?void 0:e.followingCount)||0).toLocaleString()}),t.jsx("span",{className:"text-sm text-primary-light",children:u("user:following-count-label")})]}),t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("span",{className:"font-bold",children:((e==null?void 0:e.followerCount)||0).toLocaleString()}),t.jsx("span",{className:"text-sm text-primary-light",children:u("user:follower-count-label")})]})]})})]}):null]});return e&&e.username&&m?t.jsx(N,{to:`/@${e.username}`,target:h,className:o("group no-underline",x),onClick:()=>{_("user_avatar_click",{scene:g})},children:f}):f};export{L as B,A as U,S as g,U as u};
//# sourceMappingURL=UserLink-D-ltrUye.js.map
