import{u as g,j as e,K as h,B as v,c$ as A,ad as L,e as u,aP as F,L as K}from"./index-BTMYyhc6.js";import{B as V}from"./ButtonGroup-DYBxluzJ.js";import{g as H}from"./cursorPagingUtils-YTUXhLAt.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="67ac7044-6cab-4f03-9105-15bb8bece16b",s._sentryDebugIdIdentifier="sentry-dbid-67ac7044-6cab-4f03-9105-15bb8bece16b")}catch{}})();{var m=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};m._sentryModuleMetadata=m._sentryModuleMetadata||{},m._sentryModuleMetadata[new Error().stack]=Object.assign({},m._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:pixai-web-app-key":!0})}const O=({pageInfo:s,isPosSeq:t,className:c,btnGroupClassName:b,onChange:r,onClickPrev:d,onClickNext:n})=>{const{t:a}=g(["action"]);return e.jsx("div",{className:h("flex justify-center m-8",c),children:e.jsxs(V,{className:h(b),children:[e.jsx(v,{variant:"outlined",size:"small",disabled:t?!(s!=null&&s.hasPreviousPage):!(s!=null&&s.hasNextPage),onClick:()=>{d==null||d(),r==null||r(t?{before:s==null?void 0:s.startCursor,after:null}:{before:null,after:s==null?void 0:s.endCursor})},className:"w-24",startIcon:e.jsx(A,{className:"size-6"}),children:e.jsx("span",{className:"capitalize",children:a("action:previous")})}),e.jsx(v,{variant:"outlined",size:"small",disabled:t?!(s!=null&&s.hasNextPage):!(s!=null&&s.hasPreviousPage),onClick:()=>{n==null||n(),r==null||r(t?{after:s==null?void 0:s.endCursor,before:null}:{after:null,before:s==null?void 0:s.startCursor})},className:"w-24",endIcon:e.jsx(L,{className:"size-6"}),children:e.jsx("span",{className:"capitalize",children:a("action:next")})})]})})},P=u.createContext({mutate:async()=>{}}),J=()=>u.useContext(P),Q=s=>{const{before:t,after:c,onCursorChange:b,useSWR:r,getConnection:d,extraArgs:n,isPosSeq:a,pageSize:C,renderContainer:N=({children:o})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o}),renderItem:z,PagingButton:_=O,loading:D=e.jsx(K,{}),empty:E,renderError:x,pagingRef:M,onDataChange:R=()=>{}}=s,{data:i,isValidating:f,mutate:j,error:w}=r({...H({before:t,after:c,pageSize:C,isPosSeq:a}),...n});u.useEffect(()=>{R(i)},[i]);const l=d(i),B=u.useMemo(()=>{const o=F(l);return a?o:o.reverse()},[i]),y=u.useMemo(()=>({mutate:j,data:i}),[j,i]);return u.useImperativeHandle(M,()=>y,[y]),e.jsx(P.Provider,{value:y,children:B.length>0?e.jsxs(e.Fragment,{children:[N({children:B.map(z)}),e.jsx(_,{pageInfo:l==null?void 0:l.pageInfo,onChange:b,isPosSeq:a})]}):f?D:w&&(x==null?void 0:x(w))||E})};export{Q as B,O as C,J as u};
//# sourceMappingURL=BaseCursorPaging-CwwekXMf.js.map
